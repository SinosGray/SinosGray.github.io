
<!DOCTYPE html>
<html lang="en" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>计算机系统结构 - Sinos_wei&#39;s blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="
简介
$\frac{a}{b}$




第一章Amdahl 定律
加速比: $S_n = \frac{新速度}{老速度} = \frac{T_o}{T_n}$
$S_n = \frac{1}{(,"> 
    <meta name="author" content="Sinos_wei"> 
    <link rel="alternative" href="atom.xml" title="Sinos_wei&#39;s blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/a33.jpg"> 
    
    
<link rel="stylesheet" href="/css/diaspora.css">

	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Sinos_wei&#39;s blog</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://sinos_wei.gitee.io"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">计算机系统结构</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">计算机系统结构</h1>
        <div class="stuff">
            <span>三月 22, 2021</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/Organization/" rel="tag">Organization</a></li></ul>


        </div>
        <div class="content markdown">
            <blockquote>
<p>简介</p>
<p>$\frac{a}{b}$</p>
</blockquote>
<span id="more"></span>

<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpbhsx1afpj30kq0ciaan.jpg" alt="C158860121CB11859CBAEB3809185D18"></p>
<h1 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h1><h2 id="Amdahl-定律"><a href="#Amdahl-定律" class="headerlink" title="Amdahl 定律"></a>Amdahl 定律</h2><ul>
<li><p>加速比: $S_n = \frac{新速度}{老速度} = \frac{T_o}{T_n}$</p>
<p>$S_n = \frac{1}{(1-F_e) + \frac{F_e}{S_e}}$</p>
<p>推导: $T_n = T_o(1-F_e+\frac{F_e}{S_e})$</p>
<p>S<del>e</del> 改进部分的部件加速比</p>
<p>F<del>e</del> 改进部分原执行时间占原总时间的百分比</p>
<ul>
<li>加快经常性时间</li>
<li>Huffman 编码</li>
</ul>
</li>
</ul>
<h2 id="CPU-性能公式"><a href="#CPU-性能公式" class="headerlink" title="CPU 性能公式"></a>CPU 性能公式</h2><ul>
<li><p>CPU 时间: 一个程序在 CPU 上运行的时间, 不包括 I/O 时间</p>
<ul>
<li>时钟周期时间</li>
<li>程序的时钟周期数<ul>
<li>指令周期数 CPI = 执行程序所需时钟周期数/IC </li>
<li>IC: 执行指令条数</li>
</ul>
</li>
</ul>
<p>CPU 时间 = IC * CPI * 时钟周期时间</p>
<p>CPU 时间 = IC * CPI / 时钟频率</p>
</li>
</ul>
<h2 id="局部性原理"><a href="#局部性原理" class="headerlink" title="局部性原理"></a>局部性原理</h2><ul>
<li>时间</li>
<li>空间 </li>
</ul>
<h2 id="系统评价指标"><a href="#系统评价指标" class="headerlink" title="系统评价指标"></a>系统评价指标</h2><ul>
<li><p>响应时间: 完成一个任务的全部时间(用户角度)</p>
</li>
<li><p>吞吐率: 单位时间内完成的任务数(管理员)</p>
</li>
<li><p>$MIPS = \frac{指令条数}{执行时间 \times 10^6} = \frac{f}{CPI \times 10^6}$</p>
<ul>
<li>依赖于指令集</li>
<li>程序不同 MPIS 不同</li>
<li>唯一可靠的是测真实程序的执行时间</li>
</ul>
</li>
<li><p>基准测试程序: Benchmark</p>
<p>实际应用程序, 修正的(脚本化的)应用程序, 核心测试程序, 小测试程序, 合成测试程序</p>
</li>
<li><p>成本</p>
<p>部件成本, 直接成本, 毛利润, 平均折扣</p>
</li>
<li><p>功耗</p>
</li>
<li><p>可靠性和可用性</p>
<ul>
<li>可靠性: MTTF(平均故障时间) </li>
<li>可用性:$ \frac{MTTF}{MTTF+MTTR}$ MTTR(平均修复时间)</li>
</ul>
</li>
</ul>
<h2 id="系统结构的发展"><a href="#系统结构的发展" class="headerlink" title="系统结构的发展"></a>系统结构的发展</h2><ul>
<li>冯诺依曼<ul>
<li>以计算器为中心</li>
<li>存储器中数据和指令同等对待</li>
<li>存储器按地址访问, 按线性编址, 每个单元位数固定</li>
<li>指令的执行时顺序的</li>
</ul>
</li>
<li>冯诺依曼的发展<ul>
<li>输入输出的改进<ul>
<li>程序控制<ul>
<li>程序等待: 轮巡 i/o 设备</li>
<li>程序中断</li>
</ul>
</li>
<li>DMA(Direct Memory Access) 直接存储器访问: 减少 CPU 对 i/o 的干预, 通过硬件为RAM和IO设备开辟一条直接传输数据的通道</li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/starter_____/article/details/101615848">i/o 处理机</a><br><img src="https://img-blog.csdnimg.cn/20190928144959429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3N0YXJ0ZXJfX19fXw==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li>
</ul>
</li>
<li>并行技术<ul>
<li>指令内部并行</li>
<li>指令级并行</li>
<li>线程级并行</li>
<li>任务级, 过程级并行</li>
<li>作业, 程序级并行</li>
</ul>
</li>
<li>存储器组织结构<ul>
<li>相联存储器</li>
<li>通用寄存器</li>
<li>高速缓存 Cache</li>
</ul>
</li>
<li>指令系统<ul>
<li>CISC</li>
<li>RISC</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="器件对系统结构的影响"><a href="#器件对系统结构的影响" class="headerlink" title="器件对系统结构的影响"></a>器件对系统结构的影响</h2><ul>
<li><p>1945-1954 ENIAC</p>
<ul>
<li>电子管和继电器</li>
<li>机器语言, 汇编语言</li>
<li>存储程序, 计算机程序控制 i/o</li>
</ul>
</li>
<li><p>1955-1964 IBM7030</p>
<ul>
<li>晶体管</li>
<li>浮点数表示, 寻址技术, 中断, i/o 处理机</li>
<li>高级语言, 编译, 批处理监控系统</li>
</ul>
</li>
<li><p>1965-1974 IBM370</p>
<ul>
<li><p>SSI(小规模集成电路), MSI(中规模集成电路), 多层印刷电路, 微程序</p>
</li>
<li><p>流水线, cache, 先行处理, 系列机</p>
</li>
<li><p>多道程序, 分时操作系统</p>
</li>
</ul>
</li>
<li><p>1975-1991 Cray-1</p>
<ul>
<li>LSI(大规模集成电路), VLSI(超大规模集成电路), 半导体存储器</li>
<li>向量处理, 分布式存储器</li>
<li>并行, 分布处理</li>
</ul>
</li>
<li><p>1991-</p>
<ul>
<li>高性能微处理器, 高密度电路</li>
<li>超标量, 超流水线, SMP, MP, MPP, 机群</li>
<li>大规模, 可扩展性, 并行, 分布处理</li>
</ul>
</li>
</ul>
<h1 id="第三章-流水线技术"><a href="#第三章-流水线技术" class="headerlink" title="第三章 流水线技术"></a>第三章 流水线技术</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>分类:</p>
<ul>
<li><p>单功能流水线</p>
</li>
<li><p>多功能流水线</p>
<p>多功能流水线又可分为</p>
<ul>
<li>静态流水线</li>
<li>动态流水线</li>
</ul>
</li>
</ul>
<p>还可分为线性流水线, 非线性流水线(有反馈回路)</p>
<p>顺序流水线, 乱序流水线(允许后进来的任务先完成)</p>
<h2 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h2><h3 id="吞吐率TP"><a href="#吞吐率TP" class="headerlink" title="吞吐率TP"></a>吞吐率TP</h3><p>$TP = \frac{n}{T_k}$  任务数/处理完 n 个任务的时间(从“开启这个程序进程”到“程序中调用clock()函数”时之间的CPU时钟计时单元（clock tick）数，在MSDN中称之为挂钟时间（wal-clock）)</p>
<p>$TP = \frac{n}{(k+n-1)\times △t}$ n 个任务, k 个段, </p>
<p>$TP_{max} = \frac{1}{△t}$</p>
<p>$TP = \frac{n}{k+n-1}TP_{max}$</p>
<p>流水线中执行时间最长的段称为 瓶颈段</p>
<p>$TP = \frac{n}{\sum_{i=1}^{k}△t_i + (n-1)max(△t_1, △t_2, △t_3)} = \frac{n}{一个任务的时间 + (n-1)瓶颈段的时间}$</p>
<p>拆分瓶颈段, 重复设置瓶颈段</p>
<h3 id="加速比"><a href="#加速比" class="headerlink" title="加速比"></a>加速比</h3><p>加速比: $S = \frac{T_s}{T_k}$</p>
<p>不使用流水线所用的时间与使用流水线所用的时间比</p>
<p>$S = \frac{nk}{k+n-1}$</p>
<p>时间不等时</p>
<p>$S = \frac{n\sum_{i=1}^{k}△t_i}{\sum_{i=1}^{k}△t_i + (n-1)max(△t_1, △t_2, △t_3)}$</p>
<h3 id="效率-E"><a href="#效率-E" class="headerlink" title="效率(E)"></a>效率(E)</h3><p>效率: 设备实际使用时间/整个运行时间 &lt; 1</p>
<p>$e_1 = e_2 = … = e_k  = \frac{n}{k+n-1} $</p>
<p>$E = \frac{e_1+e_2+…+e_k}{k} = \frac{nk}{(k+n-1)k}= TP△t = \frac{S}{k}$</p>
<p>时间间隔不等</p>
<p>$E= \frac{n\sum_{i=1}^{k}△t_i}{k[\sum_{i=1}^{k}△t_i + (n-1)max(△t_1, △t_2, △t_3)]}$</p>
<h2 id="单功能非线性流水线的调度"><a href="#单功能非线性流水线的调度" class="headerlink" title="单功能非线性流水线的调度"></a>单功能非线性流水线的调度</h2><ul>
<li><p>非线性流水线: 任务在流水线中可能会流经某些段多次</p>
</li>
<li><p>启动距离: 向一条非线性流水线输入端 连续输入两个任务 之间的时间间隔</p>
</li>
<li><p>禁用启动距离: 会引起 非线性流水线 功能段使用冲突的 启动距离</p>
</li>
<li><p>预约表</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gp1z4hobarj30vi0bgwvb.jpg" alt="截屏2021-03-30 下午3.41.39"></p>
</li>
<li><p>禁止表 F: 由禁用启动距离构成的集合</p>
<ul>
<li><p>根据预约表写出禁止表</p>
<p>对于预约表每一行的任意一对√, 用他们所在的列号相减(大-小)列出各种可能的差值, 差值的集合就是禁止表的元素</p>
<p>对上图: {8, 1, 5, 6}</p>
</li>
</ul>
</li>
<li><p>冲突向量 C: N 位二进制串</p>
<ul>
<li><p>根据禁止表 F 写出初始冲突向量 C<del>0</del></p>
<p>设$C_0 = (c_N c_{N-1} … c_i … c_2 c_1)$</p>
<p>则 $ c_i=<br>\begin{cases}<br>1, i \in F\<br>0, i \notin F<br>\end{cases}$</p>
<p>C<del>0</del>的意义是当第一个任务进入流水线后, C<del>0</del> 决定了下一个任务需要多少时间间隔才可以流入</p>
<p>对于 C<del>k</del> , 假设 j 个时钟周期后送入第二个任务, 则 $C_{k+1} = SHR^{(j)} (C_k) \vee C_0 $</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gp1ztoxmbyj30rw0bu1ad.jpg" alt="截屏2021-03-30 下午4.05.56"></p>
</li>
</ul>
</li>
<li><p>流水线状态转移图</p>
<ul>
<li>流水线状态集合(所有冲突向量)</li>
<li>有向弧</li>
<li>弧上的数字</li>
</ul>
</li>
</ul>
<h2 id="相关"><a href="#相关" class="headerlink" title="相关"></a>相关</h2><ul>
<li><p>数据相关: 对于 i, j 两条指令</p>
<ul>
<li>j 使用 i 的结果</li>
<li>j 与指令 k 数据相关, k 与指令 i 数据相关</li>
</ul>
<p>具有传递性</p>
</li>
<li><p>名相关: 指令访问的寄存器或存储单元名称</p>
<ul>
<li>反相关(先读后写): 指令 j 写的名 = 指令 i 读的名</li>
<li>输出相关: 指令 j 写的名 = 指令 i 写的名</li>
</ul>
</li>
<li><p>控制相关: 分支指令</p>
</li>
</ul>
<h2 id="流水线冲突"><a href="#流水线冲突" class="headerlink" title="流水线冲突"></a>流水线冲突</h2><ul>
<li>流水线冲突: 由于相关等原因存在, 使得指令流中的下一条指令不能再指定的时间周期执行</li>
<li>分类<ul>
<li>结构冲突: 硬件资源无法满足</li>
<li>数据冲突: 指令间结果冲突<ul>
<li>写后读 RAW (常见)</li>
<li>写后写 WAW</li>
<li>读后写 WAR</li>
</ul>
</li>
<li>控制冲突: 分支指令</li>
</ul>
</li>
</ul>
<h1 id="第五章-指令级并行-ILP"><a href="#第五章-指令级并行-ILP" class="headerlink" title="第五章 指令级并行(ILP)"></a>第五章 指令级并行(ILP)</h1><h2 id="指令的动态调度"><a href="#指令的动态调度" class="headerlink" title="指令的动态调度"></a>指令的动态调度</h2><blockquote>
<p>指令的静态调度: 编译时调度</p>
<p>指令动态调度: 通过硬件</p>
</blockquote>
<h3 id="乱序执行"><a href="#乱序执行" class="headerlink" title="乱序执行"></a>乱序执行</h3><p>将 5 段流水线的译码阶段分为</p>
<ul>
<li>流出 Issue IS</li>
<li>读操作数 Read Operands RO</li>
</ul>
<p>引入指令缓冲区, 直到冲突消除</p>
<p>部署更多执行部件, 使多条指令能同时执行或访存</p>
<p>但会新出现 WAR 和 WAW 冲突</p>
<h3 id="寄存器重命名"><a href="#寄存器重命名" class="headerlink" title="寄存器重命名"></a>寄存器重命名</h3><h2 id="动态分支预测技术"><a href="#动态分支预测技术" class="headerlink" title="动态分支预测技术"></a>动态分支预测技术</h2><p>在程序运行时, 根据分支指令过去的表现来预测其将来的行为</p>
<h3 id="BHT-branch-history-table"><a href="#BHT-branch-history-table" class="headerlink" title="BHT branch history table"></a>BHT branch history table</h3><p>用 BHT 来记录分支指令最近几次的执行情况</p>
<h3 id="BTB-branch-target-buffer"><a href="#BTB-branch-target-buffer" class="headerlink" title="BTB branch target buffer"></a>BTB branch target buffer</h3><p>分支开销降为 0</p>
<h2 id="多指令流出技术"><a href="#多指令流出技术" class="headerlink" title="多指令流出技术"></a>多指令流出技术</h2><p>理想 CPI &lt; 1</p>
<h3 id="超标量"><a href="#超标量" class="headerlink" title="超标量"></a>超标量</h3><p>每周期流出指令数量</p>
<h3 id="超长指令字-VLIW"><a href="#超长指令字-VLIW" class="headerlink" title="超长指令字 VLIW"></a>超长指令字 VLIW</h3><p>流出指令数量固定, 构成一个长指令或指令包</p>
<h3 id="超流水线"><a href="#超流水线" class="headerlink" title="超流水线"></a>超流水线</h3><p>每一个流水线段细分</p>
<h1 id="第七章-存储系统"><a href="#第七章-存储系统" class="headerlink" title="第七章 存储系统"></a>第七章 存储系统</h1><h2 id="cache"><a href="#cache" class="headerlink" title="cache"></a>cache</h2><h3 id="三种类型的不命中"><a href="#三种类型的不命中" class="headerlink" title="三种类型的不命中"></a>三种类型的不命中</h3><h4 id="强制不命中-第一次启动"><a href="#强制不命中-第一次启动" class="headerlink" title="强制不命中: 第一次启动"></a>强制不命中: 第一次启动</h4><p>增加块大小</p>
<p>预取</p>
<h4 id="容量不命中-容量不足"><a href="#容量不命中-容量不足" class="headerlink" title="容量不命中: 容量不足"></a>容量不命中: 容量不足</h4><p>增加容量</p>
<h4 id="冲突不命中-冲突"><a href="#冲突不命中-冲突" class="headerlink" title="冲突不命中: 冲突"></a>冲突不命中: 冲突</h4><p>增加相联度</p>
<h3 id="降低-cache-不命中率的方法"><a href="#降低-cache-不命中率的方法" class="headerlink" title="降低 cache 不命中率的方法"></a>降低 cache 不命中率的方法</h3><h4 id="增加-cache-块大小"><a href="#增加-cache-块大小" class="headerlink" title="增加 cache 块大小"></a>增加 cache 块大小</h4><p>对于给定 cache 容量, 块大小增加, 不命中率先下降后上升</p>
<p>原因: 降低强制不命中, 但是会增加冲突不命中</p>
<h4 id="增加-cache-容量"><a href="#增加-cache-容量" class="headerlink" title="增加 cache 容量"></a>增加 cache 容量</h4><p>成本</p>
<h4 id="提高相联度"><a href="#提高相联度" class="headerlink" title="提高相联度"></a>提高相联度</h4><p>增加命中时间</p>
<p>2:1 cache 经验规则<br>容量为 N 的直接映射 cache 的不命中率和容量为 N/2 的两路组相联 cache 不命中率差不多</p>
<h4 id="伪相联-cache"><a href="#伪相联-cache" class="headerlink" title="伪相联 cache"></a>伪相联 cache</h4><p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgan2zqazj30sq0a8gz0.jpg" alt="截屏2021-04-12 上午12.58.04"></p>
<h4 id="硬件预取"><a href="#硬件预取" class="headerlink" title="硬件预取"></a>硬件预取</h4><h4 id="编译器控制的预取"><a href="#编译器控制的预取" class="headerlink" title="编译器控制的预取"></a>编译器控制的预取</h4><h4 id="编译优化"><a href="#编译优化" class="headerlink" title="编译优化"></a>编译优化</h4><h4 id="“牺牲”-cache"><a href="#“牺牲”-cache" class="headerlink" title="“牺牲” cache"></a>“牺牲” cache</h4><p><img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gpgatl3ihnj30ti0amh13.jpg" alt="截屏2021-04-12 上午1.04.22"></p>
<h3 id="减小不命中开销"><a href="#减小不命中开销" class="headerlink" title="减小不命中开销"></a>减小不命中开销</h3><h4 id="采用两级-cache"><a href="#采用两级-cache" class="headerlink" title="采用两级 cache"></a>采用两级 cache</h4><h4 id="读不命中优先于写"><a href="#读不命中优先于写" class="headerlink" title="读不命中优先于写"></a>读不命中优先于写</h4><h4 id="写缓冲合并"><a href="#写缓冲合并" class="headerlink" title="写缓冲合并"></a>写缓冲合并</h4><p>在写缓冲的地方合并</p>
<h4 id="非阻塞-cache-技术"><a href="#非阻塞-cache-技术" class="headerlink" title="非阻塞 cache 技术"></a>非阻塞 cache 技术</h4><h3 id="减小命中时间"><a href="#减小命中时间" class="headerlink" title="减小命中时间"></a>减小命中时间</h3><h4 id="虚拟-cache-并行-mmu"><a href="#虚拟-cache-并行-mmu" class="headerlink" title="虚拟 cache(并行 mmu)"></a>虚拟 cache(并行 mmu)</h4><p>虚拟冲突</p>
<h4 id="流水线"><a href="#流水线" class="headerlink" title="流水线"></a>流水线</h4><h4 id="踪迹-cache"><a href="#踪迹-cache" class="headerlink" title="踪迹 cache"></a>踪迹 cache</h4><h3 id="并行主存系统"><a href="#并行主存系统" class="headerlink" title="并行主存系统"></a>并行主存系统</h3><p>高位交叉</p>
<p>低位交叉</p>
<h3 id="虚拟存储器"><a href="#虚拟存储器" class="headerlink" title="虚拟存储器"></a>虚拟存储器</h3><h1 id="第六章-i-o-系统"><a href="#第六章-i-o-系统" class="headerlink" title="第六章 i/o 系统"></a>第六章 i/o 系统</h1><h2 id="评价"><a href="#评价" class="headerlink" title="评价"></a>评价</h2><p>MTTF 平均无故障时间</p>
<p>MTTR 平均修复时间</p>
<p> $系统可用性 = \frac{MTTF}{MTTF + MTTR}$</p>
<h2 id="串并联系统可靠性模型"><a href="#串并联系统可靠性模型" class="headerlink" title="串并联系统可靠性模型"></a>串并联系统可靠性模型</h2><p>F(t) + R(t) = 1</p>
<h3 id="串联系统"><a href="#串联系统" class="headerlink" title="串联系统"></a>串联系统</h3><p>$R_s = {\prod_{i=1}^{n}}R_i $</p>
<h3 id="并联系统"><a href="#并联系统" class="headerlink" title="并联系统"></a>并联系统</h3><p>$R_s = 1-{\prod_{i=1}^{n}}(1-R_i) $</p>
<h2 id="raid"><a href="#raid" class="headerlink" title="raid"></a>raid</h2><ul>
<li>raid0 一个数据分成 n 份, 带宽提高 n 倍, 最不安全, 速度最快</li>
<li>raid1 自动备份, 最安全, 空间利用最低, 速度不增</li>
<li>raid2 海明校验, 在 raid0 基础上增加纠错功能</li>
<li>raid3 raid0 + 一个存储恢复码的磁盘, 数据拆分</li>
<li>raid4 raid0 + 一个存储恢复码的磁盘, 数据不拆分</li>
<li>raid5 raid34 可能会因为恢复盘而制约性能, raid5 把恢复码分散到所有磁盘中</li>
<li>raid6 raid345 只能容灾一个磁盘, raid6 在 raid5 基础上使用两个容灾磁盘</li>
</ul>
<h1 id="第七章-互联网络"><a href="#第七章-互联网络" class="headerlink" title="第七章 互联网络"></a>第七章 互联网络</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>通信时延 = 软件开销+通道时延+选路时延+竞争时延</p>
<p>网络时延 = 通道时延+选路时延</p>
<h2 id="互连函数"><a href="#互连函数" class="headerlink" title="互连函数"></a>互连函数</h2><p>I 恒等函数</p>
<p>E 交换函数: 第 k 位互反</p>
<p>σ 均匀洗牌函数: 把输入端二进制标号循环左移一位</p>
<p>逆函数, 子函数(低 k 位), 超函数(高 k 位)</p>
<p>β 蝶式函数: 最高位最低位交换</p>
<p>ρ 反位序函数: 位序颠倒</p>
<p>PM2I 函数: x +- 2^i^ mod N </p>
<h2 id="静态互联网络"><a href="#静态互联网络" class="headerlink" title="静态互联网络"></a>静态互联网络</h2><p>线性阵列(单向环, 双向环, 带弦环)</p>
<p>全连接网络</p>
<p>循环移数网络, 2整数幂之间有弦</p>
<p>树形</p>
<p>星形</p>
<p>胖树</p>
<p>网格型, 环网形</p>
<p>illiac 网络</p>
<h2 id="总线网络"><a href="#总线网络" class="headerlink" title="总线网络"></a>总线网络</h2><h2 id="交叉开关网络"><a href="#交叉开关网络" class="headerlink" title="交叉开关网络"></a>交叉开关网络</h2><h1 id="多处理器"><a href="#多处理器" class="headerlink" title="多处理器"></a>多处理器</h1><h2 id="cache-的一致性"><a href="#cache-的一致性" class="headerlink" title="cache 的一致性"></a>cache 的一致性</h2><h3 id="监听式协议"><a href="#监听式协议" class="headerlink" title="监听式协议"></a>监听式协议</h3><p>监听总线</p>
<p>作废</p>
<h3 id="目录式协议"><a href="#目录式协议" class="headerlink" title="目录式协议"></a>目录式协议</h3>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='false'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0"><span class="toc-number">1.</span> <span class="toc-text">第一章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Amdahl-%E5%AE%9A%E5%BE%8B"><span class="toc-number">1.1.</span> <span class="toc-text">Amdahl 定律</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CPU-%E6%80%A7%E8%83%BD%E5%85%AC%E5%BC%8F"><span class="toc-number">1.2.</span> <span class="toc-text">CPU 性能公式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86"><span class="toc-number">1.3.</span> <span class="toc-text">局部性原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="toc-number">1.4.</span> <span class="toc-text">系统评价指标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E7%9A%84%E5%8F%91%E5%B1%95"><span class="toc-number">1.5.</span> <span class="toc-text">系统结构的发展</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%99%A8%E4%BB%B6%E5%AF%B9%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84%E7%9A%84%E5%BD%B1%E5%93%8D"><span class="toc-number">1.6.</span> <span class="toc-text">器件对系统结构的影响</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E6%B5%81%E6%B0%B4%E7%BA%BF%E6%8A%80%E6%9C%AF"><span class="toc-number">2.</span> <span class="toc-text">第三章 流水线技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87"><span class="toc-number">2.2.</span> <span class="toc-text">性能指标</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E7%8E%87TP"><span class="toc-number">2.2.1.</span> <span class="toc-text">吞吐率TP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E9%80%9F%E6%AF%94"><span class="toc-number">2.2.2.</span> <span class="toc-text">加速比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%88%E7%8E%87-E"><span class="toc-number">2.2.3.</span> <span class="toc-text">效率(E)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%8A%9F%E8%83%BD%E9%9D%9E%E7%BA%BF%E6%80%A7%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%9A%84%E8%B0%83%E5%BA%A6"><span class="toc-number">2.3.</span> <span class="toc-text">单功能非线性流水线的调度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3"><span class="toc-number">2.4.</span> <span class="toc-text">相关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%86%B2%E7%AA%81"><span class="toc-number">2.5.</span> <span class="toc-text">流水线冲突</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%8C%87%E4%BB%A4%E7%BA%A7%E5%B9%B6%E8%A1%8C-ILP"><span class="toc-number">3.</span> <span class="toc-text">第五章 指令级并行(ILP)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E5%8A%A8%E6%80%81%E8%B0%83%E5%BA%A6"><span class="toc-number">3.1.</span> <span class="toc-text">指令的动态调度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="toc-number">3.1.1.</span> <span class="toc-text">乱序执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%E9%87%8D%E5%91%BD%E5%90%8D"><span class="toc-number">3.1.2.</span> <span class="toc-text">寄存器重命名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B%E6%8A%80%E6%9C%AF"><span class="toc-number">3.2.</span> <span class="toc-text">动态分支预测技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BHT-branch-history-table"><span class="toc-number">3.2.1.</span> <span class="toc-text">BHT branch history table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BTB-branch-target-buffer"><span class="toc-number">3.2.2.</span> <span class="toc-text">BTB branch target buffer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%8C%87%E4%BB%A4%E6%B5%81%E5%87%BA%E6%8A%80%E6%9C%AF"><span class="toc-number">3.3.</span> <span class="toc-text">多指令流出技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E6%A0%87%E9%87%8F"><span class="toc-number">3.3.1.</span> <span class="toc-text">超标量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E9%95%BF%E6%8C%87%E4%BB%A4%E5%AD%97-VLIW"><span class="toc-number">3.3.2.</span> <span class="toc-text">超长指令字 VLIW</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B6%85%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">3.3.3.</span> <span class="toc-text">超流水线</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.</span> <span class="toc-text">第七章 存储系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cache"><span class="toc-number">4.1.</span> <span class="toc-text">cache</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%B8%8D%E5%91%BD%E4%B8%AD"><span class="toc-number">4.1.1.</span> <span class="toc-text">三种类型的不命中</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E4%B8%8D%E5%91%BD%E4%B8%AD-%E7%AC%AC%E4%B8%80%E6%AC%A1%E5%90%AF%E5%8A%A8"><span class="toc-number">4.1.1.1.</span> <span class="toc-text">强制不命中: 第一次启动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E9%87%8F%E4%B8%8D%E5%91%BD%E4%B8%AD-%E5%AE%B9%E9%87%8F%E4%B8%8D%E8%B6%B3"><span class="toc-number">4.1.1.2.</span> <span class="toc-text">容量不命中: 容量不足</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%B2%E7%AA%81%E4%B8%8D%E5%91%BD%E4%B8%AD-%E5%86%B2%E7%AA%81"><span class="toc-number">4.1.1.3.</span> <span class="toc-text">冲突不命中: 冲突</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%8D%E4%BD%8E-cache-%E4%B8%8D%E5%91%BD%E4%B8%AD%E7%8E%87%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.2.</span> <span class="toc-text">降低 cache 不命中率的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0-cache-%E5%9D%97%E5%A4%A7%E5%B0%8F"><span class="toc-number">4.1.2.1.</span> <span class="toc-text">增加 cache 块大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0-cache-%E5%AE%B9%E9%87%8F"><span class="toc-number">4.1.2.2.</span> <span class="toc-text">增加 cache 容量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E9%AB%98%E7%9B%B8%E8%81%94%E5%BA%A6"><span class="toc-number">4.1.2.3.</span> <span class="toc-text">提高相联度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%AA%E7%9B%B8%E8%81%94-cache"><span class="toc-number">4.1.2.4.</span> <span class="toc-text">伪相联 cache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E9%A2%84%E5%8F%96"><span class="toc-number">4.1.2.5.</span> <span class="toc-text">硬件预取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E5%99%A8%E6%8E%A7%E5%88%B6%E7%9A%84%E9%A2%84%E5%8F%96"><span class="toc-number">4.1.2.6.</span> <span class="toc-text">编译器控制的预取</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96"><span class="toc-number">4.1.2.7.</span> <span class="toc-text">编译优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%9C%E7%89%BA%E7%89%B2%E2%80%9D-cache"><span class="toc-number">4.1.2.8.</span> <span class="toc-text">“牺牲” cache</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E5%B0%8F%E4%B8%8D%E5%91%BD%E4%B8%AD%E5%BC%80%E9%94%80"><span class="toc-number">4.1.3.</span> <span class="toc-text">减小不命中开销</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%87%E7%94%A8%E4%B8%A4%E7%BA%A7-cache"><span class="toc-number">4.1.3.1.</span> <span class="toc-text">采用两级 cache</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E4%B8%8D%E5%91%BD%E4%B8%AD%E4%BC%98%E5%85%88%E4%BA%8E%E5%86%99"><span class="toc-number">4.1.3.2.</span> <span class="toc-text">读不命中优先于写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99%E7%BC%93%E5%86%B2%E5%90%88%E5%B9%B6"><span class="toc-number">4.1.3.3.</span> <span class="toc-text">写缓冲合并</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E9%98%BB%E5%A1%9E-cache-%E6%8A%80%E6%9C%AF"><span class="toc-number">4.1.3.4.</span> <span class="toc-text">非阻塞 cache 技术</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%8F%E5%B0%8F%E5%91%BD%E4%B8%AD%E6%97%B6%E9%97%B4"><span class="toc-number">4.1.4.</span> <span class="toc-text">减小命中时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F-cache-%E5%B9%B6%E8%A1%8C-mmu"><span class="toc-number">4.1.4.1.</span> <span class="toc-text">虚拟 cache(并行 mmu)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">4.1.4.2.</span> <span class="toc-text">流水线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B8%AA%E8%BF%B9-cache"><span class="toc-number">4.1.4.3.</span> <span class="toc-text">踪迹 cache</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E4%B8%BB%E5%AD%98%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.1.5.</span> <span class="toc-text">并行主存系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8"><span class="toc-number">4.1.6.</span> <span class="toc-text">虚拟存储器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0-i-o-%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.</span> <span class="toc-text">第六章 i&#x2F;o 系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%84%E4%BB%B7"><span class="toc-number">5.1.</span> <span class="toc-text">评价</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B2%E5%B9%B6%E8%81%94%E7%B3%BB%E7%BB%9F%E5%8F%AF%E9%9D%A0%E6%80%A7%E6%A8%A1%E5%9E%8B"><span class="toc-number">5.2.</span> <span class="toc-text">串并联系统可靠性模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%B2%E8%81%94%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.2.1.</span> <span class="toc-text">串联系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E8%81%94%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.2.2.</span> <span class="toc-text">并联系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#raid"><span class="toc-number">5.3.</span> <span class="toc-text">raid</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C"><span class="toc-number">6.</span> <span class="toc-text">第七章 互联网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5"><span class="toc-number">6.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%92%E8%BF%9E%E5%87%BD%E6%95%B0"><span class="toc-number">6.2.</span> <span class="toc-text">互连函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%9C"><span class="toc-number">6.3.</span> <span class="toc-text">静态互联网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BA%BF%E7%BD%91%E7%BB%9C"><span class="toc-number">6.4.</span> <span class="toc-text">总线网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E5%BC%80%E5%85%B3%E7%BD%91%E7%BB%9C"><span class="toc-number">6.5.</span> <span class="toc-text">交叉开关网络</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E5%A4%84%E7%90%86%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">多处理器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#cache-%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7"><span class="toc-number">7.1.</span> <span class="toc-text">cache 的一致性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%BC%8F%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.1.1.</span> <span class="toc-text">监听式协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E5%BC%8F%E5%8D%8F%E8%AE%AE"><span class="toc-number">7.1.2.</span> <span class="toc-text">目录式协议</span></a></li></ol></li></ol></li></ol>	
        </div>
    
</div>


    </div>
</div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"position":"right","width":145,"height":315},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"log":false});</script></body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
