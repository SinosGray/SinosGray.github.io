<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Category: github | Sinos_wei's blog</title><meta name="author" content="Sinos"><meta name="copyright" content="Sinos"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="åŸæ–‡åœ°å€: https:&#x2F;&#x2F;github.com&#x2F;goldbergyoni&#x2F;javascript-testing-best-practices">
<meta property="og:type" content="article">
<meta property="og:title" content="js-test">
<meta property="og:url" content="https://sinos_wei.gitee.io/2023/08/ffc01122c09c.html">
<meta property="og:site_name" content="Sinos_wei&#39;s blog">
<meta property="og:description" content="åŸæ–‡åœ°å€: https:&#x2F;&#x2F;github.com&#x2F;goldbergyoni&#x2F;javascript-testing-best-practices">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sinos_wei.gitee.io/img/cover/00000197.jpg">
<meta property="article:published_time" content="2023-08-11T03:31:08.000Z">
<meta property="article:modified_time" content="2023-08-19T07:30:50.154Z">
<meta property="article:author" content="Sinos">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="summary">
<meta property="article:tag" content="shields">
<meta property="article:tag" content="mark">
<meta property="article:tag" content="badge">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sinos_wei.gitee.io/img/cover/00000197.jpg"><link rel="shortcut icon" href="/img/avatar.jpeg"><link rel="canonical" href="https://sinos_wei.gitee.io/2023/08/ffc01122c09c.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?aeddd8219bc5c1e1efdcf5d9cc3218e6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Category: github',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-19 15:30:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">61</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">207</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover/00000197.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Sinos_wei's blog"><span class="site-name">Sinos_wei's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">js-test</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">Updated</span><time datetime="2023-08-19T07:30:50.154Z" title="Updated 2023-08-19 15:30:50">2023-08-19</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="js-test"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>åŸæ–‡åœ°å€: https://github.com/goldbergyoni/javascript-testing-best-practices</p>
</blockquote>
<span id="more"></span>
<h1 id="ä¸ºä»€ä¹ˆæœ¬æŒ‡å—å¯ä»¥åŠ©ä½ å°†æµ‹è¯•èƒ½åŠ›æå‡åˆ°ä¸‹ä¸€å±‚çº§">ğŸ‘‡ ä¸ºä»€ä¹ˆæœ¬æŒ‡å—å¯ä»¥åŠ©ä½ å°†æµ‹è¯•èƒ½åŠ›æå‡åˆ°ä¸‹ä¸€å±‚çº§</h1>
<p><br/></p>
<h2 id="æœ€ä½³å®è·µéå¸¸å…¨é¢å½»åº•">ğŸ“— 45+ æœ€ä½³å®è·µï¼šéå¸¸å…¨é¢å½»åº•</h2>
<p>è¿™ç¯‡æ–‡ç« ä» A åˆ° Z ç»™å‡ºäº† JavaScript &amp; Node.js çš„ç¨³å®šæ€§æŒ‡å—ã€‚å®ƒä¸ºä½ æ•´ç†æ€»ç»“äº†å¸‚é¢ä¸Šå¤§é‡çš„æœ€ä½³åšå®¢æ–‡ç« ã€ä¹¦ç±ä»¥åŠå·¥å…·ã€‚</p>
<h2 id="è¿›é˜¶åœ¨åŸºç¡€ä¸Šå‰è¿›-10000-å…¬é‡Œ">ğŸš¢ è¿›é˜¶ï¼šåœ¨åŸºç¡€ä¸Šå‰è¿› 10000 å…¬é‡Œ</h2>
<p>ä»åŸºç¡€é¢†åŸŸè·¨ä¸Šå‰å¾€è¿›é˜¶è¯é¢˜çš„æ—…ç¨‹ï¼ŒåŒ…æ‹¬ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ã€ç¼–è¯‘æµ‹è¯•ã€åŸºäºå±æ€§çš„æµ‹è¯•ä»¥åŠå¾ˆå¤šç­–ç•¥ &amp; ä¸“ä¸šå·¥å…·ã€‚å¦‚æœä½ ä»”ç»†é˜…è¯»äº†æœ¬æŒ‡å—ä¸­çš„æ¯ä¸ªå­—ï¼Œåˆ™ä½ çš„æµ‹è¯•èƒ½åŠ›å°†æœ‰å¯èƒ½å¤§å¤§è¶…è¿‡å¹³å‡æ°´å¹³ã€‚</p>
<h2 id="å…¨æ ˆå‰ç«¯åç«¯ciä»»ä½•å²—ä½">ğŸŒ å…¨æ ˆï¼šå‰ç«¯ã€åç«¯ã€CIã€ä»»ä½•å²—ä½</h2>
<p>å…ˆäº†è§£é€šç”¨çš„æµ‹è¯•å®è·µä¸ºå…¶ä»–åº”ç”¨å±‚çš„æ‰“ä¸‹åŸºç¡€ã€‚ç„¶åï¼Œåœ¨ä½ è‡ªå·±çš„é¢†åŸŸæ·±å…¥æ¢ç´¢ï¼šå‰ç«¯/UIã€åç«¯ã€CI ç”šè‡³æ˜¯ä»–ä»¬æ‰€æœ‰çš„å±‚é¢ã€‚</p>
<p><br/></p>
<h3 id="ä½œè€…-yoni-goldberg">ä½œè€… Yoni Goldberg</h3>
<ul>
<li>ä¸€ä½ JavaScript &amp; Node.js é¡¾é—®</li>
<li>ğŸ‘¨â€ğŸ«Â <a target="_blank" rel="noopener" href="https://www.testjavascript.com/">æˆ‘çš„æµ‹è¯•ç½‘ç«™</a>Â - åœ¨æ¬§æ´² &amp; ç¾å›½äº†è§£Â <a target="_blank" rel="noopener" href="https://www.testjavascript.com/">æˆ‘çš„æµ‹è¯•ç½‘ç«™</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/goldbergyoni/">åœ¨ Twitter å…³æ³¨æˆ‘</a></li>
<li>æ¥Â <a target="_blank" rel="noopener" href="https://js.la/">LA</a>,Â <a target="_blank" rel="noopener" href="https://2019.nodejsday.it/">Verona</a>,Â <a target="_blank" rel="noopener" href="https://kharkivjs.org/">Kharkiv</a>,Â <a target="_blank" rel="noopener" href="https://zoom.us/webinar/register/1015657064375/WN_Lzvnuv4oQJOYey2jXNqX6A">free webinar</a>å¬æˆ‘çš„æ¼”è®²ã€‚åç»­å·¥ä½œå¾…å®šã€‚</li>
<li><a target="_blank" rel="noopener" href="https://testjavascript.com/newsletter/">æˆ‘çš„ JavaScript è´¨é‡æ–°é—»</a>Â - æˆ˜ç•¥å±‚é¢çš„è§†é‡å’Œä¿¡æ¯</li>
</ul>
<p><br/><br/></p>
<h2 id="å†…å®¹åˆ—è¡¨"><code>å†…å®¹åˆ—è¡¨</code></h2>
<h4 id="ç¬¬-0-ç« é»„é‡‘æ³•åˆ™"><a href="#ç¬¬-0-ç« é»„é‡‘æ³•åˆ™-1"><code>ç¬¬ 0 ç« ï¼šé»„é‡‘æ³•åˆ™</code></a></h4>
<p>ä¸€æ¡å¯å‘æ‰€æœ‰äººçš„å»ºè®®ï¼ˆç‰¹æ®Šçš„ 1 æ¡ï¼‰</p>
<h4 id="ç¬¬ä¸€ç« æµ‹è¯•å‰–æ"><a href="#ç¬¬ä¸€ç« -æµ‹è¯•å‰–æ"><code>ç¬¬ä¸€ç« ï¼šæµ‹è¯•å‰–æ</code></a></h4>
<p>åŸºç¡€ - æ­å»ºå¹²å‡€çš„æµ‹è¯•ï¼ˆ12 æ¡ï¼‰</p>
<h4 id="ç¬¬äºŒç« åç«¯æµ‹è¯•"><a href="#ç¬¬äºŒç« -åç«¯æµ‹è¯•"><code>ç¬¬äºŒç« ï¼šåç«¯æµ‹è¯•</code></a></h4>
<p>é«˜æ•ˆåœ°ç¼–å†™åç«¯å’Œå¾®æœåŠ¡çš„æµ‹è¯•ï¼ˆ8 æ¡ï¼‰</p>
<h4 id="ç¬¬ä¸‰ç« å‰ç«¯æµ‹è¯•"><a href="#ç¬¬ä¸‰ç« -å‰ç«¯æµ‹è¯•"><code>ç¬¬ä¸‰ç« ï¼šå‰ç«¯æµ‹è¯•</code></a></h4>
<p>ä¸º UIï¼ˆåŒ…æ‹¬ç»„ä»¶å’Œ E2E æµ‹è¯•ï¼‰ç¼–å†™æµ‹è¯•ï¼ˆ11 æ¡ï¼‰</p>
<h4 id="ç¬¬å››ç« åº¦é‡æµ‹è¯•æ•ˆæœ"><a href="#ç¬¬å››ç« -åº¦é‡æµ‹è¯•æ•ˆæœ"><code>ç¬¬å››ç« ï¼šåº¦é‡æµ‹è¯•æ•ˆæœ</code></a></h4>
<p>åº¦é‡æµ‹è¯•è´¨é‡ï¼ˆ4 æ¡ï¼‰</p>
<h4 id="ç¬¬äº”ç« æŒç»­é›†æˆci"><a href="#ç¬¬äº”ç« æŒç»­é›†æˆci-1"><code>ç¬¬äº”ç« ï¼šæŒç»­é›†æˆï¼ˆCIï¼‰</code></a></h4>
<p>JS é¢†åŸŸçš„ CI æŒ‡å—ï¼ˆ9 æ¡ï¼‰</p>
<p><br/><br/></p>
<h1 id="ç¬¬-0-ç« é»„é‡‘æ³•åˆ™-1">ç¬¬ 0 ç« ï¼šé»„é‡‘æ³•åˆ™</h1>
<p><br/></p>
<h2 id="é»„é‡‘æ³•åˆ™è®¾è®¡ç˜¦æµ‹è¯•">âšªï¸ 0 é»„é‡‘æ³•åˆ™ï¼šè®¾è®¡ç˜¦æµ‹è¯•</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong>Â æµ‹è¯•ä»£ç ä¸ç”Ÿäº§ä»£ç ä¸åŒï¼Œè¦ä½¿å®ƒå˜å¾—æå…¶ç®€å•ã€çŸ­å°ã€æ²¡æœ‰æŠ½è±¡ã€æ‰å¹³åŒ–ã€ä½¿äººæ„‰æ‚¦ã€ç˜¦ã€‚ä¸€æ®µæµ‹è¯•ä»£ç éœ€è¦åšåˆ°è®©äººä¸€çœ¼å°±èƒ½çœ‹å‡ºå…¶ç›®çš„ã€‚</p>
<p>æˆ‘ä»¬çš„æ€ç»´ç©ºé—´è¢«ä¸»ä½“ç”Ÿäº§ä»£ç å……æ»¡ï¼Œå› æ­¤æ— æ³•è…¾å‡ºé¢å¤–çš„â€œå¤§è„‘ç©ºé—´â€å­˜æ”¾å¤æ‚çš„ä¸œè¥¿ã€‚å¦‚æœå‘å¯æ€œçš„å¤§è„‘ä¸­å¡è¿›å…¶ä»–å¤æ‚ä»£ç ï¼Œå°†ä¼šä½¿å¾—æ•´ä¸ªéƒ¨åˆ†å˜æ…¢ï¼Œè€Œè¿™ä¸ªéƒ¨åˆ†æ­£æ˜¯ç”¨æ¥è§£å†³æˆ‘ä»¬éœ€è¦æµ‹è¯•çš„é—®é¢˜çš„ã€‚è¿™ä¹Ÿæ˜¯å¤§éƒ¨åˆ†å›¢é˜Ÿæ”¾å¼ƒæµ‹è¯•çš„åŸå› ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œæµ‹è¯•æ˜¯ä¸€ä¸ªå‹å¥½çš„åŠ©æ‰‹ï¼Œä¸€ä¸ªä½ ä¹äºä¸ä¹‹åˆä½œã€æŠ•èµ„å°å›æ±‡æŠ¥å¤§çš„åŠ©æ‰‹ã€‚ç§‘å­¦è¯æ˜æˆ‘ä»¬æœ‰ä¸¤å¥—å¤§è„‘ç³»ç»Ÿï¼šç³»ç»Ÿ 1 ç”¨äºæ— éœ€åŠªåŠ›çš„æ´»åŠ¨å¦‚åœ¨ä¸€ä¸ªç©ºæ—·çš„è·¯ä¸Šå¼€è½¦ï¼›ç³»ç»Ÿ 2 ç”¨äºå¤æ‚å’Œç¹ççš„å·¥ä½œå¦‚ç®—ä¸€é“æ•°å­¦è¡¨è¾¾å¼ã€‚å°†ä½ çš„æµ‹è¯•ä¸ºç³»ç»Ÿ 1 è®¾è®¡ï¼Œå½“ä½ çœ‹ä¸€æ®µæµ‹è¯•ä»£ç æ—¶ï¼Œéœ€è¦åƒæ”¹ HTML æ–‡æ¡£ä¸€æ ·ç®€å•è€Œä¸æ˜¯åƒè®¡ç®— 2 Ã— (17 Ã— 24)ã€‚</p>
<p>ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€‰æ‹©æ€§ä»·æ¯”é«˜ã€æŠ•å…¥äº§å‡ºæ¯”ï¼ˆROIï¼‰é«˜çš„æŠ€æœ¯ã€å·¥å…·ä»¥åŠæµ‹è¯•å¯¹è±¡ã€‚ä»…æµ‹è¯•éœ€è¦çš„å†…å®¹ï¼ŒåŠªåŠ›ä¿æŒå…¶çµæ´»æ€§ï¼ŒæŸäº›æ—¶å€™ç”šè‡³å€¼å¾—å»èˆå¼ƒä¸€äº›æµ‹è¯•æ¥æ¢å–çµæ´»æ€§å’Œç®€æ´æ€§ã€‚</p>
<p>ä¸‹é¢çš„å¤§éƒ¨åˆ†å»ºè®®è¡ç”Ÿè‡ªè¿™ä¸€åŸåˆ™ã€‚</p>
<h3 id="å‡†å¤‡å¥½å¼€å§‹äº†å—">å‡†å¤‡å¥½å¼€å§‹äº†å—ï¼Ÿ</h3>
<p><br/><br/></p>
<h1 id="ç¬¬ä¸€ç« -æµ‹è¯•å‰–æ">ç¬¬ä¸€ç« : æµ‹è¯•å‰–æ</h1>
<p><br/></p>
<h2 id="æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„åç§°å¿…é¡»åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†">âšª ï¸ 1.1 æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„åç§°å¿…é¡»åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong>Â ä¸€ä¸ªæµ‹è¯•æŠ¥å‘Šéœ€è¦è®©ä¸ç†Ÿæ‚‰ä»£ç çš„äººï¼ˆæµ‹è¯•ã€è¿ç»´ï¼‰æ˜ç¡®çŸ¥é“æ–°çš„å˜æ›´æ˜¯ç¬¦åˆéœ€æ±‚ã€‚å› æ­¤æµ‹è¯•åç§°éœ€è¦ä»<strong>éœ€æ±‚å±‚é¢</strong>æè¿°ï¼Œå¹¶ä¸”åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ol type="1">
<li><p>è¢«æµ‹çš„æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ¯”å¦‚Â ProductsService.addNewProduct æ–¹æ³•ï¼‰</p></li>
<li><p>åœ¨ä»€ä¹ˆæ¡ä»¶å’Œåœºæ™¯ä¸‹ï¼Ÿï¼ˆæ¯”å¦‚æ²¡æœ‰ å‘è¯¥æ–¹æ³•ä¼ å…¥ price å‚æ•°ï¼‰</p></li>
<li><p>æœŸæœ›çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ¯”å¦‚ä¸å…è®¸æ·»åŠ è¯¥äº§å“ï¼‰</p></li>
</ol>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å½“ä¸€ä¸ªåä¸ºâ€œæ–°å¢äº§å“â€çš„æµ‹è¯•ç”¨ä¾‹æŒ‚æ‰ä¹‹åï¼Œä½ å¦‚ä½•å‡†ç¡®æ‰¾åˆ°æ˜¯å“ªé‡Œå‡ºé—®é¢˜äº†ï¼Ÿ</p>
<p><br/></p>
<p><strong>ğŸ‘‡ Note:</strong> æ¯ä¸€æ¡åé¢ä¼šæœ‰ä¸€ä¸ª ä»£ç ç¤ºä¾‹ï¼Œæœ‰æ—¶å€™è¿˜ä¼šæ”¾ä¸€å¼ å›¾ç‰‡è¯´æ˜ã€‚</p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å">:clap: æ­£ä¾‹: ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Mocha-blue.svg" title="Using Mocha to illustrate the idea" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1. unit under test</span></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;Products Service&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">describe</span>(<span class="string">&#x27;Add new product&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//2. scenario and 3. expectation</span></span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&#x27;When no price is specified, then the product status is pending approval&#x27;</span>, <span class="function">()=&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> newProduct = <span class="keyword">new</span> <span class="title class_">ProductService</span>().<span class="title function_">add</span>(...);</span><br><span class="line">      <span class="title function_">expect</span>(newProduct.<span class="property">status</span>).<span class="property">to</span>.<span class="title function_">equal</span>(<span class="string">&#x27;pendingApproval&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å-1">:clap: æ­£ä¾‹: ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å</h3>
<figure>
<img src="../../../../../../../assets/zh-CN/bp-1-3-parts.jpg" title="A test name that constitutes 3 parts" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨-aaa-æ¨¡å¼æ„é€ æµ‹è¯•å†…å®¹">âšª ï¸ 1.2 ä½¿ç”¨ AAA æ¨¡å¼æ„é€ æµ‹è¯•å†…å®¹</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å°†ä½ çš„æµ‹è¯•å†…å®¹åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå¸ƒç½®ï¼Œæ‰§è¡Œï¼Œæ–­è¨€ â€”â€”Â Arrange, Act &amp; Assert (AAA)ã€‚è¿™æ ·è¯»è€…å°±æ— éœ€åŠ¨ç”¨è„‘ç»†èƒç†è§£ä½ çš„æµ‹è¯•å†…å®¹äº†ï¼š</p>
<p>1st A - å‡†å¤‡ï¼ˆArrangeï¼‰ï¼šä¸€äº›ç”¨äºæä¾›ä¸Šä¸‹æ–‡çš„ä»£ç ã€‚å¯èƒ½åŒ…å«ï¼šæ„é€ æ•°æ®ã€æ·»åŠ  DB è®°å½•ã€mocking/stubbing å¯¹è±¡ï¼Œä»¥åŠå…¶ä»–çš„å‡†å¤‡ä»£ç ï¼›</p>
<p>2nd A - æ‰§è¡Œï¼ˆActï¼‰ï¼šæ‰§è¡Œæµ‹è¯•å•å…ƒã€‚é€šå¸¸ä¸€è¡Œä»£ç ã€‚</p>
<p>3rd A - æ–­è¨€ï¼ˆAssertï¼‰ï¼šä¿è¯å¾—åˆ°çš„å€¼ç¬¦åˆé¢„æœŸã€‚é€šå¸¸ä¸€è¡Œä»£ç ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ ä¸ä»…è¦èŠ±å¤§é‡æ—¶é—´ç†è§£è¿™æ®µä»£ç ï¼Œè€Œä¸”æœ¬è¯¥æ˜¯æœ€ç®€å•çš„éƒ¨åˆ†å´è€—è´¹äº†ä½ çš„å¤§é‡è„‘ç»†èƒã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªä½¿ç”¨-aaa-æ¨¡å¼æ„é€ çš„æµ‹è¯•ç”¨ä¾‹">:clap: æ­£ä¾‹: ä¸€ä¸ªä½¿ç”¨ AAA æ¨¡å¼æ„é€ çš„æµ‹è¯•ç”¨ä¾‹</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;Customer classifier&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">test</span>(<span class="string">&#x27;When customer spent more than 500$, should be classified as premium&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//Arrange</span></span><br><span class="line">        <span class="keyword">const</span> customerToClassify = &#123;<span class="attr">spent</span>:<span class="number">505</span>, <span class="attr">joined</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="attr">id</span>:<span class="number">1</span>&#125;</span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">DBStub</span> = sinon.<span class="title function_">stub</span>(dataAccess, <span class="string">&quot;getCustomer&quot;</span>)</span><br><span class="line">            .<span class="title function_">reply</span>(&#123;<span class="attr">id</span>:<span class="number">1</span>, <span class="attr">classification</span>: <span class="string">&#x27;regular&#x27;</span>&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Act</span></span><br><span class="line">        <span class="keyword">const</span> receivedClassification = customerClassifier.<span class="title function_">classifyCustomer</span>(customerToClassify);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Assert</span></span><br><span class="line">        <span class="title function_">expect</span>(receivedClassification).<span class="title function_">toMatch</span>(<span class="string">&#x27;premium&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-æ²¡æœ‰åˆ†éš”ä¸€å¤§å¨éš¾ä»¥è§£é‡Š">:thumbsdown: åä¾‹: æ²¡æœ‰åˆ†éš”ã€ä¸€å¤§å¨ã€éš¾ä»¥è§£é‡Š</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;Should be classified as premium&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> customerToClassify = &#123;<span class="attr">spent</span>:<span class="number">505</span>, <span class="attr">joined</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(), <span class="attr">id</span>:<span class="number">1</span>&#125;</span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">DBStub</span> = sinon.<span class="title function_">stub</span>(dataAccess, <span class="string">&quot;getCustomer&quot;</span>)</span><br><span class="line">            .<span class="title function_">reply</span>(&#123;<span class="attr">id</span>:<span class="number">1</span>, <span class="attr">classification</span>: <span class="string">&#x27;regular&#x27;</span>&#125;);</span><br><span class="line">        <span class="keyword">const</span> receivedClassification = customerClassifier.<span class="title function_">classifyCustomer</span>(customerToClassify);</span><br><span class="line">        <span class="title function_">expect</span>(receivedClassification).<span class="title function_">toMatch</span>(<span class="string">&#x27;premium&#x27;</span>);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ç”¨äº§å“è¯­è¨€æè¿°æœŸæœ›ä½¿ç”¨-bdd-å½¢å¼çš„æ–­è¨€">âšª ï¸1.3 ç”¨äº§å“è¯­è¨€æè¿°æœŸæœ›ï¼šä½¿ç”¨ BDD å½¢å¼çš„æ–­è¨€</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä½¿ç”¨å£°æ˜çš„æ–¹å¼å†™ä»£ç ï¼Œå¯ä»¥ä½¿è¯»è€…æ— è„‘ get åˆ°é‡ç‚¹ã€‚è€Œå¦‚æœä½ çš„ä»£ç ä½¿ç”¨å„ç§æ¡ä»¶é€»è¾‘åŒ…è£¹èµ·æ¥ï¼Œåˆ™ä¼šå¢åŠ è¯»è€…çš„ç†è§£éš¾åº¦ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åº”å°½é‡ä½¿ç”¨ç±»ä¼¼äººç±»è¯­è¨€çš„å½¢å¼æè¿°å¦‚ <code>expect</code> æˆ– <code>should</code> è€Œä¸æ˜¯è‡ªå·±å†™ä»£ç ã€‚å¦‚æœ Chai å’Œ Jest ä¸åŒ…å«ä½ æƒ³è¦çš„æ–­è¨€ï¼Œè€Œä¸”è¿™ç§æ–­è¨€å¯è¢«é«˜åº¦å¤ç”¨æ—¶ï¼Œä½ å¯ä»¥è€ƒè™‘ <a target="_blank" rel="noopener" href="https://jestjs.io/docs/en/expect#expectextendmatchers">æ‰©å±• Jest åŒ¹é…å™¨ (Jest)</a> æˆ–è€…å†™ä¸€ä¸ª <a target="_blank" rel="noopener" href="https://www.chaijs.com/guide/plugins/">è‡ªå®šä¹‰ Chai æ’ä»¶</a> <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å›¢é˜Ÿçš„æµ‹è¯•ä»£ç ä¼šè¶Šå†™è¶Šå°‘ï¼Œè€Œä¸”ä¼šç”¨ .skip() æŠŠä¸€äº›è®¨åŒçš„æµ‹è¯•ç”¨ä¾‹æ³¨é‡Šæ‰ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Mocha &amp; Chai" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<p>### :thumbsdown: åä¾‹: ä¸ºäº†äº†è§£è¯¥ç”¨ä¾‹çš„ç›®çš„ï¼Œè¯»è€…å¿…é¡»å¿«é€Ÿæµè§ˆå†—é•¿å¤æ‚çš„ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&quot;When asking for an admin, ensure only ordered admins in results&quot;</span> , <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//assuming we&#x27;ve added here two admins &quot;admin1&quot;, &quot;admin2&quot; and &quot;user1&quot;</span></span><br><span class="line">    <span class="keyword">const</span> allAdmins = <span class="title function_">getUsers</span>(&#123;<span class="attr">adminOnly</span>:<span class="literal">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> admin1Found, adming2Found = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    allAdmins.<span class="title function_">forEach</span>(<span class="function"><span class="params">aSingleUser</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(aSingleUser === <span class="string">&quot;user1&quot;</span>)&#123;</span><br><span class="line">            assert.<span class="title function_">notEqual</span>(aSingleUser, <span class="string">&quot;user1&quot;</span>, <span class="string">&quot;A user was found and not admin&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(aSingleUser===<span class="string">&quot;admin1&quot;</span>)&#123;</span><br><span class="line">            admin1Found = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(aSingleUser===<span class="string">&quot;admin2&quot;</span>)&#123;</span><br><span class="line">            admin2Found = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(!admin1Found || !admin2Found )&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Not all admins were returned&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-å¿«é€Ÿæµè§ˆä¸‹é¢çš„å£°æ˜å¼ç”¨ä¾‹å¾ˆè½»æ¾">:clap: æ­£ä¾‹: å¿«é€Ÿæµè§ˆä¸‹é¢çš„å£°æ˜å¼ç”¨ä¾‹å¾ˆè½»æ¾</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When asking for an admin, ensure only ordered admins in results&quot;</span> , <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//assuming we&#x27;ve added here two admins</span></span><br><span class="line">    <span class="keyword">const</span> allAdmins = <span class="title function_">getUsers</span>(&#123;<span class="attr">adminOnly</span>:<span class="literal">true</span>&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(allAdmins).<span class="property">to</span>.<span class="property">include</span>.<span class="property">ordered</span>.<span class="title function_">members</span>([<span class="string">&quot;admin1&quot;</span> , <span class="string">&quot;admin2&quot;</span>])</span><br><span class="line">  .<span class="property">but</span>.<span class="property">not</span>.<span class="property">include</span>.<span class="property">ordered</span>.<span class="title function_">members</span>([<span class="string">&quot;user1&quot;</span>]);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="åšæŒé»‘ç›’æµ‹è¯•åªæµ‹-public-æ–¹æ³•">âšª ï¸ 1.4 åšæŒé»‘ç›’æµ‹è¯•ï¼šåªæµ‹ public æ–¹æ³•</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æµ‹è¯•å†…éƒ¨é€»è¾‘æ˜¯æ— æ„ä¹‰ä¸”æµªè´¹æ—¶é—´çš„ã€‚å¦‚æœä½ çš„ ä»£ç /API è¿”å›äº†æ­£ç¡®çš„ç»“æœï¼Œä½ çœŸçš„éœ€è¦èŠ±ä¸‰ä¸ªå°æ—¶æ—¶é—´å»æµ‹è¯•å®ƒå†…éƒ¨ç©¶ç«Ÿå¦‚ä½•å®ç°çš„ï¼Œå¹¶ä¸”åœ¨ä¹‹åç»´æŠ¤è¿™ä¸€å †è„†å¼±çš„æµ‹è¯•å—ï¼Ÿæ¯å½“æµ‹è¯•ä¸€ä¸ªå…¬å…±æ–¹æ³•æ—¶ï¼Œå…¶ç§æœ‰å®ç°ä¹Ÿä¼šè¢«éšå¼åœ°æµ‹è¯•ï¼Œåªæœ‰å½“å­˜åœ¨æŸä¸ªé—®é¢˜(ä¾‹å¦‚é”™è¯¯çš„è¾“å‡º)æ—¶æµ‹è¯•æ‰ä¼šä¸­æ–­ã€‚è¿™ç§æ–¹æ³•ä¹Ÿç§°ä¸º<code>è¡Œä¸ºæµ‹è¯•</code>ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æµ‹è¯•å†…éƒ¨æ–¹æ³•(ç™½ç›’æ–¹æ³•)â€”ä½ çš„å…³æ³¨ç‚¹å°†ä»ç»„ä»¶çš„è¾“å‡ºç»“æœè½¬ç§»åˆ°å…·ä½“çš„ç»†èŠ‚ä¸Šï¼Œå¦‚æœæŸå¤©å†…éƒ¨é€»è¾‘æ”¹å˜äº†ï¼Œå³ä½¿ç»“æœä¾ç„¶æ­£ç¡®ï¼Œä½ ä¹Ÿè¦èŠ±ç²¾åŠ›å»ç»´æŠ¤ä¹‹å‰çš„æµ‹è¯•é€»è¾‘ï¼Œè¿™æ— å½¢ä¸­å¢åŠ äº†ç»´æŠ¤æˆæœ¬ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ çš„ä»£ç å°†ä¼šåƒ<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/The_Boy_Who_Cried_Wolf">ç‹¼æ¥äº†</a>ä¸€æ ·ï¼šæ€»æ˜¯å«å”¤ç€â€œå‡ºé—®é¢˜å•¦â€ï¼ˆæ¯”å¦‚ä¸€ä¸ªå› ç§æœ‰å˜é‡åæ”¹å˜å¯¼è‡´çš„ç”¨ä¾‹å¤±è´¥ï¼‰ã€‚åˆ™äººä»¬å¿…ç„¶ä¼šå¼€å§‹å¿½ç•¥ CI çš„é€šçŸ¥ï¼Œç›´åˆ°æŸå¤©çœŸæ­£çš„ bug è¢«å¿½ç•¥â€¦â€¦</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸€ä¸ªæ— è„‘æµ‹è¯•å†…éƒ¨æ–¹æ³•çš„æµ‹è¯•ç”¨ä¾‹">:thumbsdown: åä¾‹: ä¸€ä¸ªæ— è„‘æµ‹è¯•å†…éƒ¨æ–¹æ³•çš„æµ‹è¯•ç”¨ä¾‹</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Mocha &amp; Chai" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line">  <span class="comment">//this method is only used internally</span></span><br><span class="line">  <span class="comment">//Change this name will make the tests fail</span></span><br><span class="line">  <span class="title function_">calculateVAT</span>(<span class="params">priceWithoutVAT</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">finalPrice</span>: priceWithoutVAT * <span class="number">1.2</span>&#125;;</span><br><span class="line">    <span class="comment">//Change the result format or key name above will make the tests fail</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//public method</span></span><br><span class="line">  <span class="title function_">getPrice</span>(<span class="params">productId</span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> desiredProduct= <span class="variable constant_">DB</span>.<span class="title function_">getProduct</span>(productId);</span><br><span class="line">    finalPrice = <span class="variable language_">this</span>.<span class="title function_">calculateVATAdd</span>(desiredProduct.<span class="property">price</span>).<span class="property">finalPrice</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;White-box test: When the internal methods get 0 vat, it return 0 response&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">//There&#x27;s no requirement to allow users to calculate the VAT, only show the final price. Nevertheless we falsely insist here to test the class internals</span></span><br><span class="line">    <span class="title function_">expect</span>(<span class="keyword">new</span> <span class="title class_">ProductService</span>().<span class="title function_">calculateVATAdd</span>(<span class="number">0</span>).<span class="property">finalPrice</span>).<span class="property">to</span>.<span class="title function_">equal</span>(<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•æ›¿èº«test-doubleé¿å…æ€»ç”¨-stub-å’Œ-spy">âšª ï¸ ï¸1.5 ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•æ›¿èº«ï¼ˆTest Doubleï¼‰ï¼šé¿å…æ€»ç”¨ stub å’Œ spy</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æµ‹è¯•æ›¿èº«æ˜¯æŠŠåŒåˆƒå‰‘ï¼Œä»–ä»¬åœ¨æä¾›å·¨å¤§ä»·å€¼çš„åŒæ—¶ï¼Œè€¦åˆäº†åº”ç”¨çš„å†…éƒ¨é€»è¾‘ (<a href="https://martinfowler.com/articles/mocksArentStubs.html" data-href="https://martinfowler.com/articles/mocksArentStubs.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank"><a target="_blank" rel="noopener" href="https://martinfowler.com/articles/mocksArentStubs.html">è¿™é‡Œæœ‰ä¸€ç¯‡å…³äºæµ‹è¯•æ›¿èº«çš„æ–‡ç« : mocks vs stubs vs spies</a></a>).<br />åœ¨ä½¿ç”¨æµ‹è¯•æ›¿èº«å‰ï¼Œé—®è‡ªå·±ä¸€ä¸ªå¾ˆç®€å•çš„é—®é¢˜ï¼šæˆ‘æ˜¯ç”¨å®ƒæ¥æµ‹è¯•éœ€æ±‚æ–‡æ¡£ä¸­å®šä¹‰çš„å¯è§çš„åŠŸèƒ½æˆ–è€…å¯èƒ½å¯è§çš„åŠŸèƒ½å—ï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£å°±å¯èƒ½æ˜¯ç™½ç›’æµ‹è¯•äº†ã€‚<br />ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ æƒ³æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºåœ¨æ”¯ä»˜æœåŠ¡å®•æœºæ—¶çš„åˆç†è¡¨ç°ï¼Œä½ å¯ä»¥ stub æ”¯ä»˜æœåŠ¡å¹¶è§¦å‘ä¸€äº›â€œæ— å“åº”â€è¿”å›ï¼Œä»¥ç¡®ä¿è¢«æµ‹è¯•çš„å•å…ƒè¿”å›æ­£ç¡®çš„å€¼ã€‚è¿™å¯ä»¥æµ‹è¯•ç‰¹å®šåœºæ™¯ä¸‹çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºã€å“åº”ã€è¾“å‡ºç»“æœã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª spy æ¥æ–­è¨€å½“æœåŠ¡å®•æœºæ—¶å‘é€äº†ä¸€å°ç”µå­é‚®ä»¶â€”â€”è¿™åˆæ˜¯ä¸€ä¸ªé’ˆå¯¹å¯èƒ½å‡ºç°åœ¨éœ€æ±‚æ–‡æ¡£ä¸­çš„è¡Œä¸ºçš„æ£€æŸ¥(â€œå¦‚æœæ— æ³•ä¿å­˜ä»˜æ¬¾ï¼Œè¯·å‘é€ç”µå­é‚®ä»¶â€)ã€‚åè¿‡æ¥ï¼Œå¦‚æœä½  mock çš„æ”¯ä»˜æœåŠ¡ï¼Œå¹¶ç¡®ä¿å®ƒè¢«æ­£ç¡®è°ƒç”¨å¹¶ä¼ å…¥æ­£ç¡®çš„ JavaScript ç±»å‹ï¼Œé‚£ä¹ˆä½ çš„æµ‹è¯•é‡ç‚¹æ˜¯å†…éƒ¨çš„é€»è¾‘ï¼Œå®ƒä¸åº”ç”¨çš„åŠŸèƒ½å…³ç³»ä¸å¤§ï¼Œè€Œä¸”å¯èƒ½ä¼šç»å¸¸å˜åŒ–ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä»»ä½•ä»£ç é‡æ„éƒ½è¦æ±‚æœç´¢ä»£ç ä¸­çš„æ‰€æœ‰ mock å¹¶ç›¸åº”åœ°è¿›è¡Œæ›´æ–°ã€‚æµ‹è¯•å˜æˆäº†ä¸€ç§è´Ÿæ‹…ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¸®æ‰‹ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-å…³æ³¨å†…éƒ¨å®ç°çš„-mock">:thumbsdown: åä¾‹: å…³æ³¨å†…éƒ¨å®ç°çš„ mock</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Sinon-blue.svg" title="Examples with Mocha &amp; Chai" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When a valid product is about to be deleted, ensure data access DAL was called once, with the right product and right config&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">//Assume we already added a product</span></span><br><span class="line">    <span class="keyword">const</span> dataAccessMock = sinon.<span class="title function_">mock</span>(<span class="variable constant_">DAL</span>);</span><br><span class="line">    <span class="comment">//hmmm BAD: testing the internals is actually our main goal here, not just a side-effect</span></span><br><span class="line">    dataAccessMock.<span class="title function_">expects</span>(<span class="string">&quot;deleteProduct&quot;</span>).<span class="title function_">once</span>().<span class="title function_">withArgs</span>(<span class="title class_">DBConfig</span>, theProductWeJustAdded, <span class="literal">true</span>, <span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ProductService</span>().<span class="title function_">deletePrice</span>(theProductWeJustAdded);</span><br><span class="line">    dataAccessMock.<span class="title function_">verify</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clapæ­£ä¾‹-ä½¿ç”¨-spy-å…³æ³¨äºæµ‹è¯•éœ€æ±‚æœ¬èº«è€Œä½œä¸ºå‰¯ä½œç”¨ä¸å¾—ä¸æ¥è§¦å†…éƒ¨">:clap:æ­£ä¾‹: ä½¿ç”¨ spy å…³æ³¨äºæµ‹è¯•éœ€æ±‚æœ¬èº«ï¼Œè€Œä½œä¸ºå‰¯ä½œç”¨ä¸å¾—ä¸æ¥è§¦å†…éƒ¨</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When a valid product is about to be deleted, ensure an email is sent&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">//Assume we already added here a product</span></span><br><span class="line">    <span class="keyword">const</span> spy = sinon.<span class="title function_">spy</span>(<span class="title class_">Emailer</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&quot;sendEmail&quot;</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ProductService</span>().<span class="title function_">deletePrice</span>(theProductWeJustAdded);</span><br><span class="line">    <span class="comment">//hmmm OK: we deal with internals? Yes, but as a side effect of testing the requirements (sending an email)</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä¸è¦fooä½¿ç”¨çœŸå®æ•°æ®">âšª ï¸1.6 ä¸è¦â€œfooâ€ï¼Œä½¿ç”¨çœŸå®æ•°æ®</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ç”Ÿäº§ç¯å¢ƒä¸­çš„ bug é€šå¸¸æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šæˆ–è€…æ„å¤–çš„è¾“å…¥ä¸‹å‡ºç°çš„â€”â€”æ‰€ä»¥æµ‹è¯•çš„è¾“å…¥æ•°æ®è¶ŠçœŸå®ï¼Œè¶Šå®¹æ˜“åœ¨æ—©æœŸæŠ“ä½é—®é¢˜ã€‚ä½¿ç”¨ç°æœ‰çš„ä¸€äº›åº“ï¼ˆæ¯”å¦‚ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/faker">Faker</a>ï¼‰å»é€ â€œå‡â€çœŸæ•°æ®æ¥æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒæ•°æ®çš„å¤šæ ·æ€§å’Œå½¢å¼ã€‚æ¯”å¦‚ï¼Œè¿™äº›åº“å¯ä»¥ç”ŸæˆçœŸå®çš„ç”µè¯å·ç ã€ç”¨æˆ·åã€ä¿¡ç”¨å¡ã€å…¬å¸åç­‰ç­‰ã€‚ä½ è¿˜å¯ä»¥åˆ›å»ºä¸€äº›æµ‹è¯•(åœ¨å•å…ƒæµ‹è¯•ä¹‹ä¸Šï¼Œè€Œä¸æ˜¯æ›¿ä»£)ç”Ÿäº§éšæœº fakers æ•°æ®æ¥æ‰©å±•ä½ çš„æµ‹è¯•å•å…ƒï¼Œç”šè‡³ä»ç”Ÿäº§ç¯å¢ƒä¸­å¯¼å…¥çœŸå®çš„æ•°æ®ã€‚æƒ³è¦è¿›é˜¶çš„è¯ï¼Œè¯·çœ‹ä¸‹ä¸€æ¡ï¼šåŸºäºå±æ€§çš„æµ‹è¯•ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ æ‰€æœ‰çš„ç”¨ä¾‹éƒ½åœ¨ â€œfooâ€ ä¹‹ç±»çš„è¾“å…¥å€¼ä¸‹è¡¨ç°æ­£ç¡®ï¼Œç»“æœä¸Šçº¿åæ”¶åˆ°è¯¸å¦‚Â  â€œ<span class="citation" data-cites="3e2ddsf">[@3e2ddsf ]</span>() . ##â€™ 1 fdsfds . fds432 AAAAâ€ ä¹‹ç±»çš„è¾“å…¥åæŒ‚æ‰äº†ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸€ä¸ªç”¨ä¾‹å› ä½¿ç”¨éçœŸå®æ•°æ®è€Œé€šè¿‡">:thumbsdown: åä¾‹: ä¸€ä¸ªç”¨ä¾‹å› ä½¿ç”¨éçœŸå®æ•°æ®è€Œé€šè¿‡</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">addProduct</span> = (<span class="params">name, price</span>) =&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> productNameRegexNoSpace = <span class="regexp">/^\S*$/</span>;<span class="comment">//no white-space allowd</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(!productNameRegexNoSpace.<span class="title function_">test</span>(name))</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//this path never reached due to dull input</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//some logic here</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&quot;Wrong: When adding new product with valid properties, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">//The string &quot;Foo&quot; which is used in all tests never triggers a false result</span></span><br><span class="line">    <span class="keyword">const</span> addProductResult = <span class="title function_">addProduct</span>(<span class="string">&quot;Foo&quot;</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="title function_">expect</span>(addProductResult).<span class="title function_">toBe</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="comment">//Positive-false: the operation succeeded because we never tried with long</span></span><br><span class="line">    <span class="comment">//product name including spaces</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clapæ­£ä¾‹-éšæœºç”ŸæˆçœŸå®çš„è¾“å…¥æ•°æ®">:clap:æ­£ä¾‹: éšæœºç”ŸæˆçœŸå®çš„è¾“å…¥æ•°æ®</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;Better: When adding new valid product, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> addProductResult = <span class="title function_">addProduct</span>(faker.<span class="property">commerce</span>.<span class="title function_">productName</span>(), faker.<span class="property">random</span>.<span class="title function_">number</span>());</span><br><span class="line">    <span class="comment">//Generated random input: &#123;&#x27;Sleek Cotton Computer&#x27;,  85481&#125;</span></span><br><span class="line">    <span class="title function_">expect</span>(addProductResult).<span class="property">to</span>.<span class="property">be</span>.<span class="property">true</span>;</span><br><span class="line">    <span class="comment">//Test failed, the random input triggered some path we never planned for.</span></span><br><span class="line">    <span class="comment">//We discovered a bug early!</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="åŸºäºå±æ€§çš„æµ‹è¯•æµ‹è¯•è¾“å…¥çš„å¤šç§ç»„åˆ">âšª ï¸ 1.7 åŸºäºå±æ€§çš„æµ‹è¯•ï¼šæµ‹è¯•è¾“å…¥çš„å¤šç§ç»„åˆ</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> é€šå¸¸æˆ‘ä»¬åªä¼šé€‰æ‹©éƒ¨åˆ†çš„æ•°æ®æ ·ä¾‹å»æµ‹è¯•ï¼Œå³ä½¿æ˜¯ä½¿ç”¨äº†ä¸Šä¸€èŠ‚è®²åˆ°çš„å·¥å…·å»æ¨¡æ‹ŸçœŸå®æ•°æ®ï¼Œæˆ‘ä»¬ä¹Ÿåªè¦†ç›–åˆ°äº†ä¸€éƒ¨åˆ†è¾“å…¥çš„ç»„åˆ(<code>method(â€˜â€™, true, 1), method(â€œstringâ€ , falseâ€ , 0)</code>)ã€‚ç„¶è€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªæ‹¥æœ‰ 5 ä¸ªå‚æ•°çš„ APIï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸Šåƒç§æ’åˆ—ç»„åˆï¼Œè€Œå…¶ä¸­çš„æŸä¸€ç§å¯èƒ½ä¼šæŠŠä½ çš„è¿›ç¨‹ææŒ‚ï¼ˆ<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Fuzzing">è§ Fuzz Testing</a>ï¼‰ã€‚å¦‚ä½•è‡ªåŠ¨ç”Ÿæˆè¿™ä¸Šåƒç§ç»„åˆå¹¶åœ¨å®ƒä»¬å‡ºé—®é¢˜å catch åˆ°ï¼ŸåŸºäºå±æ€§çš„æµ‹è¯•é€‚ç”¨äºè¿™ç§éœ€æ±‚ï¼šå‘ä½ çš„æµ‹è¯•å•å…ƒä¼ å…¥æ‰€æœ‰å¯èƒ½çš„è¾“å…¥ç»„åˆï¼Œä»¥å¢åŠ å‘ç° bug çš„å¯èƒ½ã€‚ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªæ–¹æ³• â€”â€” <code>addNewProduct(id, name, isDiscount)</code>ï¼Œæ”¯æŒå±æ€§æµ‹è¯•çš„åº“å°†ä½¿ç”¨ä¸€æ‰¹<code>(number, string, boolean)</code>ç»„åˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œæ¯”å¦‚<code>(1ï¼Œâ€œiPhoneâ€ï¼Œfalse)</code>ï¼Œ<code>(2ï¼Œâ€œGalaxyâ€ï¼Œtrue)</code>ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨æœ€å–œæ¬¢çš„æµ‹è¯•è¿è¡Œå™¨(Mochaã€Jestç­‰)ï¼Œ<br />é€šå¸¸ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªæµ‹è¯•é€‰æ‹©ä¸€äº›è¾“å…¥æ ·æœ¬ã€‚å³ä½¿è¾“å…¥æ ¼å¼ç±»ä¼¼äºç°å®ä¸–ç•Œçš„æ•°æ®(è§å­å¼¹â€œåˆ«fooâ€),æˆ‘ä»¬åªæ¶‰åŠå‡ ä¸ªè¾“å…¥ç»„åˆ(æ–¹æ³•(â€œ,çœŸçš„,1),æ–¹æ³•(â€œå­—ç¬¦ä¸²â€,å‡â€,0)),ç„¶è€Œ,åœ¨ç”Ÿäº§ä¸­,ä¸€ä¸ªAPIè°ƒç”¨ä¸æˆåƒä¸Šä¸‡çš„5ä¸ªå‚æ•°å¯ä»¥è°ƒç”¨ä¸åŒçš„æ’åˆ—,å…¶ä¸­ä¸€ä¸ªå¯èƒ½ä½¿æˆ‘ä»¬çš„æµç¨‹(è§æ¨¡ç³Šæµ‹è¯•)ã€‚å¦‚æœæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•ï¼Œè‡ªåŠ¨å‘é€1000ä¸ªä¸åŒè¾“å…¥çš„æ’åˆ—ç»„åˆï¼Œå¹¶æ•è·æˆ‘ä»¬çš„ä»£ç æœªèƒ½è¿”å›æ­£ç¡®å“åº”çš„è¾“å…¥ï¼Œé‚£è¯¥æ€ä¹ˆåŠ?åŸºäºå±æ€§çš„æµ‹è¯•å°±æ˜¯è¿™æ ·ä¸€ç§æŠ€æœ¯:é€šè¿‡å‘é€æ‰€æœ‰å¯èƒ½çš„è¾“å…¥ç»„åˆåˆ°ä½ çš„æµ‹è¯•å•å…ƒä¸­ï¼Œå®ƒå¢åŠ äº†å‘ç°bugçš„å¶ç„¶æ€§ã€‚ä¾‹å¦‚ï¼Œç»™å®šä¸€ä¸ªæ–¹æ³•â€”addNewProduct(id, name, isDiscount)â€”æ”¯æŒåº“å°†ä½¿ç”¨è®¸å¤š(number, string, boolean)ç»„åˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œæ¯”å¦‚(1ï¼Œâ€œiPhoneâ€ï¼Œfalse)ï¼Œ(2ï¼Œâ€œGalaxyâ€ï¼Œtrue)ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨æœ€å–œæ¬¢çš„æµ‹è¯•è¿è¡Œå™¨(Mochaã€Jestç­‰)ï¼šæ¯”å¦‚ <a target="_blank" rel="noopener" href="https://github.com/jsverify/jsverify">js-verify</a> æˆ–è€… <a target="_blank" rel="noopener" href="https://github.com/leebyron/testcheck-js">testcheck</a> (æ–‡æ¡£æ¯”è¾ƒå¥½)ã€‚ æ›´æ–°: Nicolas Dubien åœ¨ä¸‹é¢çš„å›å¤ä¸­å»ºè®® <a target="_blank" rel="noopener" href="https://github.com/dubzzz/fast-check#readme">äº†è§£ä¸‹ fast-check</a> å®ƒæä¾›äº†æ›´å¤šçš„èƒ½åŠ›ï¼Œä¼¼ä¹æ›´æ˜“ç»´æŠ¤ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ æ— æ„ä¸­é€‰æ‹©çš„è¾“å…¥æ•°æ®åªè¦†ç›–äº†æ²¡é—®é¢˜çš„ä»£ç è·¯å¾„ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®ƒæ²¡æœ‰çœŸæ­£å‘ç°äº† bugã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨fast-checkæµ‹è¯•è¾“å…¥çš„ç»„åˆ">:clap: æ­£ä¾‹: ä½¿ç”¨â€œfast-checkâ€æµ‹è¯•è¾“å…¥çš„ç»„åˆ</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> fc <span class="keyword">from</span> <span class="string">&quot;fast-check&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&quot;Product service&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">describe</span>(<span class="string">&quot;Adding new&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//this will run 100 times with different random properties</span></span><br><span class="line">    <span class="title function_">it</span>(<span class="string">&quot;Add new product with random yet valid properties, always successful&quot;</span>, <span class="function">() =&gt;</span></span><br><span class="line">      fc.<span class="title function_">assert</span>(</span><br><span class="line">        fc.<span class="title function_">property</span>(fc.<span class="title function_">integer</span>(), fc.<span class="title function_">string</span>(), <span class="function">(<span class="params">id, name</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">expect</span>(<span class="title function_">addNewProduct</span>(id, name).<span class="property">status</span>).<span class="title function_">toEqual</span>(<span class="string">&quot;approved&quot;</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">      ));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="snapshotå¦‚æœéœ€è¦ä»…ä½¿ç”¨çŸ­çš„è¡Œå†…å¿«ç…§">âšª ï¸ 1.8 snapshotï¼šå¦‚æœéœ€è¦ï¼Œä»…ä½¿ç”¨çŸ­çš„è¡Œå†…å¿«ç…§</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å¦‚æœä½ éœ€è¦Â <a target="_blank" rel="noopener" href="https://jestjs.io/docs/en/snapshot-testing">å¿«ç…§æµ‹è¯•</a>ï¼Œä»…ä½¿ç”¨ç«¯å¿«ç…§ï¼ˆæ¯”å¦‚ 3-7 è¡Œï¼‰ï¼Œå¹¶ä¸”æŠŠå®ƒä»¬ä½œä¸ºæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼ˆ<a target="_blank" rel="noopener" href="https://jestjs.io/docs/en/snapshot-testing#inline-snapshots">å†…è”å¿«ç…§</a>ï¼‰è€Œä¸æ˜¯å­˜æ”¾åˆ°å¤–éƒ¨æ–‡ä»¶ä¸­ã€‚éµå¾ªè¿™æ¡æŒ‡å¯¼åŸåˆ™å°†ç¡®ä¿æ‚¨çš„æµ‹è¯•ä¿æŒè‡ªè§£é‡Šå¹¶ä¸”ä¸é‚£ä¹ˆè„†å¼±ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œâ€œç»å…¸â€å¿«ç…§æ•™ç¨‹å’Œå·¥å…·é¼“åŠ±æˆ‘ä»¬åœ¨ä¸€äº›å¤–éƒ¨ä»‹è´¨ä¸Šå­˜å‚¨å¤§æ–‡ä»¶ï¼ˆå¦‚ç»„ä»¶çš„æ¸²æŸ“ç»“æœï¼ŒAPI çš„ JSON ç»“æœï¼‰ï¼Œå¹¶ç¡®ä¿æ¯æ¬¡è¿è¡Œæµ‹è¯•æ—¶å°†æ–°ç»“æœä¸ä¿å­˜çš„ç‰ˆæœ¬è¿›è¡Œæ¯”è¾ƒã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œè¿™ä¹ˆåšæœ‰å¯èƒ½éšå¼åœ°å°†æˆ‘ä»¬çš„æµ‹è¯•ä¸åŒ…å« 3000 ä¸ªæ•°æ®å€¼çš„ 1000 è¡Œå†…å®¹å…³è”èµ·æ¥ï¼Œè€Œè¿™äº›æ•°æ®å€¼æ˜¯æµ‹è¯•ç¼–å†™è€…ä»æ¥æ²¡æœ‰è¯»è¿‡å’Œè€ƒè™‘è¿‡çš„ã€‚è¿™ä¹ˆåšå°†ä¼šä½¿å¾—ä½ çš„ç”¨ä¾‹æœ‰ 1000 ä¸ªå¤±è´¥çš„ç†ç”± â€”â€” å¸¸å¸¸æ”¹ä¸€è¡Œä»£ç å°±ä¼šå¯¼è‡´å¿«ç…§å¤±æ•ˆã€‚è¿™ä¸ªé¢‘ç‡æœ‰å¤šé«˜ï¼Ÿå¯¹äºæ¯ä¸ªç©ºæ ¼ï¼Œæ³¨é‡Šæˆ–å°‘é‡çš„ CSS/HTML æ›´æ”¹ã€‚ä¸ä»…å¦‚æ­¤ï¼Œå¤±è´¥ç»“æœä¸ä¼šç»™å‡ºå…³äºå¤±è´¥çš„ä»»ä½•æç¤ºï¼Œå› ä¸ºå®ƒåªæ˜¯æ£€æŸ¥ 1000 è¡Œå†…å®¹æœ‰æ²¡æœ‰æ”¹åŠ¨ï¼Œè€Œä¸”æµ‹è¯•ç¼–å†™äººå‘˜ä¸å¾—ä¸å°†è¿™ä¸€å¤§å †ä»–æ— æ³•è‡ªå·±éªŒè¯çš„é•¿æ–‡æ¡£ä½œä¸ºæœŸæœ›çš„ trueã€‚æ‰€æœ‰è¿™äº›éƒ½æ˜¯æµ‹è¯•ç›®æ ‡ä¸æ˜ç¡®ã€æµ‹è¯•ç›®æ ‡è¿‡å¤šçš„ç—‡çŠ¶ã€‚</p>
<p>è¿™å°†ä¼šä½¿å¾—æˆ‘ä»¬çš„æµ‹è¯•å¸¦ä¸Šä¸€å¤§å †æˆ‘ä»¬ä»¥åå¯èƒ½ä¸ä¼šå†çœ‹çš„æ•°æ®ã€‚è¿™æ ·åšæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿä½ çš„æµ‹è¯•å°†æœ‰æ— æ•°ç§ç†ç”±å¤±è´¥ï¼Œå› ä¸ºä½ æ”¾å…¥äº†å¤ªå¤šè‡ªå·±ä¸éœ€è¦å…³å¿ƒçš„ç»“æœæ•°æ®è¿›å»ï¼Œè€Œä½ åˆæ— æ³•æŠ½å‡ºè¶³å¤Ÿçš„ç²¾åŠ›ä»ç»“æœçš„ diff ä¸­åˆ¤æ–­å½“å‰è¡¨ç°æ˜¯å¦ç¬¦åˆæœŸæœ›ã€‚</p>
<p>ä»…åœ¨å¾ˆå°‘çš„åœºæ™¯ä¸‹ï¼Œé•¿å¤–éƒ¨å¿«ç…§æ˜¯å¯ä»¥æ¥å—çš„â€”â€”å½“æµ‹è¯•æ–­è¨€ schema è€Œä¸æ˜¯æ•°æ®æ—¶(æå–å€¼å¹¶å…³æ³¨å…¶ä¸­çš„å­—æ®µ)ï¼Œæˆ–è€…å½“å¿«ç…§çš„å†…å®¹å¾ˆå°‘è¢«æ›´æ”¹æ—¶ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¸€ä¸ª UI æµ‹è¯•æŒ‚æ‰äº†ã€‚ä»£ç çœ‹èµ·æ¥ okï¼Œå±å¹•ä¸Šæ­£ç¡®æ¸²æŸ“äº†æ¯ä¸ªåƒç´ ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ- ä½ çš„æµ‹è¯•å‘ç°è·Ÿä¹‹å‰çš„å¿«ç…§ç›¸æ¯”ï¼Œæ–°çš„å¿«ç…§ markdown ä¸­å¤šäº†ä¸€ä¸ªç©ºæ ¼â€¦â€¦</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸ºæˆ‘ä»¬çš„ç”¨ä¾‹è€¦åˆçœ‹ä¸åˆ°çš„-2000-è¡Œä»£ç ">:thumbsdown: åä¾‹: ä¸ºæˆ‘ä»¬çš„ç”¨ä¾‹è€¦åˆçœ‹ä¸åˆ°çš„ 2000 è¡Œä»£ç </h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;TestJavaScript.com is renderd correctly&#x27;</span>, <span class="function">()  =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Arrange</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Act</span></span><br><span class="line"><span class="keyword">const</span> receivedPage = renderer</span><br><span class="line">.<span class="title function_">create</span>(  <span class="language-xml"><span class="tag">&lt;<span class="name">DisplayPage</span> <span class="attr">page</span>  =  <span class="string">&quot;http://www.testjavascript.com&quot;</span>  &gt;</span> Test JavaScript &lt; /DisplayPage&gt;</span>)</span><br><span class="line">.<span class="title function_">toJSON</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//Assert</span></span><br><span class="line"><span class="title function_">expect</span>(receivedPage).<span class="title function_">toMatchSnapshot</span>();</span><br><span class="line"><span class="comment">//We now implicitly maintain a 2000 lines long document</span></span><br><span class="line"><span class="comment">//every additional line break or comment - will break this test</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-æœŸæœ›æ˜¯å¯è§ä¸”é›†ä¸­çš„">:clap: æ­£ä¾‹: æœŸæœ›æ˜¯å¯è§ä¸”é›†ä¸­çš„</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;When visiting TestJavaScript.com home page, a menu is displayed&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//Arrange</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Act</span></span><br><span class="line">receivedPage tree = renderer</span><br><span class="line">.<span class="title function_">create</span>(  <span class="language-xml"><span class="tag">&lt;<span class="name">DisplayPage</span> <span class="attr">page</span>  =  <span class="string">&quot;http://www.testjavascript.com&quot;</span>  &gt;</span> Test JavaScript &lt; /DisplayPage&gt;</span>)</span><br><span class="line">.<span class="title function_">toJSON</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//Assert</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> menu = receivedPage.<span class="property">content</span>.<span class="property">menu</span>;</span><br><span class="line"><span class="title function_">expect</span>(menu).<span class="title function_">toMatchInlineSnapshot</span>(<span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;Home&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt; About &lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt; Contact &lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä¸è¦å†™å…¨å±€çš„-fixtures-å’Œ-seedsè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­">âšª ï¸1.9 ä¸è¦å†™å…¨å±€çš„ fixtures å’Œ seedsï¼Œè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å‚ç…§é»„é‡‘æ³•åˆ™ï¼Œæ¯æ¡æµ‹è¯•éœ€è¦åœ¨å®ƒè‡ªå·±çš„ DB è¡Œä¸­è¿è¡Œé¿å…äº’ç›¸æ±¡æŸ“ã€‚ç°å®ä¸­ï¼Œè¿™æ¡è§„åˆ™ç»å¸¸è¢«æ‰“ç ´ï¼šä¸ºäº†æ€§èƒ½æå‡è€Œåœ¨æ‰§è¡Œæµ‹è¯•å‰å…¨å±€åˆå§‹åŒ–æ•°æ®åº“(<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Test_fixture">ä¹Ÿè¢«ç§°ä¸ºâ€˜test fixtureâ€™</a>)ã€‚å°½ç®¡æ€§èƒ½å¾ˆé‡è¦ï¼Œä½†æ˜¯å®ƒå¯ä»¥é€šè¿‡åé¢è®²çš„ã€Œåˆ†ç»„ä»¶æµ‹è¯•ã€ç¼“å’Œã€‚ä¸ºäº†å‡è½»å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæµ‹è¯•ä¸­åªåˆå§‹åŒ–è‡ªå·±éœ€è¦çš„æ•°æ®ã€‚é™¤éæ€§èƒ½é—®é¢˜çœŸçš„éå¸¸æ˜¾è‘—ï¼Œé‚£ä¹ˆå¯ä»¥åšä¸€å®šçš„å¦¥åâ€”â€”ä»…åœ¨å…¨å±€æ”¾ä¸ä¼šæ”¹å˜çš„æ•°æ®ï¼ˆæ¯”å¦‚ queryï¼‰ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¸€éƒ¨åˆ†æµ‹è¯•æŒ‚äº†ï¼Œæˆ‘ä»¬çš„å›¢é˜ŸèŠ±è´¹å¤§é‡å®è´µæ—¶é—´åå‘ç°ï¼Œæ˜¯ç”±äºä¸¤ä¸ªæµ‹è¯•åŒæ—¶æ”¹å˜äº†åŒä¸€ä¸ª seed æ•°æ®å¯¼è‡´çš„ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹è€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€-db-æ•°æ®">:thumbsdown: åä¾‹: ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹ï¼Œè€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€ DB æ•°æ®</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">before</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//adding sites and admins data to our DB. Where is the data? outside. At some external json or migration framework</span></span><br><span class="line">  <span class="keyword">await</span> <span class="variable constant_">DB</span>.<span class="title class_">AddSeedDataFromJson</span>(<span class="string">&#x27;seed.json&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When updating site name, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//I know that site name &quot;portal&quot; exists - I saw it in the seed files</span></span><br><span class="line">  <span class="keyword">const</span> siteToUpdate = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">getSiteByName</span>(<span class="string">&quot;Portal&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> updateNameResult = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">changeName</span>(siteToUpdate, <span class="string">&quot;newName&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(updateNameResult).<span class="property">to</span>.<span class="title function_">be</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When querying by site name, get the right site&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//I know that site name &quot;portal&quot; exists - I saw it in the seed files</span></span><br><span class="line">  <span class="keyword">const</span> siteToCheck = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">getSiteByName</span>(<span class="string">&quot;Portal&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(siteToCheck.<span class="property">name</span>).<span class="property">to</span>.<span class="property">be</span>.<span class="title function_">equal</span>(<span class="string">&quot;Portal&quot;</span>); <span class="comment">//Failure! The previous test change the name :[</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†">:clap: æ­£ä¾‹: æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When updating site name, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//test is adding a fresh new records and acting on the records only</span></span><br><span class="line">  <span class="keyword">const</span> siteUnderTest = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">addSite</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;siteForUpdateTest&quot;</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> updateNameResult = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">changeName</span>(siteUnderTest, <span class="string">&quot;newName&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(updateNameResult).<span class="property">to</span>.<span class="title function_">be</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="ä¸è¦-catch-é”™è¯¯expect-å®ƒä»¬">âšª ï¸ 1.10 ä¸è¦ catch é”™è¯¯ï¼Œexpect å®ƒä»¬</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å½“ä½ æµ‹è¯•ä¸€äº›è¾“å…¥æ˜¯å¦ä¼šè§¦å‘é”™è¯¯æ—¶ï¼Œä½¿ç”¨ try-catch-finally æµ‹è¯•çœ‹èµ·æ¥ä¼¼ä¹æ²¡é—®é¢˜ã€‚ä½†ç»“æœä¼šæ¯”è¾ƒå¥‡è‘©ï¼ˆä¼šéšè—æµ‹è¯•çš„æ„å›¾å’ŒæœŸæœ›ç»“æœï¼‰ï¼Œå¹¶ä¸”æŠŠ tc å¤æ‚åŒ–ï¼ˆæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚</p>
<p>ä¸€ä¸ªæ›´ä¼˜é›…çš„æ›¿ä»£æ–¹æ³•æ˜¯ä½¿ç”¨ Chaiæ–­è¨€ <code>expect(method).to.throw</code> (æˆ–è€… Jest çš„: <code>expect(method).toThrow()</code>)ã€‚å¿…é¡»ä¿è¯å¼‚å¸¸åŒ…å«ä¸€ä¸ªè¡¨ç¤ºé”™è¯¯ç±»å‹çš„å±æ€§ï¼Œå¦åˆ™å¦‚æœåªç»™å‡ºä¸€ä¸ªé€šç”¨é”™è¯¯ï¼Œåº”ç”¨ç¨‹åºæ²¡æ³•å±•ç¤ºè¶³å¤Ÿçš„ä¿¡æ¯ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä»æµ‹è¯•æŠ¥å‘Šï¼ˆå¦‚ CI æŠ¥å‘Šï¼‰ä¸­æŸ¥æ‰¾å‡ºé”™çš„ä½ç½®å°†ä¼šå¾ˆç—›è‹¦ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸€ä¸ªé•¿æµ‹è¯•ç”¨ä¾‹å°è¯•ä½¿ç”¨-try-catch-æ–­è¨€é”™è¯¯">:thumbsdown: åä¾‹: ä¸€ä¸ªé•¿æµ‹è¯•ç”¨ä¾‹ï¼Œå°è¯•ä½¿ç”¨ try-catch æ–­è¨€é”™è¯¯</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When no product name, it throws error 400&quot;</span>, <span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line"><span class="keyword">let</span> errorWeExceptFor = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">addNewProduct</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;nest&#x27;</span>&#125;);&#125;</span><br><span class="line"><span class="keyword">catch</span> (error) &#123;</span><br><span class="line">  <span class="title function_">expect</span>(error.<span class="property">code</span>).<span class="property">to</span>.<span class="title function_">equal</span>(<span class="string">&#x27;InvalidInput&#x27;</span>);</span><br><span class="line">  errorWeExceptFor = error;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">expect</span>(errorWeExceptFor).<span class="property">not</span>.<span class="property">to</span>.<span class="property">be</span>.<span class="property">null</span>;</span><br><span class="line"><span class="comment">//if this assertion fails, the tests results/reports will only show</span></span><br><span class="line"><span class="comment">//that some value is null, there won&#x27;t be a word about a missing Exception</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªäººç±»å¯è¯»çš„æœŸæœ›å®ƒå¾ˆå®¹æ˜“è¢«ç†è§£ç”šè‡³å¯è¢«-qa-æˆ–æŠ€æœ¯-pm-ç†è§£">:clap: æ­£ä¾‹: ä¸€ä¸ªäººç±»å¯è¯»çš„æœŸæœ›ï¼Œå®ƒå¾ˆå®¹æ˜“è¢«ç†è§£ï¼Œç”šè‡³å¯è¢« QA æˆ–æŠ€æœ¯ PM ç†è§£</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">it.<span class="title function_">only</span>(<span class="string">&quot;When no product name, it throws error 400&quot;</span>, <span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">  <span class="title function_">expect</span>(addNewProduct)).<span class="property">to</span>.<span class="property">eventually</span>.<span class="keyword">throw</span>(<span class="title class_">AppError</span>).<span class="property">with</span>.<span class="title function_">property</span>(<span class="string">&#x27;code&#x27;</span>, <span class="string">&quot;InvalidInput&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä¸ºä½ çš„æµ‹è¯•ç”¨ä¾‹æ‰“æ ‡ç­¾">âšª ï¸ 1.11 ä¸ºä½ çš„æµ‹è¯•ç”¨ä¾‹æ‰“æ ‡ç­¾</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä¸åŒçš„æµ‹è¯•éœ€è¦åœ¨ä¸åŒçš„åœºæ™¯ä¸­æ‰§è¡Œï¼šå¿«é€Ÿå†’çƒŸã€IO æµ‹è¯•ã€å¼€å‘è€…ä¿å­˜æˆ–è€…æäº¤æ–‡ä»¶åçš„æµ‹è¯•ã€å½“ä¸€ä¸ªæ–°çš„ PR æäº¤åéœ€è¦å…¨é‡æ‰§è¡Œçš„ç«¯åˆ°ç«¯æµ‹è¯• ç­‰ç­‰ã€‚ä½ å¯ä»¥ç”¨ä¸€äº› #cold #api #sanity ä¹‹ç±»çš„æ ‡ç­¾æ ‡æ³¨æµ‹è¯•æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨æµ‹è¯•æ—¶ä»…æµ‹è¯•æƒ³è¦çš„å­é›†ã€‚å¦‚åœ¨ mocha ä¸­å¯ä»¥è¿™æ ·å”¤èµ·ç”¨ä¾‹ç»„ <code>mochaâ€Šâ€”â€Šgrep â€˜sanityâ€™</code>Â ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> æ‰§è¡Œæ‰€æœ‰çš„ç”¨ä¾‹ï¼ŒåŒ…æ‹¬æ‰§è¡Œå¤§é‡ DB æŸ¥è¯¢çš„ç”¨ä¾‹ï¼Œå¼€å‘è€…åšçš„ä»»ä½•å°æ”¹åŠ¨éƒ½éœ€è¦ç­‰å¾…å¾ˆé•¿çš„æ—¶é—´ï¼Œå°†ä¼šå¯¼è‡´å¼€å‘è€…ä¸å†æƒ³è¿è¡Œæµ‹è¯•ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-å°†ç”¨ä¾‹æ ‡è®°ä¸ºcold-testä½¿å¾—ç”¨ä¾‹æ‰§è¡Œè€…å¯ä»¥ä»…æ‰§è¡Œå¿«çš„ç”¨ä¾‹-coldæ²¡æœ‰-io-çš„å¿«é€Ÿæµ‹è¯•å¯ä»¥åœ¨å¼€å‘äººå‘˜æ‰“å­—æ—¶é¢‘ç¹æ‰§è¡Œ">:clap: æ­£ä¾‹: å°†ç”¨ä¾‹æ ‡è®°ä¸ºâ€˜#cold-testâ€™ä½¿å¾—ç”¨ä¾‹æ‰§è¡Œè€…å¯ä»¥ä»…æ‰§è¡Œå¿«çš„ç”¨ä¾‹ (Cold===æ²¡æœ‰ IO çš„å¿«é€Ÿæµ‹è¯•ï¼Œå¯ä»¥åœ¨å¼€å‘äººå‘˜æ‰“å­—æ—¶é¢‘ç¹æ‰§è¡Œ)</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//this test is fast (no DB) and we&#x27;re tagging it correspondigly</span></span><br><span class="line"><span class="comment">//now the user/CI can run it frequently</span></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;Order service&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">describe</span>(<span class="string">&#x27;Add new order #cold-test #sanity&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">test</span>(<span class="string">&#x27;Scenario - no currency was supplied. Expectation - Use the default currency #sanity&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">//code logic here</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="å…¶ä»–å¸¸è§çš„ä¼˜ç§€æµ‹è¯•ä¹ æƒ¯">âšª ï¸1.12 å…¶ä»–å¸¸è§çš„ä¼˜ç§€æµ‹è¯•ä¹ æƒ¯</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æœ¬æ–‡ä¸»è¦è®¨è®ºä¸ Node JS ç›¸å…³çš„æµ‹è¯•å»ºè®®ï¼Œæˆ–è€…è‡³å°‘å¯ä»¥ç”¨ Node JS ä½œä¸ºä¾‹å­ã€‚ç„¶è€Œï¼Œæœ¬å°èŠ‚æ•´ç†äº†ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„ä¸ Node æ— å…³çš„æŠ€å·§ã€‚</p>
<p>å­¦ä¹ å¹¶å®è·µ <a target="_blank" rel="noopener" href="https://www.sm-cloud.com/book-review-test-driven-development-by-example-a-tldr/">TDD åŸåˆ™</a>â€”â€”å®ƒå¯¹è®¸å¤šäººæ¥è¯´éå¸¸æœ‰ä»·å€¼ï¼Œä½†æ˜¯å¦‚æœå®ƒä»¬ä¸é€‚åˆä½ çš„é£æ ¼ï¼Œä¸è¦å®³æ€•ï¼Œä½ ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªã€‚å°è¯•åœ¨å†™ä»£ç ä¹‹å‰ä½¿ç”¨Â <a target="_blank" rel="noopener" href="https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html">red-green-refactor é£æ ¼</a>Â ç¼–å†™æµ‹è¯•ï¼Œç¡®ä¿æ¯ä¸ªæµ‹è¯•åªæ£€æŸ¥ä¸€é¡¹ï¼Œå½“ä½ å‘ç°ä¸€ä¸ª bug æ—¶ï¼Œåœ¨ä¿®å¤å‰æ–°å¢ä¸€ä¸ªæµ‹è¯•åœ¨æœªæ¥æ£€æµ‹åˆ°å®ƒï¼Œè®©æ¯ä¸€ä¸ªæµ‹è¯•åœ¨å˜ç»¿ä¹‹å‰è‡³å°‘å¤±è´¥ä¸€æ¬¡ï¼Œå¿«é€Ÿç¼–å†™ä¸€ä¸ªç®€å•çš„ä»£ç æ¨¡å—ä»¥æ»¡è¶³è¿™ä¸ªæµ‹è¯•ï¼Œç„¶åé€æ¸å°†å…¶é‡æ„è‡³ç”Ÿäº§æ°´å¹³ï¼Œé¿å…ä»»ä½•ä¾èµ–ç¯å¢ƒ(è·¯å¾„ã€æ“ä½œç³»ç»Ÿç­‰)ã€‚</p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ ä¼šé”™è¿‡æ•°åå¹´æ¥æ™ºæ…§çš„ç»“æ™¶ã€‚</p>
<p><br/><br/></p>
<h1 id="ç¬¬äºŒç« -åç«¯æµ‹è¯•">ç¬¬äºŒç« : åç«¯æµ‹è¯•</h1>
<h2 id="ä¸°å¯Œæ‚¨çš„æµ‹è¯•ç»„åˆä¸å±€é™äºå•å…ƒæµ‹è¯•å’Œæµ‹è¯•é‡‘å­—å¡”">âšª ï¸2.1 ä¸°å¯Œæ‚¨çš„æµ‹è¯•ç»„åˆï¼šä¸å±€é™äºå•å…ƒæµ‹è¯•å’Œæµ‹è¯•é‡‘å­—å¡”</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> <a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/TestPyramid.html">æµ‹è¯•é‡‘å­—å¡”</a>ï¼Œè™½ç„¶å·²ç»æœ‰è¶…è¿‡ 10 å¹´çš„å†å²äº†ï¼Œä½†æ˜¯å®ƒä»æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç›¸å…³æ¨¡å‹ï¼Œå®ƒæå‡ºäº†ä¸‰ç§æµ‹è¯•ç±»å‹ï¼Œå¹¶ä¸”å½±å“äº†å¤§å¤šæ•°å¼€å‘äººå‘˜çš„æµ‹è¯•ç­–ç•¥ã€‚ä¸æ­¤åŒæ—¶ï¼Œå¤§é‡é—ªäº®çš„æ–°æµ‹è¯•æŠ€æœ¯å‡ºç°äº†ï¼Œå¹¶éšè—åœ¨æµ‹è¯•é‡‘å­—å¡”çš„é˜´å½±ä¸‹ã€‚è€ƒè™‘åˆ°è¿‘ 10 å¹´æ¥æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ‰€æœ‰å·¨å˜(å¾®æœåŠ¡ã€äº‘ã€æ— æœåŠ¡å™¨)ï¼Œè¿™ä¸ªéå¸¸è€çš„æ¨¡å‹æ˜¯å¦ä»èƒ½é€‚ç”¨äºæ‰€æœ‰ç±»å‹çš„åº”ç”¨ï¼Ÿæµ‹è¯•ç•Œä¸åº”è¯¥è€ƒè™‘æ¬¢è¿æ–°çš„æµ‹è¯•æŠ€æœ¯å—ï¼Ÿ</p>
<p>è¯·ä¸è¦è¯¯è§£ï¼Œåœ¨ 2019 å¹´ï¼Œæµ‹è¯•é‡‘å­—å¡”ã€TDDã€å•æµ‹ä»ç„¶æ˜¯å¼ºå¤§çš„æŠ€æœ¯ï¼Œä¸”å¯¹äºå¤§å¤šæ•°åº”ç”¨ä»æ˜¯æœ€ä½³é€‰æ‹©ã€‚ä½†æ˜¯åƒå…¶ä»–æ¨¡å‹ä¸€æ ·ï¼Œå°½ç®¡å®ƒæœ‰ç”¨ï¼Œä½†æ˜¯ä¸€å®šä¼šåœ¨<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/All_models_are_wrong">æŸäº›æ—¶å€™å‡ºé—®é¢˜</a>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª IOT åº”ç”¨ï¼Œå°†è®¸å¤šäº‹ä»¶æ³¨å…¥ä¸€ä¸ªÂ Kafka/RabbitMQ è¿™æ ·çš„æ¶ˆæ¯æ€»çº¿ä¸­ï¼Œç„¶åè¿™äº›äº‹ä»¶æµå…¥ä¸€äº›æ•°æ®ä»“åº“å¹¶è¢«åˆ†æ UI æŸ¥è¯¢ã€‚æˆ‘ä»¬çœŸçš„éœ€è¦èŠ±è´¹ 50% çš„æµ‹è¯•é¢„ç®—å»ä¸ºè¿™ä¸ªå‡ ä¹æ²¡æœ‰é€»è¾‘çš„é›†æˆä¸­å¿ƒåŒ–çš„åº”ç”¨å†™å•æµ‹å—ï¼Ÿéšç€åº”ç”¨ç±»å‹(æœºå™¨äººã€å¯†ç ã€Alexa-skills)çš„å¤šæ ·æ€§å¢é•¿ï¼Œæµ‹è¯•é‡‘å­—å¡”å¯èƒ½å°†ä¸å†æ˜¯æŸäº›åœºæ™¯çš„æœ€ä½³é€‰æ‹©äº†ã€‚</p>
<p>æ˜¯æ—¶å€™ä¸°å¯Œä½ çš„æµ‹è¯•ç»„åˆå¹¶äº†è§£æ›´å¤šçš„æµ‹è¯•ç±»å‹äº†ï¼ˆä¸‹ä¸€èŠ‚ä¼šç»™ä½ ä¸€äº›å°å»ºè®®ï¼‰ï¼Œè¿™äº›ç±»ä¼¼äºæµ‹è¯•é‡‘å­—å¡”çš„æ€ç»´æ¨¡å‹ä¸ä½ æ‰€é¢ä¸´çš„ç°å®é—®é¢˜æ›´åŒ¹é…ï¼ˆ'å˜¿ï¼Œæˆ‘ä»¬çš„API æŒ‚äº†ï¼Œè¯•è¯•æ¶ˆè´¹è€…é©±åŠ¨çš„åˆåŒæµ‹è¯•ï¼'ï¼‰ï¼Œè®©æ‚¨çš„æµ‹è¯•å¤šæ ·åŒ–ï¼Œæ¯”å¦‚å»ºç«‹åŸºäºé£é™©åˆ†æçš„æ£€æŸ¥æ¨¡å‹ â€”â€” è¯„ä¼°å¯èƒ½å‡ºç°é—®é¢˜çš„ä½ç½®ï¼Œå¹¶æä¾›ä¸€äº›é¢„é˜²æªæ–½ä»¥å‡è½»è¿™äº›æ½œåœ¨é£é™©ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šè½¯ä»¶ä¸–ç•Œä¸­çš„ TDD æ¨¡å‹é¢ä¸´ä¸¤ä¸ªæç«¯çš„æ€åº¦ï¼Œä¸€äº›äººé¼“å¹åˆ°å¤„ä½¿ç”¨å®ƒï¼Œå¦ä¸€äº›äººåˆ™è®¤ä¸ºå®ƒæ˜¯é­”é¬¼ã€‚ æ¯ä¸ªè¯´ç»å¯¹çš„äººéƒ½æ˜¯é”™çš„Â :]</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ å°†é”™è¿‡ä¸€äº›è¶…é«˜æŠ•å…¥äº§å‡ºæ¯”çš„å·¥å…·ï¼Œæ¯”å¦‚ Fuzzã€lintã€mutation è¿™äº›å·¥å…·åªéœ€ 10 åˆ†é’Ÿé…ç½®å°±èƒ½è´¡çŒ®ä»·å€¼ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-cindy-sridharan-åœ¨å¥¹çš„æ–‡ç« æµ‹è¯•å¾®æœåŠ¡ç†æ™ºçš„æ–¹å¼ä¸­æå‡ºäº†ä¸€ä¸ªä¸°å¯Œçš„æµ‹è¯•ç»„åˆ">:clap: æ­£ä¾‹: Cindy Sridharan åœ¨å¥¹çš„æ–‡ç« â€œæµ‹è¯•å¾®æœåŠ¡â€”â€”ç†æ™ºçš„æ–¹å¼â€ä¸­æå‡ºäº†ä¸€ä¸ªä¸°å¯Œçš„æµ‹è¯•ç»„åˆ</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-12-rich-testing.jpg" title="Cindy Sridharan suggests a rich testing portfolio in her amazing post â€˜Testing Microservices â€” the sane wayâ€™" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
<p><strong class="markup--strong markup--p-strong">â˜ºï¸Example: </strong><a href="https://www.youtube.com/watch?v=-2zP494wdUY&amp;feature=youtube" data-href="https://www.youtube.com/watch?v=-2zP494wdUY&amp;feature=youtu.be" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=-2zP494wdUY&amp;feature=youtu.be">YouTube: â€œBeyond Unit Tests: 5 Shiny Node.JS Test Types (2018)â€ (Yoni Goldberg)</a></a></p>
<p><br/></p>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-12-Yoni-Goldberg-Testing.jpeg" title="A test name that constitutes 3 parts" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="ç»„ä»¶åŒ–æµ‹è¯•å¯èƒ½æ˜¯æœ€æœ‰æ•ˆçš„åˆ©å™¨">âšª ï¸2.2 ç»„ä»¶åŒ–æµ‹è¯•å¯èƒ½æ˜¯æœ€æœ‰æ•ˆçš„åˆ©å™¨</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åº”ç”¨çš„æ¯ä¸ªå•å…ƒæµ‹è¯•ä»…èƒ½è¦†ç›–åº”ç”¨çš„ä¸€å°éƒ¨åˆ†ï¼Œè¦†ç›–å…¨éƒ¨ä¼šéå¸¸éº»çƒ¦ï¼Œè€Œç«¯åˆ°ç«¯æµ‹è¯•å¯ä»¥å¾ˆè½»æ¾åœ°è¦†ç›–å¤§é‡åŒºåŸŸï¼Œä½†æ˜¯æ¯”è¾ƒè„†å¼±è€Œä¸”å¾ˆæ…¢ã€‚ä½•ä¸æ‰¾ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼šå†™ä¸€äº›æ¯”å•æµ‹å¤§ï¼Œä½†æ˜¯æ¯”ç«¯åˆ°ç«¯æµ‹è¯•å°çš„æµ‹è¯•ã€‚ç»„ä»¶æµ‹è¯•æ˜¯æµ‹è¯•ä¸–ç•Œçš„ä¸€é¢—é—ç â€”â€”å®ƒæ‰¾åˆ°äº†ä¸¤ä¸ªæ¨¡å¼çš„æœ€ä½³å¹³è¡¡ç‚¹ï¼šä¸é”™çš„æ€§èƒ½å’Œä½¿ç”¨ TDD æ¨¡å¼çš„å¯èƒ½æ€§ + çœŸå®ä¸”å¼ºå¤§çš„è¦†ç›–ç‡ã€‚</p>
<p>ç»„ä»¶æµ‹è¯•å…³æ³¨äºå¾®æœåŠ¡â€œå•å…ƒâ€ï¼Œä»–ä»¬åå¯¹ APIï¼Œä¸ mock ä»»ä½•å±äºå¾®æœåŠ¡æœ¬èº«çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚ï¼šçœŸå®çš„ DBï¼Œç”šè‡³æ˜¯è¯¥ DB çš„å†…å­˜ç‰ˆæœ¬ï¼‰ä½†æ˜¯ stub æ‰€æœ‰å¤–éƒ¨çš„ä¸œè¥¿æ¯”å¦‚è°ƒç”¨å…¶ä»–å¾®æœåŠ¡ã€‚è¿™ä¹ˆåšï¼Œæˆ‘ä»¬æµ‹è¯•æˆ‘ä»¬éƒ¨ç½²çš„éƒ¨åˆ†ï¼Œç”±å¤–è€Œå†…åœ°è¦†ç›–åº”ç”¨ï¼ŒèŠ‚çœå¤§é‡æ—¶é—´ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ å¯èƒ½èŠ±äº†å¥½å‡ å¤©å†™å•æµ‹ï¼Œå´å‘ç°ä»…å¾—åˆ°äº† 20% çš„ç³»ç»Ÿè¦†ç›–ç‡ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨-supertest-æµ‹è¯•-express-api-å¿«é€Ÿè¦†ç›–å¾ˆå¤šå±‚">:clap: æ­£ä¾‹: ä½¿ç”¨ Supertest æµ‹è¯• Express API (å¿«é€Ÿã€è¦†ç›–å¾ˆå¤šå±‚)</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Jest" /></p>
<p>[alt text](https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-13-component-test-yoni-goldberg.png " <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/SinosGray/picgo/master/test/supertest">Supertest</a> allows approaching Express API in-process (fast and cover many layers)")</p>
</details>
<p><br/><br/></p>
<h2 id="ä¿è¯æ–°çš„-release-ä¸ä¼šç ´å-api-çš„ä½¿ç”¨">âšª ï¸2.3 ä¿è¯æ–°çš„ release ä¸ä¼šç ´å API çš„ä½¿ç”¨</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä½ çš„å¾®æœåŠ¡æœ‰å¾ˆå¤šçš„å®¢æˆ·ï¼Œè€Œä½ ä¸ºäº†å…¼å®¹æ€§è¿è¡Œç€è¯¥æœåŠ¡çš„å¾ˆå¤šç‰ˆæœ¬ï¼ˆkeeping everyone happyï¼‰ã€‚å½“ä½ æ”¹äº†æŸä¸ªå­—æ®µåâ€œç °ï¼â€ï¼Œä¾èµ–è¯¥å­—æ®µçš„å‡ ä¸ªé‡è¦çš„å®¢æˆ·ç‚¸é”…äº†ã€‚æœåŠ¡ç«¯æ»¡è¶³æ‰€æœ‰å®¢æˆ·çš„æœŸæœ›æ˜¯éå¸¸éš¾çš„â€”â€”å¦ä¸€æ–¹é¢ï¼Œå®¢æˆ·æ— æ³•å‘èµ·æµ‹è¯•ï¼Œå› ä¸ºæœåŠ¡ç«¯æ§åˆ¶ç€ releaseã€‚ <a target="_blank" rel="noopener" href="https://docs.pact.io/">Consumer-driven contracts and the framework PACT</a>Â è¯ç”Ÿäº†ï¼Œå®ƒä»¥ä¸€ç§ç ´åæ€§çš„æ–¹å¼è§„èŒƒäº†è¿™ä¸€æµç¨‹â€”â€”ä¸å†ç”±æœåŠ¡ç«¯å®šä¹‰æµ‹è¯•è®¡åˆ’ï¼Œè€Œæ˜¯å®¢æˆ·ç«¯å†³å®šæœåŠ¡ç«¯çš„æµ‹è¯•ï¼PACT å¯ä»¥è®°å½•å®¢æˆ·ç«¯çš„æœŸæœ›â€”â€”â€œä¸­é—´äººï¼ˆBrokerï¼‰â€ï¼Œå¹¶æ”¾ç½®åˆ°å…±äº«ç©ºé—´ï¼ŒæœåŠ¡ç«¯å¯ä»¥ pull ä¸‹æ¥è¿™å†™æœŸæœ›å¹¶åˆ©ç”¨ PACT çš„åº“åœ¨æ‰€æœ‰çš„ç‰ˆæœ¬ä¸­æ£€æµ‹æ˜¯å¦æœ‰è¢«ç ´åçš„å¥‘çº¦â€”â€”æœ‰å®¢æˆ·ç«¯çš„æœŸæœ›æ²¡æœ‰è¢«æ»¡è¶³ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‰€æœ‰å®¢æˆ·ç«¯-æœåŠ¡ç«¯ä¸åŒ¹é…çš„ API å°†ä¼šåœ¨ æ„å»º/CI é˜¶æ®µè¢« catch åˆ°ï¼Œä»è€Œå‡å°‘ä½ å¤§é‡çš„çƒ¦æ¼ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> æ‰€æœ‰çš„å˜æ›´å°†å¸¦æ¥ç¹ççš„æ‰‹åŠ¨æµ‹è¯•ï¼Œå¯¼è‡´å¼€å‘è€…æƒ§æ€•å‘å¸ƒã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹">:clap: æ­£ä¾‹:</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20PACT-blue.svg" title="Examples with PACT" /></p>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-14-testing-best-practices-contract-flow.png" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="å•ç‹¬æµ‹è¯•ä½ çš„ä¸­é—´ä»¶">âšª ï¸ 2.4 å•ç‹¬æµ‹è¯•ä½ çš„ä¸­é—´ä»¶</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> è®¸å¤šäººæ‹’ç»æµ‹è¯•ä¸­é—´ä»¶ï¼Œæ˜¯å› ä¸ºå®ƒä»¬ä»…å æ®ç³»ç»Ÿçš„ä¸€å°éƒ¨åˆ†è€Œä¸”ä¾èµ–çœŸå®çš„ Express serverã€‚è¿™ä¸¤ä¸ªåŸå› éƒ½ä¸æ­£ç¡®â€”â€”ä¸­é—´ä»¶è™½ç„¶å°ï¼Œä½†æ˜¯å½±å“å…¨éƒ¨æˆ–è€…å¤§éƒ¨åˆ†è¯·æ±‚ï¼Œè€Œä¸”å¯ä»¥è¢«ç®€å•åœ°ä½œä¸ºçº¯å‡½æ•°æµ‹è¯•ï¼ˆå‚æ•°ä¸º {req,res} JS å¯¹è±¡ï¼‰ã€‚æµ‹è¯•ä¸­é—´ä»¶å‡½æ•°ï¼Œä½ ä»…éœ€è°ƒç”¨å®ƒï¼Œå¹¶ä¸” spy (<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/sinon">æ¯”å¦‚ä½¿ç”¨ Sinon</a>)Â {req,res} çš„äº¤äº’ä»¥ä¿è¯å‡½æ•°æ‰§è¡Œäº†æ­£ç¡®çš„è¡Œä¸ºã€‚<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/node-mocks-http">node-mock-http</a>Â åº“æ›´è¿›ä¸€æ­¥ï¼šå®ƒè¿˜ç›‘å¬äº† {req,res} å¯¹è±¡çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥æ–­è¨€ res å¯¹è±¡ä¸Šçš„ http çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚ï¼ˆçœ‹ä¸‹é¢çš„ä¾‹å­ï¼‰ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> Express ä¸­é—´ä»¶ä¸Šçš„ä¸€ä¸ª bug === æ‰€æœ‰æˆ–è€…å¤§éƒ¨åˆ†è¯·æ±‚çš„ bug</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clapæ­£ä¾‹-éš”ç¦»åœ°æµ‹è¯•ä¸­é—´ä»¶ä¸å‘å‡ºç½‘ç»œè°ƒç”¨æˆ–å”¤é†’æ•´ä¸ªexpressæœºå™¨">:clap:æ­£ä¾‹: éš”ç¦»åœ°æµ‹è¯•ä¸­é—´ä»¶ï¼Œä¸å‘å‡ºç½‘ç»œè°ƒç”¨æˆ–å”¤é†’æ•´ä¸ªExpressæœºå™¨</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//the middleware we want to test</span></span><br><span class="line"><span class="keyword">const</span> unitUnderTest = <span class="built_in">require</span>(<span class="string">&#x27;./middleware&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> httpMocks = <span class="built_in">require</span>(<span class="string">&#x27;node-mocks-http&#x27;</span>);</span><br><span class="line"><span class="comment">//Jest syntax, equivelant to describe() &amp; it() in Mocha</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;A request without authentication header, should return http status 403&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> request = httpMocks.<span class="title function_">createRequest</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/user/42&#x27;</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="attr">authentication</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> response = httpMocks.<span class="title function_">createResponse</span>();</span><br><span class="line">  <span class="title function_">unitUnderTest</span>(request, response);</span><br><span class="line">  <span class="title function_">expect</span>(response.<span class="property">statusCode</span>).<span class="title function_">toBe</span>(<span class="number">403</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨é™æ€åˆ†æå·¥å…·åº¦é‡å¹¶æŒ‡å¯¼é‡æ„">âšª ï¸2.5 ä½¿ç”¨é™æ€åˆ†æå·¥å…·åº¦é‡å¹¶æŒ‡å¯¼é‡æ„</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä½¿ç”¨é™æ€åº¦é‡å·¥å…·å¯ä»¥å¸®åŠ©ä½ å®¢è§‚åœ°æå‡ä»£ç è´¨é‡å¹¶ä½¿å…¶å¯ç»´æŠ¤ã€‚ä½ å¯ä»¥å°†é™æ€åˆ†æå·¥å…·æ”¾åœ¨ä½ çš„ CI ä¸­ã€‚é™¤äº†æ™®é€š linting å¤–ï¼Œå®ƒçš„ä¸»è¦å–ç‚¹æ˜¯ç»“åˆå¤šæ–‡ä»¶çš„ä¸Šä¸‹æ–‡æ¥æ£€æŸ¥è´¨é‡ï¼ˆä¾‹å¦‚ï¼šå‘ç°é‡å¤å®šä¹‰ï¼‰ã€æ‰§è¡Œé«˜çº§åˆ†æï¼ˆä¾‹å¦‚ï¼šä»£ç å¤æ‚åº¦ï¼‰ä»¥åŠè·Ÿè¸ª code issue çš„å†å²å’Œè¿›åº¦ã€‚æœ‰ä¸¤ä¸ªå·¥å…·ä¾›ä½ ä½¿ç”¨ï¼š<a target="_blank" rel="noopener" href="https://www.sonarqube.org/">Sonarqube</a>Â (2,600+ stars) andÂ <a target="_blank" rel="noopener" href="https://codeclimate.com/">Code Climate</a>Â (1,500+Â stars)</p>
<p>è´¡çŒ®:: <a href="https://github.com/TheHollidayInn" data-href="https://github.com/TheHollidayInn" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank"><a target="_blank" rel="noopener" href="https://github.com/TheHollidayInn">Keith Holliday</a></a></p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ç”±äºä»£ç è´¨é‡å·®ï¼Œå†æ–°çš„åº“å’Œ feature ä¹Ÿæ— æ³•æ‹¯æ•‘ä½ çš„ bug å’Œæ€§èƒ½ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-codeclimate-ä¸€ä¸ªç”¨äºå‘ç°å¤æ‚æ–¹æ³•çš„å•†ä¸šå·¥å…·">:clap: æ­£ä¾‹: Â CodeClimate â€”â€” ä¸€ä¸ªç”¨äºå‘ç°å¤æ‚æ–¹æ³•çš„å•†ä¸šå·¥å…·</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Code%20Climate-blue.svg" title="Examples with CodeClimate" /></p>
<p>[alt text](https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-16-yoni-goldberg-quality.png " CodeClimat, a commercial tool that can identify complex methods:")</p>
</details>
<p><br/><br/></p>
<h2 id="ä½ æ˜¯å¦å‡†å¤‡å¥½è¿æ¥-node-ç›¸å…³çš„å™ªå£°">âšª ï¸ 2.6 ä½ æ˜¯å¦å‡†å¤‡å¥½è¿æ¥ Node ç›¸å…³çš„å™ªå£°</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æ€ªå¼‚çš„æ˜¯ï¼Œå¤§éƒ¨åˆ†è½¯ä»¶æµ‹è¯•ä»…å…³æ³¨é€»è¾‘å’Œæ•°æ®ï¼Œä½†æ˜¯æœ€ç³Ÿç³•ï¼ˆè€Œä¸”å¾ˆéš¾å‡è½»ï¼‰çš„å¾€å¾€æ˜¯åŸºç¡€è®¾æ–½é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œä½ æµ‹è¯•è¿‡å½“ä½ çš„è¿›ç¨‹å­˜å‚¨è¿‡è½½ã€æœåŠ¡å™¨/è¿›ç¨‹æŒ‚æ‰æ—¶çš„è¡¨ç°å—ï¼Ÿæˆ–è€…ä½ çš„ç›‘æ§ç³»ç»Ÿä¼šæ£€æµ‹åˆ° API å‡æ…¢ 50% äº†å—ï¼Ÿä¸ºäº†æµ‹è¯•åŠå‡è½»ç±»ä¼¼é—®é¢˜ï¼ŒNetflix è®¾ç«‹äº† <a target="_blank" rel="noopener" href="https://principlesofchaos.org/">å™ªå£°å·¥ç¨‹</a>ã€‚å®ƒçš„ç›®çš„æ˜¯ä¸ºæˆ‘ä»¬çš„ç³»ç»Ÿåœ¨æ•…éšœé—®é¢˜ä¸‹çš„å¥å£®æ€§æä¾›æ„è¯†ã€æ¡†æ¶åŠå·¥å…·ã€‚æ¯”å¦‚ï¼Œè‘—åçš„å·¥å…·ä¹‹ä¸€Â <a target="_blank" rel="noopener" href="https://github.com/Netflix/chaosmonkey">å™ªå£°çŒ´å­</a>ï¼Œéšæœºåœ°æ€æ‰æœåŠ¡ä»¥ä¿è¯æˆ‘ä»¬çš„æœåŠ¡ä»æœåŠ¡äºç”¨æˆ·ï¼Œè€Œä¸æ˜¯ä»…ä¾èµ–ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡å™¨ï¼ˆKubernetes ä¹Ÿæœ‰ä¸€ä¸ªç‰ˆæœ¬Â <a target="_blank" rel="noopener" href="https://github.com/asobti/kube-monkey">kube-monkey</a>Â ç”¨äºæ€æ‰ podsï¼‰ã€‚è¿™äº›å·¥å…·éƒ½æ˜¯ä½œç”¨äºæœåŠ¡å™¨/å¹³å°å±‚é¢ï¼Œä½†å¦‚æœä½ æƒ³æµ‹è¯•åŠç”Ÿäº§çº¯ç²¹çš„ Node å™ªå£°æ¯”å¦‚æ£€æŸ¥ä½ çš„ Node è¿›ç¨‹å¦‚ä½•å¤„ç†æœªçŸ¥é”™è¯¯ã€æœªçŸ¥çš„ promise rejectionã€v8 å†…å­˜è¶…è¿‡ 1.7GB çš„é™åˆ¶ä»¥åŠå½“äº‹ä»¶å¾ªç¯ç»å¸¸å¡ä½åä½ çš„ UX æ˜¯å¦ä»æ­£å¸¸è¿è¡Œï¼Ÿä¸ºäº†è§£å†³ä¸Šé¢æåˆ°çš„è¿™äº›é—®é¢˜ï¼ŒÂ <a target="_blank" rel="noopener" href="https://github.com/i0natan/node-chaos-monkey">node-chaos</a>(alpha)æä¾›äº†å„ç§ Node ç›¸å…³çš„å™ªå£°ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å¢¨è²å®šå¾‹ä¸€å®šä¼šæ— æƒ…åœ°ç ¸ä¸­ä½ çš„äº§å“ï¼Œè·‘ä¸æ‰çš„ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-node-chaos-å¯ä»¥ç”Ÿæˆæ‰€æœ‰ç±»å‹çš„-node.js-é—®é¢˜å› æ­¤æ‚¨å¯ä»¥æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºå¯¹æ··ä¹±çš„é€‚åº”èƒ½åŠ›">:clap: æ­£ä¾‹: Node-chaos å¯ä»¥ç”Ÿæˆæ‰€æœ‰ç±»å‹çš„ Node.js é—®é¢˜ï¼Œå› æ­¤æ‚¨å¯ä»¥æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºå¯¹æ··ä¹±çš„é€‚åº”èƒ½åŠ›</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-17-yoni-goldberg-chaos-monkey-nodejs.png" title="Node-chaos can generate all sort of Node.js pranks so you can test how resilience is your app to chaos" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/></p>
<h2 id="ä¸è¦å†™å…¨å±€çš„-fixtures-å’Œ-seedsè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­-1">âšª ï¸2.7 ä¸è¦å†™å…¨å±€çš„ fixtures å’Œ seedsï¼Œè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å‚ç…§é»„é‡‘æ³•åˆ™ï¼Œæ¯æ¡æµ‹è¯•éœ€è¦åœ¨å®ƒè‡ªå·±çš„ DB è¡Œä¸­è¿è¡Œé¿å…äº’ç›¸æ±¡æŸ“ã€‚ç°å®ä¸­ï¼Œè¿™æ¡è§„åˆ™ç»å¸¸è¢«æ‰“ç ´ï¼šä¸ºäº†æ€§èƒ½æå‡è€Œåœ¨æ‰§è¡Œæµ‹è¯•å‰å…¨å±€åˆå§‹åŒ–æ•°æ®åº“(<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Test_fixture">ä¹Ÿè¢«ç§°ä¸ºâ€˜test fixtureâ€™</a>)ã€‚å°½ç®¡æ€§èƒ½å¾ˆé‡è¦ï¼Œä½†æ˜¯å®ƒå¯ä»¥é€šè¿‡åé¢è®²çš„ã€Œåˆ†ç»„ä»¶æµ‹è¯•ã€ç¼“å’Œã€‚ä¸ºäº†å‡è½»å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªæµ‹è¯•ä¸­åªåˆå§‹åŒ–è‡ªå·±éœ€è¦çš„æ•°æ®ã€‚é™¤éæ€§èƒ½é—®é¢˜çœŸçš„éå¸¸æ˜¾è‘—ï¼Œé‚£ä¹ˆå¯ä»¥åšä¸€å®šçš„å¦¥åâ€”â€”ä»…åœ¨å…¨å±€æ”¾ä¸ä¼šæ”¹å˜çš„æ•°æ®ï¼ˆæ¯”å¦‚ queryï¼‰ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¸€éƒ¨åˆ†æµ‹è¯•æŒ‚äº†ï¼Œæˆ‘ä»¬çš„å›¢é˜ŸèŠ±è´¹å¤§é‡å®è´µæ—¶é—´åå‘ç°ï¼Œæ˜¯ç”±äºä¸¤ä¸ªæµ‹è¯•åŒæ—¶æ”¹å˜äº†åŒä¸€ä¸ª seed æ•°æ®å¯¼è‡´çš„ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹è€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€-db-æ•°æ®-1">:thumbsdown: åä¾‹: ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹ï¼Œè€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€ DB æ•°æ®</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Mocha-blue.svg" title="Examples with Jest" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">before</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//adding sites and admins data to our DB. Where is the data? outside. At some external json or migration framework</span></span><br><span class="line">  <span class="keyword">await</span> <span class="variable constant_">DB</span>.<span class="title class_">AddSeedDataFromJson</span>(<span class="string">&#x27;seed.json&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When updating site name, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//I know that site name &quot;portal&quot; exists - I saw it in the seed files</span></span><br><span class="line">  <span class="keyword">const</span> siteToUpdate = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">getSiteByName</span>(<span class="string">&quot;Portal&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> updateNameResult = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">changeName</span>(siteToUpdate, <span class="string">&quot;newName&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(updateNameResult).<span class="property">to</span>.<span class="title function_">be</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When querying by site name, get the right site&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//I know that site name &quot;portal&quot; exists - I saw it in the seed files</span></span><br><span class="line">  <span class="keyword">const</span> siteToCheck = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">getSiteByName</span>(<span class="string">&quot;Portal&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(siteToCheck.<span class="property">name</span>).<span class="property">to</span>.<span class="property">be</span>.<span class="title function_">equal</span>(<span class="string">&quot;Portal&quot;</span>); <span class="comment">//Failure! The previous test change the name :[</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†-1">:clap: æ­£ä¾‹: æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&quot;When updating site name, get successful confirmation&quot;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="comment">//test is adding a fresh new records and acting on the records only</span></span><br><span class="line">  <span class="keyword">const</span> siteUnderTest = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">addSite</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;siteForUpdateTest&quot;</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> updateNameResult = <span class="keyword">await</span> <span class="title class_">SiteService</span>.<span class="title function_">changeName</span>(siteUnderTest, <span class="string">&quot;newName&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(updateNameResult).<span class="property">to</span>.<span class="title function_">be</span>(<span class="literal">true</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h1 id="ç¬¬ä¸‰ç« -å‰ç«¯æµ‹è¯•">ç¬¬ä¸‰ç« : å‰ç«¯æµ‹è¯•</h1>
<h2 id="å°†-ui-ä¸åŠŸèƒ½åˆ†ç¦»">âšª ï¸ 3.1 å°† UI ä¸åŠŸèƒ½åˆ†ç¦»</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å½“ä¸“æ³¨äºæµ‹è¯•ç»„ä»¶é€»è¾‘æ—¶ï¼ŒUI ç»†èŠ‚å°±å˜æˆäº†åº”è¯¥å‰”é™¤çš„å™ªéŸ³ï¼Œè¿™æ ·æ‚¨çš„æµ‹è¯•å°±å¯ä»¥é›†ä¸­åœ¨çº¯æ•°æ®ä¸Šã€‚å®é™…ä¸Šï¼Œé€šè¿‡æŠ½è±¡ä»ä»£ç ä¸­æå–æ‰€éœ€çš„æ•°æ®å°†é™ä½ä¸å›¾å½¢å®ç°çš„è€¦åˆï¼Œä»…å¯¹çº¯æ•°æ® (vs HTML/CSS å›¾å½¢ç»†èŠ‚) æ–­è¨€ï¼Œå¹¶ç¦ç”¨ä¼šæ‹–æ…¢é€Ÿåº¦çš„åŠ¨ç”»ã€‚æ‚¨å¯èƒ½ä¼šè¯•å›¾é¿å…æ¸²æŸ“ï¼Œä»…æµ‹è¯• UI åé¢çš„éƒ¨åˆ†(ä¾‹å¦‚ï¼ŒæœåŠ¡ã€æ“ä½œã€å­˜å‚¨)ï¼Œä½†è¿™å°†å¯¼è‡´æµ‹è¯•ä¸å®é™…æƒ…å†µä¸å¤ªç›¸ç¬¦ï¼Œã€Œæ­£ç¡®çš„æ•°æ®æ ¹æœ¬æ— æ³•åˆ°è¾¾ UIã€è¿™ç§é—®é¢˜å°±æ— æ³•å‘ç°ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> æ‚¨çš„æµ‹è¯•çš„çº¯è®¡ç®—æ•°æ®å¯èƒ½åœ¨ 10ms å†…å°±å‡†å¤‡å¥½äº†ï¼Œä½†æ˜¯ç”±äºä¸€äº›èŠ±å“¨å’Œæ— å…³çš„åŠ¨ç”»ï¼Œæ•´ä¸ªæµ‹è¯•å°†æŒç»­500ms (100ä¸ªæµ‹è¯• = 1åˆ†é’Ÿ)</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-åˆ†ç¦»-ui-ç»†èŠ‚">:clap: æ­£ä¾‹: åˆ†ç¦» UI ç»†èŠ‚</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React-blue.svg" title="Examples with React" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React%20Testing%20Library-blue.svg" title="Examples with react-testing-library" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;When users-list is flagged to show only VIP, should display only VIP members&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Arrange</span></span><br><span class="line">  <span class="keyword">const</span> allUsers = [</span><br><span class="line">   &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;Yoni Goldberg&#x27;</span>, <span class="attr">vip</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">   &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>, <span class="attr">vip</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Act</span></span><br><span class="line">  <span class="keyword">const</span> &#123; getAllByTestId &#125; = <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">UsersList</span> <span class="attr">users</span>=<span class="string">&#123;allUsers&#125;</span> <span class="attr">showOnlyVIP</span>=<span class="string">&#123;true&#125;/</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Assert - Extract the data from the UI first</span></span><br><span class="line">  <span class="keyword">const</span> allRenderedUsers = <span class="title function_">getAllByTestId</span>(<span class="string">&#x27;user&#x27;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">uiElement</span> =&gt;</span> uiElement.<span class="property">textContent</span>);</span><br><span class="line">  <span class="keyword">const</span> allRealVIPUsers = allUsers.<span class="title function_">filter</span>(<span class="function">(<span class="params">user</span>) =&gt;</span> user.<span class="property">vip</span>).<span class="title function_">map</span>(<span class="function">(<span class="params">user</span>) =&gt;</span> user.<span class="property">name</span>);</span><br><span class="line">  <span class="title function_">expect</span>(allRenderedUsers).<span class="title function_">toEqual</span>(allRealVIPUsers); <span class="comment">//compare data with data, no UI here</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-æ··æ‚äº†-ui-ç»†èŠ‚å’Œæ•°æ®çš„æ–­è¨€">:thumbsdown: åä¾‹: æ··æ‚äº† UI ç»†èŠ‚å’Œæ•°æ®çš„æ–­è¨€</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;When flagging to show only VIP, should display only VIP members&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Arrange</span></span><br><span class="line">  <span class="keyword">const</span> allUsers = [</span><br><span class="line">   &#123;<span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;Yoni Goldberg&#x27;</span>, <span class="attr">vip</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">   &#123;<span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;John Doe&#x27;</span>, <span class="attr">vip</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Act</span></span><br><span class="line">  <span class="keyword">const</span> &#123; getAllByTestId &#125; = <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">UsersList</span> <span class="attr">users</span>=<span class="string">&#123;allUsers&#125;</span> <span class="attr">showOnlyVIP</span>=<span class="string">&#123;true&#125;/</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Assert - Mix UI &amp; data in assertion</span></span><br><span class="line">  <span class="title function_">expect</span>(<span class="title function_">getAllByTestId</span>(<span class="string">&#x27;user&#x27;</span>)).<span class="title function_">toEqual</span>(<span class="string">&#x27;[&lt;li data-test-id=&quot;user&quot;&gt;John Doe&lt;/li&gt;]&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨ä¸å¤ªå®¹æ˜“æ”¹å˜çš„å±æ€§å»æŸ¥è¯¢-html-å…ƒç´ ">âšª ï¸ 3.2 ä½¿ç”¨ä¸å¤ªå®¹æ˜“æ”¹å˜çš„å±æ€§å»æŸ¥è¯¢ HTML å…ƒç´ </h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong>é€šè¿‡ä¸å¤ªåŒæ„å—å›¾å½¢å˜æ›´å°è±¡çš„å±æ€§æŸ¥è¯¢ HTML å…ƒç´ ï¼ˆä¾‹å¦‚ form labelï¼Œè€Œä¸æ˜¯ CSS selectorï¼‰ã€‚å¦‚æœæŒ‡å®šçš„å…ƒç´ æ²¡æœ‰è¿™æ ·çš„å±æ€§ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªä¸“ç”¨çš„æµ‹è¯•å±æ€§ï¼Œå¦‚â€œtest-id-submit-buttonâ€ã€‚è¿™æ ·åšä¸ä»…å¯ä»¥ç¡®ä¿æ‚¨çš„åŠŸèƒ½/é€»è¾‘æµ‹è¯•ä¸ä¼šå› ä¸ºå¤–è§‚å˜åŒ–è€Œä¸­æ–­ï¼Œè€Œä¸”æ•´ä¸ªå›¢é˜Ÿå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œæµ‹è¯•ä½¿ç”¨äº†è¿™ä¸ªå…ƒç´ å’Œå±æ€§ï¼Œä¸åº”è¯¥åˆ é™¤å®ƒã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ æƒ³è¦æµ‹è¯•ä¸€ä¸ªè·¨è¶Šè®¸å¤šç»„ä»¶ã€é€»è¾‘å’ŒæœåŠ¡çš„ç™»å½•åŠŸèƒ½ï¼Œä¸€åˆ‡éƒ½è®¾ç½®å¾—å¾ˆå®Œç¾â€”â€”stubã€spyã€Ajax è°ƒç”¨éƒ½æ˜¯éš”ç¦»çš„ã€‚æ‰€æœ‰ä¼¼ä¹æ˜¯å®Œç¾çš„ã€‚ç„¶åæµ‹è¯•å¤±è´¥ï¼Œå› ä¸ºå¼€å‘è€…å°† div CSS ç±»ä» 'thick-border' æ›´æ”¹ä¸º 'thin-border'ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨ä¸“ç”¨çš„-attrbiute-æŸ¥è¯¢å…ƒç´ è¿›è¡Œæµ‹è¯•">:clap: æ­£ä¾‹: ä½¿ç”¨ä¸“ç”¨çš„ attrbiute æŸ¥è¯¢å…ƒç´ è¿›è¡Œæµ‹è¯•</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React-blue.svg" title="Examples with React" /></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// the markup code (part of React component)</span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Badge</span> <span class="attr">pill</span> <span class="attr">className</span>=<span class="string">&quot;fixed_badge&quot;</span> <span class="attr">variant</span>=<span class="string">&quot;dark&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">data-test-id</span>=<span class="string">&quot;errorsLabel&quot;</span>&gt;</span>&#123;value&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="comment">&lt;!-- note the attribute data-test-id --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">Badge</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// this example is using react-testing-library</span></span><br><span class="line">  <span class="title function_">test</span>(<span class="string">&#x27;Whenever no data is passed to metric, show 0 as default&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Arrange</span></span><br><span class="line">    <span class="keyword">const</span> metricValue = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Act</span></span><br><span class="line">    <span class="keyword">const</span> &#123; getByTestId &#125; = <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">dashboardMetric</span> <span class="attr">value</span>=<span class="string">&#123;undefined&#125;/</span>&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">getByTestId</span>(<span class="string">&#x27;errorsLabel&#x27;</span>)).<span class="title function_">text</span>()).<span class="title function_">toBe</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¾èµ–-css-attribute">:thumbsdown: åä¾‹: ä¾èµ– css attribute</h3>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- the markup code (part of React component) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;metric&quot;</span> <span class="attr">className</span>=<span class="string">&quot;d-flex-column&quot;</span>&gt;</span>&#123;value&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span> <span class="comment">&lt;!-- what if the designer changes the classs? --&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// this exammple is using enzyme</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;Whenever no data is passed, error metric shows zero&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(wrapper.<span class="title function_">find</span>(<span class="string">&quot;[className=&#x27;d-flex-column&#x27;]&quot;</span>).<span class="title function_">text</span>()).<span class="title function_">toBe</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="åªè¦æœ‰å¯èƒ½ä½¿ç”¨çœŸå®ä¸”å®Œå…¨æ¸²æŸ“çš„ç»„ä»¶è¿›è¡Œæµ‹è¯•">âšª ï¸ 3.3 åªè¦æœ‰å¯èƒ½ï¼Œä½¿ç”¨çœŸå®ä¸”å®Œå…¨æ¸²æŸ“çš„ç»„ä»¶è¿›è¡Œæµ‹è¯•</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åªè¦å¤§å°åˆé€‚ï¼Œå°±åƒç”¨æˆ·é‚£æ ·ä»å¤–éƒ¨æµ‹è¯•ç»„ä»¶ï¼Œå®Œå…¨æ¸²æŸ“ UIï¼Œå¯¹å…¶è¿›è¡Œæ“ä½œï¼Œå¹¶æ–­è¨€å‘ˆç°çš„ UI çš„è¡Œä¸ºç¬¦åˆé¢„æœŸã€‚é¿å…å„ç§ mockã€éƒ¨åˆ†å’Œ shallow renderâ€”â€”è¿™ä¹ˆåšå¯èƒ½ä¼šç”±äºç¼ºä¹ç»†èŠ‚å¯¼è‡´æœªæ•è·çš„ bugï¼Œå¹¶ä¸”ç”±äºæµ‹è¯•ä¸å†…éƒ¨çš„æ··åœ¨ä¸€èµ·å°†å¢åŠ ç»´æŠ¤æˆæœ¬(å‚è§å°ç»“â€œå¤šç”¨é»‘ç›’æµ‹è¯•â€)ã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªå­ç»„ä»¶æ˜æ˜¾æ‹–æ…¢æµ‹è¯•(å¦‚åŠ¨ç”»)æˆ–ä½¿å¾ˆéš¾é…ç½®ï¼Œå¯ä»¥è€ƒè™‘ä¸»åŠ¨ç”¨ä¼ªç»„ä»¶æ›¿æ¢å®ƒã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯: è¿™ç§æŠ€æœ¯é€‚ç”¨äºå°è£…ä¸€å®šæ•°é‡å­ç»„ä»¶çš„ä¸­å°å‹ç»„ä»¶ã€‚å¦‚æœä¸€ä¸ªç»„ä»¶åŒ…å«å¤ªå¤šçš„å­ç»„ä»¶ï¼Œé‚£ä¹ˆå°†å¾ˆéš¾å¯¹å¤±è´¥æµ‹è¯•è¿›è¡Œå®šä½(åˆ†ææ ¹æœ¬åŸå› )ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå˜å¾—è¿‡äºç¼“æ…¢ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€é’ˆå¯¹èƒ–çˆ¶ç»„ä»¶ç¼–å†™å°‘é‡æµ‹è¯•ï¼Œè€Œé’ˆå¯¹å…¶å­ç»„ä»¶ç¼–å†™æ›´å¤šæµ‹è¯•ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¹‹å‰é€šè¿‡è°ƒç”¨ç»„ä»¶çš„ç§æœ‰æ–¹æ³•æ¥æµ‹è¯•ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ã€‚åç»­é‡æ„ç»„ä»¶æ—¶ä½ å¿…é¡»é‡æ„æ‰€æœ‰æµ‹è¯•ã€‚ä½ çœŸçš„æœ‰èƒ½åŠ›è¿›è¡Œè¿™ç§ç¨‹åº¦çš„ç»´æŠ¤å—?</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-æ“ä½œä¸€ä¸ªå……åˆ†æ¸²æŸ“çš„çœŸå®ç»„ä»¶">:clap: æ­£ä¾‹: æ“ä½œä¸€ä¸ªå……åˆ†æ¸²æŸ“çš„çœŸå®ç»„ä»¶</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React-blue.svg" title="Examples with React" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Enzyme-blue.svg" title="Examples with Enzyme" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Calendar</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;<span class="attr">showFilters</span>: <span class="literal">false</span>&#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        A filters panel with a button to hide/show filters</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">FiltersPanel</span> <span class="attr">showFilter</span>=<span class="string">&#123;showFilters&#125;</span> <span class="attr">title</span>=<span class="string">&#x27;Choose Filters&#x27;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Examples use React &amp; Enzyme</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;Realistic approach: When clicked to show filters, filters are displayed&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Arrange</span></span><br><span class="line">    <span class="keyword">const</span> wrapper = <span class="title function_">mount</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Calendar</span> <span class="attr">showFilters</span>=<span class="string">&#123;false&#125;</span> /&gt;</span></span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Act</span></span><br><span class="line">    wrapper.<span class="title function_">find</span>(<span class="string">&#x27;button&#x27;</span>).<span class="title function_">simulate</span>(<span class="string">&#x27;click&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Assert</span></span><br><span class="line">    <span class="title function_">expect</span>(wrapper.<span class="title function_">text</span>().<span class="title function_">includes</span>(<span class="string">&#x27;Choose Filter&#x27;</span>));</span><br><span class="line">    <span class="comment">// This is how the user will approach this element: by text</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="thumbsdown-åä¾‹-é€šè¿‡-shallow-render-æµ‹è¯•ä¼ªç»„ä»¶">:thumbsdown: åä¾‹: é€šè¿‡ shallow render æµ‹è¯•ä¼ªç»„ä»¶</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;Shallow/mocked approach: When clicked to show filters, filters are displayed&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Arrange</span></span><br><span class="line">    <span class="keyword">const</span> wrapper = <span class="title function_">shallow</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Calendar</span> <span class="attr">showFilters</span>=<span class="string">&#123;false&#125;</span> <span class="attr">title</span>=<span class="string">&#x27;Choose Filter&#x27;</span>/&gt;</span></span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Act</span></span><br><span class="line">    wrapper.<span class="title function_">find</span>(<span class="string">&#x27;filtersPanel&#x27;</span>).<span class="title function_">instance</span>().<span class="title function_">showFilters</span>();</span><br><span class="line">    <span class="comment">// Tap into the internals, bypass the UI and invoke a method. White-box approach</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Assert</span></span><br><span class="line">    <span class="title function_">expect</span>(wrapper.<span class="title function_">find</span>(<span class="string">&#x27;Filter&#x27;</span>).<span class="title function_">props</span>()).<span class="title function_">toEqual</span>(&#123;<span class="attr">title</span>: <span class="string">&#x27;Choose Filter&#x27;</span>&#125;);</span><br><span class="line">    <span class="comment">// what if we change the prop name or don&#x27;t pass anything relevant?</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="ä¸è¦-sleepä½¿ç”¨æ¡†æ¶å†…ç½®çš„å¯¹-async-äº‹ä»¶çš„æ”¯æŒå¹¶ä¸”å°è¯•ææ•ˆ">âšª ï¸ 3.4 ä¸è¦ sleepï¼Œä½¿ç”¨æ¡†æ¶å†…ç½®çš„å¯¹ async äº‹ä»¶çš„æ”¯æŒã€‚å¹¶ä¸”å°è¯•ææ•ˆã€‚</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œè¢«æµ‹è¯•å•å…ƒçš„å®Œæˆæ—¶é—´æ˜¯æœªçŸ¥çš„ (ä¾‹å¦‚ï¼Œanimation æŒ‚èµ·äº†å…ƒç´ è¡¨ç° )â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸è¦ sleep (ä¾‹å¦‚setTimeout)ï¼Œå¹¶æ˜¯ä½¿ç”¨å¤§å¤šæ•°æ¡†æ¶æä¾›çš„æ›´é è°±çš„æ–¹æ³•ã€‚ä¸€äº›åº“å…è®¸ç­‰å¾…æ“ä½œ (ä¾‹å¦‚ <a target="_blank" rel="noopener" href="https://docs.cypress.io/guides/references/best-practices.html#Unnecessary-Waiting">Cypress .request('url')</a>)ï¼Œå¦ä¸€äº›åº“æä¾›ç”¨äºç­‰å¾…çš„ APIï¼Œå¦‚Â <span class="citation" data-cites="testing-library/dom">[@testing-library/dom æ–¹æ³• wait(expect(element))]</span>(https://testing-library.com/docs/guide-disappearance)ã€‚æœ‰æ—¶ä¸€ç§æ›´ä¼˜é›…çš„æ–¹æ³•æ˜¯ stub æ…¢çš„èµ„æºï¼Œæ¯”å¦‚APIï¼Œç„¶åä¸€æ—¦å“åº”æ—¶é—´å˜å¾—ç¡®å®šï¼Œç»„ä»¶å°±å¯ä»¥æ˜¾å¼åœ°é‡æ–°æ¸²æŸ“ã€‚å½“ä¾èµ–ä¸€äº› sleep çš„å¤–éƒ¨ç»„ä»¶æ—¶ï¼Œ<a target="_blank" rel="noopener" href="https://jestjs.io/docs/en/timer-mocks">åŠ å¿«æ—¶é’Ÿ</a>å¯èƒ½ä¼šæä¾›å¸®åŠ©ã€‚sleep æ˜¯ä¸€ç§éœ€è¦é¿å…çš„æ¨¡å¼ï¼Œå› ä¸ºå®ƒä¼šè¿«ä½¿æ‚¨çš„æµ‹è¯•å˜å¾—ç¼“æ…¢æˆ–æœ‰é£é™©(å½“ç­‰å¾…çš„æ—¶é—´å¤ªçŸ­æ—¶)ã€‚å½“ sleep å’Œè½®è¯¢ä¸å¯é¿å…ä¸”æµ‹è¯•æ¡†æ¶åŸç”Ÿä¸æ”¯æŒæ—¶ï¼Œä¸€äº›npmåº“ (å¦‚ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/wait-for-expect">wait-for-expect</a>) å¯ä»¥å¸®åŠ©è§£å†³åŠç¡®å®šæ€§é—®é¢˜ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å½“ sleep æ—¶é—´é•¿æ—¶ï¼Œæµ‹è¯•é€Ÿåº¦ä¼šæ…¢ä¸€ä¸ªæ•°é‡çº§ã€‚å½“å°è¯•ç¼©çŸ­ sleep æ—¶é—´æ—¶ï¼Œå¦‚æœè¢«æµ‹è¯•çš„å•å…ƒæ²¡æœ‰åŠæ—¶å“åº”ï¼Œåˆ™æµ‹è¯•å°†å¤±è´¥ã€‚è¿™æ—¶ä½ ä¸å¾—ä¸åœ¨è„†å¼±çš„æµ‹è¯•å’Œç³Ÿç³•çš„æ€§èƒ½ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-e2e-api-ä»…åœ¨å¼‚æ­¥å®Œæˆå-resolve-cypress">:clap: æ­£ä¾‹: E2E API ä»…åœ¨å¼‚æ­¥å®Œæˆå resolve (Cypress)</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React-blue.svg" title="Examples with React" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React%20Testing%20Library-blue.svg" title="Examples with react-testing-library" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// using Cypress</span></span><br><span class="line">cy.<span class="title function_">get</span>(<span class="string">&#x27;#show-products&#x27;</span>).<span class="title function_">click</span>()<span class="comment">// navigate</span></span><br><span class="line">cy.<span class="title function_">wait</span>(<span class="string">&#x27;@products&#x27;</span>)<span class="comment">// wait for route to appear</span></span><br><span class="line"><span class="comment">// this line will get executed only when the route is ready</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="clap-æ­£ä¾‹-æµ‹è¯•åº“ç­‰å¾…-dom-å…ƒç´ ">:clap: æ­£ä¾‹: æµ‹è¯•åº“ç­‰å¾… DOM å…ƒç´ </h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// @testing-library/dom</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;movie title appears&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">// element is initially not present...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// wait for appearance</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">wait</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">expect</span>(<span class="title function_">getByText</span>(<span class="string">&#x27;the lion king&#x27;</span>)).<span class="title function_">toBeInTheDocument</span>()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wait for appearance and return the element</span></span><br><span class="line">    <span class="keyword">const</span> movie = <span class="keyword">await</span> <span class="title function_">waitForElement</span>(<span class="function">() =&gt;</span> <span class="title function_">getByText</span>(<span class="string">&#x27;the lion king&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="thumbsdown-åä¾‹-è‡ªå·±å†™-sleep-ä»£ç ">:thumbsdown: åä¾‹: è‡ªå·±å†™ sleep ä»£ç </h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;movie title appears&#x27;</span>, <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">// element is initially not present...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// custom wait logic (caution: simplistic, no timeout)</span></span><br><span class="line">    <span class="keyword">const</span> interval = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> found = <span class="title function_">getByText</span>(<span class="string">&#x27;the lion king&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(found)&#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(interval);</span><br><span class="line">            <span class="title function_">expect</span>(<span class="title function_">getByText</span>(<span class="string">&#x27;the lion king&#x27;</span>)).<span class="title function_">toBeInTheDocument</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// wait for appearance and return the element</span></span><br><span class="line">    <span class="keyword">const</span> movie = <span class="keyword">await</span> <span class="title function_">waitForElement</span>(<span class="function">() =&gt;</span> <span class="title function_">getByText</span>(<span class="string">&#x27;the lion king&#x27;</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="è§‚å¯Ÿå†…å®¹æ˜¯å¦‚ä½•é€šè¿‡ç½‘ç»œæä¾›çš„">âšª ï¸ 3.5 è§‚å¯Ÿå†…å®¹æ˜¯å¦‚ä½•é€šè¿‡ç½‘ç»œæä¾›çš„</h2>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Google%20LightHouse-blue.svg" title="Examples with Lighthouse" /></p>
<p>âœ… <strong>å»ºè®®:</strong> ä½¿ç”¨ä¸€äº›æ´»åŠ¨ç›‘è§†å™¨ï¼Œä»¥ç¡®ä¿åœ¨çœŸå®ç½‘ç»œä¸‹çš„é¡µé¢è´Ÿè½½æ˜¯æœ€ä¼˜çš„â€”â€”è¿™åŒ…æ‹¬äº†ä¸€äº›ç”¨æˆ·ä½“éªŒé—®é¢˜ï¼šå¦‚ç¼“æ…¢çš„é¡µé¢è´Ÿè½½æˆ–æœªå‹ç¼©çš„åŒ…ã€‚æ£€æŸ¥å·¥å…·å¸‚åœºå¾ˆä¸°å¯Œï¼šåƒ <a target="_blank" rel="noopener" href="https://www.pingdom.com/">pingdom</a>ã€AWS CloudWatchã€<a target="_blank" rel="noopener" href="https://cloud.google.com/monitoring/uptime-checks/">gcp StackDriver</a>Â è¿™æ ·çš„åŸºç¡€å·¥å…·å¯ä»¥å¾ˆå®¹æ˜“åœ°é…ç½®æ¥ç›‘è§†æœåŠ¡å™¨æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå¹¶åœ¨åˆç†çš„ SLA ä¸‹å“åº”ã€‚ä¸è¿‡è¿™åªè§£å†³äº†è¡¨é¢ä¸Šçš„é—®é¢˜ï¼Œå› æ­¤æœ€å¥½é€‰æ‹©ä¸“é—¨ç”¨äºå‰ç«¯çš„å·¥å…· (å¦‚ <a target="_blank" rel="noopener" href="https://developers.google.com/web/tools/lighthouse/">lighthouse</a>ã€<a target="_blank" rel="noopener" href="https://developers.google.com/speed/pagespeed/insights/">pagespeed</a>) ä»¥è¿›è¡Œæ›´å…¨é¢çš„åˆ†æã€‚æ³¨æ„åŠ›åº”è¯¥æ”¾åœ¨ç—‡çŠ¶å’Œç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒçš„æŒ‡æ ‡ä¸Šï¼Œæ¯”å¦‚é¡µé¢åŠ è½½æ—¶é—´ã€<a target="_blank" rel="noopener" href="https://scotch.io/courses/10-web-performance-audit-tips-for-your-next-billion-users-in-2018/fmp-first-meaningful-paint">æœ‰æ„ä¹‰çš„ç»˜åˆ¶</a>ã€<a target="_blank" rel="noopener" href="https://calibreapp.com/blog/time-to-interactive/">é¡µé¢å¯äº¤äº’(TTI) æ—¶é—´</a>ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ è¿˜å¯ä»¥å…³æ³¨æŠ€æœ¯åŸå› ï¼Œæ¯”å¦‚ç¡®ä¿å†…å®¹è¢«å‹ç¼©ã€ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æ—¶é—´ã€ä¼˜åŒ–å›¾åƒã€ç¡®ä¿åˆç†çš„ DOM å¤§å°ã€SSL å’Œè®¸å¤šå…¶ä»–æ–¹é¢ã€‚å»ºè®®åœ¨å¼€å‘æœŸé—´ä½¿ç”¨è¿™äº›ä¸°å¯Œçš„ç›‘è§†å™¨ï¼Œä½œä¸º CI çš„ä¸€éƒ¨åˆ†ï¼Œæœ€é‡è¦çš„æ˜¯åœ¨ç”Ÿäº§æœåŠ¡å™¨/CDNä¸ŠÂ 24x7Â ä½¿ç”¨å®ƒä»¬ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> åœ¨ç²¾å¿ƒè®¾è®¡äº†ä¸€ä¸ªUIã€é€šè¿‡äº†100%çš„åŠŸèƒ½æµ‹è¯•å¹¶è¿›è¡Œäº†å¤æ‚çš„æ‰“åŒ…ä¹‹åï¼Œç”¨æˆ·ä½“éªŒå´å› ä¸º CDN çš„é”™è¯¯é…ç½®å˜å¾—ç³Ÿç³•è€Œç¼“æ…¢ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<h3 id="clap-æ­£ä¾‹-lighthouse-é¡µé¢åŠ è½½æ£€æŸ¥æŠ¥å‘Š">:clap: æ­£ä¾‹: Lighthouse é¡µé¢åŠ è½½æ£€æŸ¥æŠ¥å‘Š</h3>
<p><img src="../../../../../../../assets/lighthouse2.png" title="Lighthouse page load inspection report" /></p>
</details>
<p><br/></p>
<h2 id="stub-å¤æ€ªæˆ–ç¼“æ…¢çš„èµ„æºå¦‚åç«¯-api">âšª ï¸ 3.6 stub å¤æ€ªæˆ–ç¼“æ…¢çš„èµ„æºå¦‚åç«¯ API</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å½“ç¼–å†™ä½ çš„ä¸»æµæµ‹è¯• (ä¸æ˜¯ E2E æµ‹è¯•) æ—¶ï¼Œé¿å…æ¥è§¦ä»»ä½•è¶…å‡ºä½ èŒè´£å’Œæ§åˆ¶èŒƒå›´çš„èµ„æºï¼Œå¦‚åç«¯ APIï¼Œè€Œæ˜¯ä½¿ç”¨ stub(å³æµ‹è¯•æ›¿èº«)ã€‚ä½¿ç”¨ä¸€äº›æµ‹è¯•æ›¿èº«åº“ (å¦‚<a target="_blank" rel="noopener" href="https://sinonjs.org/">Sinon</a>ã€<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/testdouble">test double</a>Â ç­‰) æ¥ stub API å“åº”ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å¯¹APIçš„ç½‘ç»œè°ƒç”¨ã€‚æœ€å¤§çš„å¥½å¤„æ˜¯é˜²æ­¢å‡ºç°æ•…éšœâ€”â€”æµ‹è¯•æˆ–é¢„å‘ç¯å¢ƒä¸‹ api çš„å®šä¹‰ä¸æ˜¯å¾ˆç¨³å®šï¼Œå°½ç®¡ç»„ä»¶çš„è¡¨ç°æ­£ç¡®(ç”Ÿäº§ç¯å¢ƒä¸é€‚åˆæµ‹è¯•ï¼Œå®ƒé€šå¸¸ä¼šé™åˆ¶è¯·æ±‚)ï¼Œä½†æœ‰æ—¶ä¼šè¯·æ±‚å¤±è´¥ã€‚é€šè¿‡ stub å…è®¸æ¨¡æ‹Ÿå„ç§ API è¡Œä¸ºï¼Œæ¯”å¦‚å½“æ²¡æœ‰æ‰¾åˆ°æ•°æ®æˆ– API æŠ›å‡ºé”™è¯¯æ—¶æµ‹è¯•ç»„ä»¶è¡Œä¸ºã€‚æœ€åä½†å¹¶éæœ€ä¸é‡è¦çš„åŸå› æ˜¯ï¼Œç½‘ç»œè°ƒç”¨å°†å¤§å¤§é™ä½æµ‹è¯•é€Ÿåº¦ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> æµ‹è¯•çš„å¹³å‡æ—¶é•¿ä¸åœ¨æ˜¯å‡ æ¯«ç§’ï¼Œä¸€ä¸ªç»å…¸çš„ API è°ƒç”¨èŠ±è´¹ 100ms+ï¼Œè¿™ä½¿å¾—æ¯ä¸ªç”¨ä¾‹å˜æ…¢ ~20xã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-stub-æˆ–æ‹¦æˆª-api-è°ƒç”¨">:clap: æ­£ä¾‹: stub æˆ–æ‹¦æˆª API è°ƒç”¨</h3>
<p><img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20React-blue.svg" title="Examples with React" /> <img src="https://img.shields.io/badge/ğŸ”§%20Example%20using%20Jest-blue.svg" title="Examples with react-testing-library" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// unit under test</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">ProductsList</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> [products, setProducts] = <span class="title function_">useState</span>(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">fetchProducts</span> = <span class="keyword">async</span>(<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> products = <span class="keyword">await</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;api/products&#x27;</span>)</span><br><span class="line">      <span class="title function_">setProducts</span>(products);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">fetchProducts</span>();</span><br><span class="line">    &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> products ? <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;products&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span> : <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">data-test-id</span>=<span class="string">&#x27;no-products-message&#x27;</span>&gt;</span>No products<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// test</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;When no products exist, show the appropriate message&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Arrange</span></span><br><span class="line">    <span class="title function_">nock</span>(<span class="string">&quot;api&quot;</span>)</span><br><span class="line">            .<span class="title function_">get</span>(<span class="string">`/products`</span>)</span><br><span class="line">            .<span class="title function_">reply</span>(<span class="number">404</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Act</span></span><br><span class="line">    <span class="keyword">const</span> &#123;getByTestId&#125; = <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ProductsList</span>/&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Assert</span></span><br><span class="line">    <span class="title function_">expect</span>(<span class="title function_">getByTestId</span>(<span class="string">&#x27;no-products-message&#x27;</span>)).<span class="title function_">toBeTruthy</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="å†™å‡ ä¸ªè·¨è¶Šæ•´ä¸ªç³»ç»Ÿçš„ç«¯åˆ°ç«¯æµ‹è¯•">âšª ï¸ 3.7 å†™å‡ ä¸ªè·¨è¶Šæ•´ä¸ªç³»ç»Ÿçš„ç«¯åˆ°ç«¯æµ‹è¯•</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> è™½ç„¶ E2E (ç«¯åˆ°ç«¯) é€šå¸¸è¡¨ç¤ºåœ¨çœŸå®æµè§ˆå™¨ä¸­è¿›è¡Œ UI æµ‹è¯•(è§ 3.6)ï¼Œä½†æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒä»¬è¡¨ç¤ºè¦†ç›–æ•´ä¸ªç³»ç»Ÿçš„æµ‹è¯•ï¼ŒåŒ…æ‹¬çœŸæ­£çš„åç«¯ã€‚åä¸€ç§æµ‹è¯•éå¸¸æœ‰ä»·å€¼ï¼Œå› ä¸ºå®ƒä»¬æ¶µç›–äº†å‰ç«¯å’Œåç«¯ä¹‹é—´çš„é›†æˆ bugï¼Œè¿™äº› bug å¯èƒ½æ˜¯ç”±äºæ²Ÿé€š schema æ—¶äº§ç”Ÿè¯¯ä¼šå¯¼è‡´çš„ã€‚å®ƒä»¬ä¹Ÿæ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•æ¥å‘ç° backend-to-backend é›†æˆé—®é¢˜ (ä¾‹å¦‚å¾®æœåŠ¡ A å°†é”™è¯¯çš„ä¿¡æ¯å‘é€ç»™å¾®æœåŠ¡ B) ç”šè‡³æ£€æµ‹éƒ¨ç½²å¤±è´¥ï¼Œç›®å‰åç«¯æ²¡æœ‰åƒ <a target="_blank" rel="noopener" href="https://www.cypress.io/">Cypress</a>Â å’ŒÂ <a target="_blank" rel="noopener" href="https://github.com/GoogleChrome/puppeteer">Puppeteer</a>Â å‹å¥½çš„ UI æ¡†æ¶ä¸€æ ·å‹å¥½ä¸”æˆç†Ÿçš„ E2E æ¡†æ¶ã€‚è¿™ç§æµ‹è¯•çš„ç¼ºç‚¹æ˜¯ï¼Œé…ç½®ä¸€ä¸ªåŒ…å«å¦‚æ­¤å¤šç»„ä»¶çš„ç¯å¢ƒçš„æˆæœ¬å¾ˆé«˜ï¼Œè€Œä¸”å¤§å¤šæ•°ç»„ä»¶éƒ½å¾ˆè„†å¼±â€”â€”å‡è®¾æœ‰ 50 ä¸ªå¾®æœåŠ¡ï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªå¤±è´¥ï¼Œæ•´ä¸ª E2E ä¹Ÿä¼šå¤±è´¥ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘ä»¬åº”è¯¥å°‘ç”¨è¿™ç§æŠ€æœ¯ï¼Œå¤§æ¦‚1-10ä¸ªå°±å¤Ÿäº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿æ˜¯å°‘é‡çš„ E2E æµ‹è¯•ä¹Ÿå¾ˆæœ‰å¯èƒ½æ•è·å®ƒä»¬æ‰€é’ˆå¯¹çš„é—®é¢˜â€”â€”éƒ¨ç½²å’Œé›†æˆæ•…éšœã€‚å»ºè®®åœ¨ä¸ç”Ÿäº§ç¯å¢ƒç›¸ä¼¼çš„é¢„å‘è¿è¡Œå®ƒä»¬ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> UI å¯èƒ½åœ¨æµ‹è¯•å®ƒçš„åŠŸèƒ½ä¸ŠæŠ•å…¥äº†å¤§é‡çš„ç²¾åŠ›ï¼Œä½†æœ€åæ‰æ„è¯†åˆ°åç«¯è¿”å›çš„æœ‰æ•ˆè´Ÿè½½ (UI å¿…é¡»ä½¿ç”¨çš„æ•°æ®æ¨¡å¼) ä¸é¢„æœŸæœ‰å¾ˆå¤§çš„ä¸åŒã€‚</p>
<p><br/></p>
<h2 id="é€šè¿‡å¤ç”¨ç™»å½•å‡­è¯æé€Ÿ-e2e-æµ‹è¯•">âšª ï¸ 3.8 é€šè¿‡å¤ç”¨ç™»å½•å‡­è¯æé€Ÿ E2E æµ‹è¯•</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åœ¨æ¶‰åŠçœŸå®çš„åç«¯å¹¶ä¾èµ–æœ‰æ•ˆçš„ç”¨æˆ· token è¿›è¡Œ API è°ƒç”¨çš„ E2E æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦å°†æµ‹è¯•æŒ‰ç…§ã€Œåˆ›å»ºç”¨æˆ·å¹¶åœ¨æ¯ä¸ªè¯·æ±‚ä¸­ç™»å½•ã€çš„çº§åˆ«éš”ç¦»ã€‚ç›¸åï¼Œåœ¨æµ‹è¯•æ‰§è¡Œå¼€å§‹ä¹‹å‰åªç™»å½•ä¸€æ¬¡ (å³Â before-all hook)ï¼Œå°† token ä¿å­˜åœ¨ä¸€äº›æœ¬åœ°å­˜å‚¨ä¸­ï¼Œå¹¶åœ¨è¯·æ±‚ä¹‹é—´å¤ç”¨å®ƒã€‚è¿™ä¼¼ä¹è¿åäº†æ ¸å¿ƒæµ‹è¯•åŸåˆ™ä¹‹ä¸€â€”â€”ä¿æŒæµ‹è¯•çš„è‡ªæ²»ï¼Œä¸è¦è€¦åˆèµ„æºã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªåˆç†çš„æ‹…å¿§ï¼Œä½†åœ¨ E2E æµ‹è¯•ä¸­ï¼Œæ€§èƒ½æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ï¼Œåœ¨æ‰§è¡Œæ¯ä¸ªç”¨ä¾‹ä¹‹å‰åˆ›å»º 1-3 ä¸ª API è¯·æ±‚å¯èƒ½ä¼šå¤§å¤§å¢åŠ æ‰§è¡Œæ—¶é—´ã€‚å¤ç”¨å‡­è¯å¹¶ä¸æ„å‘³ç€æµ‹è¯•å¿…é¡»åŸºäºç›¸åŒçš„ç”¨æˆ·è®°å½•â€”â€”å¦‚æœä¾èµ–äºç”¨æˆ·è®°å½• (ä¾‹å¦‚æµ‹è¯•ç”¨æˆ·ä»˜æ¬¾å†å²è®°å½•)ï¼Œé‚£ä¹ˆè¦ç¡®ä¿ç”Ÿæˆè¿™äº›è®°å½•ä½œä¸ºæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶é¿å…ä¸å…¶ä»–æµ‹è¯•å…±äº«å®ƒä»¬ã€‚è¿˜è¦è®°ä½åç«¯æ˜¯å¯ä»¥ fake çš„â€”â€”å¦‚æœä½ æƒ³é‡ç‚¹æµ‹è¯•å‰ç«¯ï¼Œé‚£ä¹ˆæœ€å¥½éš”ç¦»å®ƒï¼Œç„¶å stub åç«¯ API (è§ 3.6 èŠ‚)ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ç»™å®š 200 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå‡è®¾ç™»å½•è€—æ—¶ 100msï¼Œåˆ™éœ€è¦èŠ±è´¹ 20s ä»…ä»…ç”¨äºä¸€ééç™»å½•ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-åœ¨-before-all-è€Œä¸æ˜¯-before-each-ä¸­ç™»å½•">:clap: æ­£ä¾‹: åœ¨ before-all è€Œä¸æ˜¯ before-each ä¸­ç™»å½•</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Cypress-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> authenticationToken;</span><br><span class="line"></span><br><span class="line"><span class="comment">// happens before ALL tests run</span></span><br><span class="line"><span class="title function_">before</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  cy.<span class="title function_">request</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://localhost:3000/login&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="title class_">Cypress</span>.<span class="title function_">env</span>(<span class="string">&#x27;username&#x27;</span>),</span><br><span class="line">    <span class="attr">password</span>: <span class="title class_">Cypress</span>.<span class="title function_">env</span>(<span class="string">&#x27;password&#x27;</span>),</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">its</span>(<span class="string">&#x27;body&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">responseFromLogin</span>) =&gt;</span> &#123;</span><br><span class="line">    authenticationToken = responseFromLogin.<span class="property">token</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// happens before EACH test</span></span><br><span class="line"><span class="title function_">beforeEach</span>(<span class="function"><span class="params">setUser</span> =&gt;</span> () &#123;</span><br><span class="line">  cy.<span class="title function_">visit</span>(<span class="string">&#x27;/home&#x27;</span>, &#123;</span><br><span class="line">    onBeforeLoad (win) &#123;</span><br><span class="line">      win.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;token&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(authenticationToken))</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="åˆ›å»ºä¸€ä¸ª-e2e-å†’çƒŸæµ‹è¯•ä»…ä»…èµ°ä¸€éç½‘ç«™åœ°å›¾">âšª ï¸ 3.9 åˆ›å»ºä¸€ä¸ª E2E å†’çƒŸæµ‹è¯•ï¼Œä»…ä»…èµ°ä¸€éç½‘ç«™åœ°å›¾</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä¸ºäº†ç›‘æ§ç”Ÿäº§ç¯å¢ƒä»¥åŠå¼€å‘æ—¶çš„å®Œæ•´æ€§æ£€æŸ¥ï¼Œè¿è¡Œä¸€ä¸ª E2E æµ‹è¯•ï¼Œè¯¥æµ‹è¯•è®¿é—®æ‰€æœ‰æˆ–å¤§éƒ¨åˆ†ç«™ç‚¹é¡µé¢å¹¶ç¡®ä¿æ²¡æœ‰è¢«ä¸­æ–­ã€‚è¿™ç§æµ‹è¯•æŠ•èµ„å›æŠ¥ç‡æé«˜ï¼Œå› ä¸ºå®ƒéå¸¸å®¹æ˜“ç¼–å†™å’Œç»´æŠ¤ï¼Œä½†å¯ä»¥æ£€æµ‹ä»»ä½•ç±»å‹çš„æ•…éšœï¼ŒåŒ…æ‹¬åŠŸèƒ½ã€ç½‘ç»œå’Œéƒ¨ç½²é—®é¢˜ã€‚å…¶ä»–ç±»å‹çš„å†’çƒŸå’Œå®Œå¤‡æ€§æ£€æŸ¥å¹¶æ²¡æœ‰é‚£ä¹ˆå¯é å’Œè¯¦å°½â€”â€”ä¸€äº› ops å›¢é˜Ÿåªæ˜¯ ping ä¸»é¡µ (ç”Ÿäº§)ï¼Œæˆ–è€…å¼€å‘äººå‘˜è¿è¡Œä¸€äº›é›†æˆæµ‹è¯•æ— æ³•å‘ç°æ‰“åŒ…å’Œæµè§ˆå™¨é—®é¢˜ã€‚æ¯«æ— ç–‘é—®ï¼ŒçƒŸé›¾æµ‹è¯•ä¸ä¼šå–ä»£åŠŸèƒ½æµ‹è¯•ï¼Œè€Œåªæ˜¯ä½œä¸ºä¸€ä¸ªå¿«é€Ÿçš„çƒŸé›¾æ¢æµ‹å™¨ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆå®Œç¾ï¼Œæ‰€æœ‰çš„æµ‹è¯•éƒ½é€šè¿‡äº†ï¼Œç”Ÿäº§ç¯å¢ƒå¥åº·æ£€æŸ¥ä¹Ÿæ˜¯ OK çš„ï¼Œä½†æ˜¯æ”¯ä»˜ç»„ä»¶æœ‰ä¸€äº›æ‰“åŒ…é—®é¢˜ï¼Œåªæœ‰ <code>/Payment</code>Â è·¯å¾„æ²¡æœ‰æ¸²æŸ“ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªè·‘ä¸€éæ‰€æœ‰é¡µé¢çš„å†’çƒŸæµ‹è¯•">:clap: æ­£ä¾‹: ä¸€ä¸ªè·‘ä¸€éæ‰€æœ‰é¡µé¢çš„å†’çƒŸæµ‹è¯•</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Cypress-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">it</span>(<span class="string">&#x27;When doing smoke testing over all page, should load them all successfully&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// exemplified using Cypress but can be implemented easily</span></span><br><span class="line">    <span class="comment">// using any E2E suite</span></span><br><span class="line">    cy.<span class="title function_">visit</span>(<span class="string">&#x27;https://mysite.com/home&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;Home&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;https://mysite.com/Login&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;Login&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;https://mysite.com/About&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">contains</span>(<span class="string">&#x27;About&#x27;</span>);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
</details>
<p><br/></p>
<h2 id="å°†æµ‹è¯•ä»¥å®æ—¶åä½œæ–‡æ¡£çš„å½¢å¼å…¬å¼€">âšª ï¸ 3.10 å°†æµ‹è¯•ä»¥å®æ—¶åä½œæ–‡æ¡£çš„å½¢å¼å…¬å¼€</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> é™¤äº†æé«˜åº”ç”¨ç¨‹åºçš„å¯é æ€§ï¼Œæµ‹è¯•è¿˜å¸¦æ¥äº†å¦ä¸€ä¸ªæå…·å¸å¼•åŠ›çš„åœºæ™¯â€”â€”ä½œä¸ºå®æ—¶åº”ç”¨æ–‡æ¡£ã€‚ç”±äºæµ‹è¯•æœ¬è´¨ä¸Šä½¿ç”¨çš„æ˜¯ä¸€ç§æŠ€æœ¯å«é‡è¾ƒä½çš„äº§å“ / UX è¯­è¨€ï¼Œå› æ­¤ä½¿ç”¨æ­£ç¡®çš„å·¥å…·å¯ä»¥å°†ä»–ä»¬ä½œä¸ºä¸€ä¸ªæ²Ÿé€šåª’ä»‹ï¼Œä¾¿æ·åœ°åè°ƒäº†æ‰€æœ‰çš„åŒäº‹â€”â€”å¼€å‘äººå‘˜å’Œä»–ä»¬çš„å®¢æˆ·ã€‚ä¾‹å¦‚ï¼Œä¸€äº›æ¡†æ¶å…è®¸ä½¿ç”¨äººç±»å¯è¯»çš„è¯­è¨€æ¥è¡¨è¾¾æµç¨‹å’ŒæœŸæœ› (å³æµ‹è¯•è®¡åˆ’)ï¼Œè¿™æ ·ä»»ä½•ç›¸å…³äººå‘˜ï¼ŒåŒ…æ‹¬äº§å“ç»ç†ï¼Œéƒ½å¯ä»¥é˜…è¯»ã€æ‰¹å‡†å’Œåä½œæµ‹è¯•ï¼Œè¿™æ—¶æµ‹è¯•å°±æˆä¸ºäº†å®æ—¶çš„éœ€æ±‚æ–‡æ¡£ã€‚è¿™ç§æŠ€æœ¯ä¹Ÿè¢«ç§°ä¸ºâ€œéªŒæ”¶æµ‹è¯•â€ï¼Œå› ä¸ºå®ƒå…è®¸å®¢æˆ·ç”¨ç®€å•çš„è¯­è¨€å®šä¹‰ä»–çš„éªŒæ”¶æ ‡å‡†ã€‚è¿™æ˜¯æœ€çº¯ç²¹çš„ <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD (è¡Œä¸ºé©±åŠ¨æµ‹è¯•)</a>ã€‚æ”¯æŒæ­¤åŠŸèƒ½çš„æµè¡Œæ¡†æ¶ä¹‹ä¸€æ˜¯ <a target="_blank" rel="noopener" href="https://github.com/cucumber/cucumber-js">Cucumber</a>ï¼Œå®ƒå…·æœ‰ JavaScript é£æ ¼ï¼Œå‚è§ä¸‹é¢çš„ç¤ºä¾‹ã€‚å¦ä¸€ä¸ªç›¸ä¼¼ä½†ä¸åŒçš„åœºæ™¯æ˜¯Â <a target="_blank" rel="noopener" href="https://storybook.js.org/">StoryBook</a>ï¼Œå®ƒå¯ä»¥å°† UI ç»„ä»¶å…¬å¼€ä¸ºä¸€ä¸ªå›¾å½¢åŒ–çš„ç›®å½•ï¼Œç”¨æˆ·å¯ä»¥æµè§ˆæ¯ä¸ªç»„ä»¶çš„å„ç§çŠ¶æ€(å¦‚ä¸€ä¸ªæ …æ ¼ç»„ä»¶çš„ w/o filterï¼Œä½¿å…¶æ¸²æŸ“å¤šè¡Œæˆ–è€… 0 è¡Œï¼Œç­‰ç­‰)ï¼ŒæŸ¥çœ‹å®ƒçš„å±•ç¤ºå½¢å¼ï¼Œä»¥åŠå¦‚ä½•è§¦å‘çŠ¶æ€â€”â€”è¿™ä¹Ÿå¯ä»¥æä¾›ç»™äº§å“äººåŸï¼Œä½†ä¸»è¦æ˜¯ä½œä¸ºå®æ—¶æ–‡æ¡£æä¾›ç»™æ¶ˆè´¹è¿™äº›ç»„ä»¶çš„å¼€å‘äººå‘˜ã€‚</p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ åœ¨æµ‹è¯•ä¸Šè€—è´¹äº†å¤§é‡çš„èµ„æºï¼Œå¦‚æœä¸åˆ©ç”¨è¿™é¡¹æŠ•èµ„æ¥è·å–æ›´å¤§çš„ä»·å€¼ï¼Œæ˜¯å¾ˆå¯æƒœçš„ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨-cucumber-js-ä»¥äººç±»è¯­è¨€æè¿°æµ‹è¯•">:clap: æ­£ä¾‹: ä½¿ç”¨ cucumber-js ä»¥äººç±»è¯­è¨€æè¿°æµ‹è¯•</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Cocumber-blue.svg" title="Examples using Cucumber" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// this is how one can describe tests using cucumber: plain language that allows anyone to understand and collaborate</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Feature</span>: <span class="title class_">Twitter</span> <span class="keyword">new</span> tweet</span><br><span class="line"></span><br><span class="line">  I want to tweet something <span class="keyword">in</span> <span class="title class_">Twitter</span></span><br><span class="line"></span><br><span class="line">  @focus</span><br><span class="line">  <span class="title class_">Scenario</span>: <span class="title class_">Tweeting</span> <span class="keyword">from</span> the home page</span><br><span class="line">    <span class="title class_">Given</span> I open <span class="title class_">Twitter</span> home</span><br><span class="line">    <span class="title class_">Given</span> I click on <span class="string">&quot;New tweet&quot;</span> button</span><br><span class="line">    <span class="title class_">Given</span> I type <span class="string">&quot;Hello followers!&quot;</span> <span class="keyword">in</span> the textbox</span><br><span class="line">    <span class="title class_">Given</span> I click on <span class="string">&quot;Submit&quot;</span> button</span><br><span class="line">    <span class="title class_">Then</span> I see message <span class="string">&quot;Tweet saved&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨-storybook-å±•ç¤ºæˆ‘ä»¬çš„ç»„ä»¶åŠå…¶å„ç§çŠ¶æ€å’Œè¾“å…¥">:clap: æ­£ä¾‹: ä½¿ç”¨ Storybook å±•ç¤ºæˆ‘ä»¬çš„ç»„ä»¶åŠå…¶å„ç§çŠ¶æ€å’Œè¾“å…¥</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20StoryBook-blue.svg" title="Using StoryBook" /></p>
</details>
<h2 id="ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹å¯è§†åŒ–é—®é¢˜">âšª ï¸ 3.11 ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹å¯è§†åŒ–é—®é¢˜</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> è®¾ç½®è‡ªåŠ¨åŒ–å·¥å…·æ¥æŠ“å– UI æˆªå±ï¼Œå¹¶åœ¨å˜æ›´åæ£€æµ‹å†…å®¹é‡å æˆ–ä¸­æ–­ç­‰å¯è§†åŒ–é—®é¢˜ã€‚è¿™æ ·ä¸ä»…å¯ä»¥ç¡®ä¿æ•°æ®çš„æ­£ç¡®æ€§ï¼Œè€Œä¸”ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°çœ‹åˆ°å®ƒã€‚è¿™ç§æŠ€æœ¯æ²¡æœ‰è¢«å¹¿æ³›é‡‡ç”¨ï¼Œæˆ‘ä»¬çš„æµ‹è¯•æ€ç»´æ›´å€¾å‘äºåŠŸèƒ½æµ‹è¯•ï¼Œä½†å®ƒä»£è¡¨äº†çœŸå®çš„ç”¨æˆ·ä½“éªŒï¼Œè€Œä¸”å¯ä»¥è½»æ˜“åœ°å‘ç°è·¨å¤šè®¾å¤‡ç±»å‹çš„ UI bugã€‚ç›®å‰éƒ¨åˆ†å…è´¹å·¥å…·å¯ä»¥æä¾›ä¸€äº›åŸºç¡€åŠŸèƒ½â€”â€”ç”Ÿæˆå’Œä¿å­˜å±å¹•æˆªå›¾ä»¥ä¾›è‚‰çœ¼æ£€æŸ¥ã€‚è™½ç„¶è¿™ç§æ–¹æ³•å¯¹äºå°åº”ç”¨æ¥è¯´å¯èƒ½å·²ç»è¶³å¤Ÿäº†ï¼Œä½†æ˜¯å®ƒçš„ç¼ºé™·ä¸ä»»ä½•å…¶ä»–æ‰‹åŠ¨æµ‹è¯•ä¸€æ ·<br />ï¼šä»»ä½•å˜æ›´åéƒ½éœ€è¦è€—è´¹äººåŠ›æ¥å¤„ç†ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºç¼ºä¹æ¸…æ™°çš„å®šä¹‰ï¼Œè‡ªåŠ¨æ£€æµ‹ UI é—®é¢˜éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§â€”â€”è¿™å°±æ˜¯â€œè§†è§‰å›å½’â€é¢†åŸŸè§£å†³è¿™ä¸ªéš¾é¢˜çš„åˆ‡å…¥ç‚¹ï¼šå¯¹æ¯”æ—§ UI ä¸æœ€æ–°çš„æ›´æ”¹å¹¶æ£€æµ‹å·®å¼‚ã€‚ä¸€äº›å¼€æº/å…è´¹çš„å·¥å…·å¯ä»¥æä¾›è¿™ä¸ªèƒ½åŠ› (ä¾‹å¦‚: <a target="_blank" rel="noopener" href="https://github.com/BBC-News/wraith">wraith</a>ã€PhantomCSS) ä½†å¯èƒ½å®‰è£…è€—æ—¶æ¯”è¾ƒä¹…ã€‚ä¸€äº›å•†ä¸šå·¥å…· (å¦‚ Â <a target="_blank" rel="noopener" href="https://applitools.com/">Applitools</a>ã€<a target="_blank" rel="noopener" href="https://percy.io/">Percy.io</a>) åˆ™æ›´è¿›ä¸€æ­¥ï¼Œå®ƒä»¬ç®€åŒ–äº†å®‰è£…è¿‡ç¨‹ï¼Œå¹¶å°è£…äº†é«˜çº§ç‰¹æ€§ï¼Œå¦‚ç®¡ç† UIã€å‘Šè­¦ã€é€šè¿‡å»é™¤â€œè§†è§‰å™ªéŸ³â€(å¦‚å¹¿å‘Šã€åŠ¨ç”») è¿›è¡Œæ™ºèƒ½æ•è·ï¼Œç”šè‡³å¯ä»¥åˆ†æå¼•å‘é—®é¢˜çš„ DOM/css å˜åŒ–çš„æ ¹æœ¬åŸå› ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å¦‚ä½•è¯„åˆ¤è¿™æ ·çš„é¡µé¢å¥½ä¸å¥½ï¼šå†…å®¹æ˜¾ç¤ºæ­£ç¡® (100%æµ‹è¯•é€šè¿‡)ã€åŠ è½½è¿…é€Ÿä½†æœ‰ä¸€åŠå†…å®¹åŒºåŸŸéšè—?</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸€ä¸ªå…¸å‹çš„è§†è§‰å›å½’-å³ä¾§å†…å®¹å±•ç¤ºå¼‚å¸¸">:thumbsdown: åä¾‹: ä¸€ä¸ªå…¸å‹çš„è§†è§‰å›å½’ â€”â€” å³ä¾§å†…å®¹å±•ç¤ºå¼‚å¸¸</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/amazon-visual-regression.jpeg" title="Amazon page breaks" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-é…ç½®-wraith-æ¥æ•è·å¹¶æ¯”å¯¹-ui-å¿«ç…§">:clap: æ­£ä¾‹: é…ç½® wraith æ¥æ•è·å¹¶æ¯”å¯¹ UI å¿«ç…§</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Wraith-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Add as many domains as necessary. Key will act as a labelâ€‹</span><br><span class="line"></span><br><span class="line">domains:</span><br><span class="line">  english: &quot;http://www.mysite.com&quot;â€‹</span><br><span class="line"></span><br><span class="line">â€‹# Type screen widths below, here are a couple of examplesâ€‹</span><br><span class="line"></span><br><span class="line">screen_widths:</span><br><span class="line"></span><br><span class="line">  - 600â€‹</span><br><span class="line">  - 768â€‹</span><br><span class="line">  - 1024â€‹</span><br><span class="line">  - 1280â€‹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">â€‹# Type page URL paths below, here are a couple of examplesâ€‹</span><br><span class="line">paths:</span><br><span class="line">  about:</span><br><span class="line">    path: /about</span><br><span class="line">    selector: &#x27;.about&#x27;â€‹</span><br><span class="line">  subscribe:</span><br><span class="line">      selector: &#x27;.subscribe&#x27;â€‹</span><br><span class="line">    path: /subscribe</span><br></pre></td></tr></table></figure>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨-applitools-è·å–å¿«ç…§æ¯”å¯¹ä»¥åŠè¿›é˜¶ç‰¹æ€§">:clap: æ­£ä¾‹: ä½¿ç”¨ Applitools è·å–å¿«ç…§æ¯”å¯¹ä»¥åŠè¿›é˜¶ç‰¹æ€§</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20AppliTools-blue.svg" title="Using Cypress to illustrate the idea" /> <img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Cypress-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> todoPage <span class="keyword">from</span> <span class="string">&#x27;../page-objects/todo-page&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&#x27;visual validation&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">before</span>(<span class="function">() =&gt;</span> todoPage.<span class="title function_">navigate</span>());</span><br><span class="line">  <span class="title function_">beforeEach</span>(<span class="function">() =&gt;</span> cy.<span class="title function_">eyesOpen</span>(&#123; <span class="attr">appName</span>: <span class="string">&#x27;TAU TodoMVC&#x27;</span> &#125;));</span><br><span class="line">  <span class="title function_">afterEach</span>(<span class="function">() =&gt;</span> cy.<span class="title function_">eyesClose</span>());</span><br><span class="line"></span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&#x27;should look good&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    cy.<span class="title function_">eyesCheckWindow</span>(<span class="string">&#x27;empty todo list&#x27;</span>);</span><br><span class="line">    todoPage.<span class="title function_">addTodo</span>(<span class="string">&#x27;Clean room&#x27;</span>);</span><br><span class="line">    todoPage.<span class="title function_">addTodo</span>(<span class="string">&#x27;Learn javascript&#x27;</span>);</span><br><span class="line">    cy.<span class="title function_">eyesCheckWindow</span>(<span class="string">&#x27;two todos&#x27;</span>);</span><br><span class="line">    todoPage.<span class="title function_">toggleTodo</span>(<span class="number">0</span>);</span><br><span class="line">    cy.<span class="title function_">eyesCheckWindow</span>(<span class="string">&#x27;mark as completed&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h1 id="ç¬¬å››ç« -åº¦é‡æµ‹è¯•æ•ˆæœ">ç¬¬å››ç« : åº¦é‡æµ‹è¯•æ•ˆæœ</h1>
<p><br/><br/></p>
<h2 id="é€šè¿‡è¶³å¤Ÿçš„è¦†ç›–ç‡è·å–è‡ªä¿¡80-çœ‹èµ·æ¥æ˜¯ä¸ªå¹¸è¿æ•°å­—">âšª ï¸ 4.1 é€šè¿‡è¶³å¤Ÿçš„è¦†ç›–ç‡è·å–è‡ªä¿¡ï¼Œ~80% çœ‹èµ·æ¥æ˜¯ä¸ªå¹¸è¿æ•°å­—</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æµ‹è¯•çš„ç›®çš„æ˜¯ä¸ºäº†è·å–è¶³å¤Ÿçš„è‡ªä¿¡å»å¿«é€Ÿè¿­ä»£ï¼Œæ˜¾ç„¶ï¼Œè¶Šå¤šä»£ç è¢«æµ‹è¯•åˆ°ï¼Œåˆ™æˆ‘ä»¬å›¢é˜Ÿè¶Šè‡ªä¿¡ã€‚è¦†ç›–ç‡ç”¨äºåº¦é‡å¤šå°‘ä»£ç è¡Œï¼ˆä»¥åŠåˆ†æ”¯ã€è¯­å¥ç­‰ï¼‰è¢«æµ‹è¯•æ‰§è¡Œåˆ°ã€‚æ‰€ä»¥å¤šå°‘å¤Ÿäº†ï¼Ÿ10-30% æ˜æ˜¾æ— æ³•è¯æ˜é¡¹ç›®çš„æ­£ç¡®æ€§ï¼Œè€Œ 100% åˆ™éå¸¸è€—æ—¶å¹¶ä¸”å¯èƒ½ä¼šä½¿å¾—ä½ å…³æ³¨å¤ªå¤šç»†ææœ«èŠ‚çš„ä»£ç ã€‚æˆ‘ä»¬çš„ç­”æ¡ˆæ˜¯å–å†³äºåº”ç”¨çš„ç±»å‹â€”â€”å¦‚æœä½ æ­£åœ¨å»ºé€  A380 çš„ä¸‹ä¸€ä»£ï¼Œé‚£ä¹ˆ 100% æ˜¯å¿…é¡»çš„ï¼›è€Œå¯¹äºä¸€ä¸ªæ¼«ç”»ç½‘ç«™ï¼Œ50% å¯èƒ½å¤ªå¤šäº†ã€‚å°½ç®¡å¤§éƒ¨åˆ†æµ‹è¯•æ‹¥è¶¸ä»¬å¼ºè°ƒè¦†ç›–ç‡é—¨æ§›æ˜¯ä¾èµ–æ‰€å¤„ç¯å¢ƒçš„ï¼Œä½†æ˜¯ä»–ä»¬å¤§éƒ¨åˆ†æåˆ° 80% æ˜¯ä¸€ä¸ªä¸é”™çš„è§„åˆ™ï¼ˆ<a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/TestCoverage.html">Fowler: â€œin the upper 80s or 90sâ€</a>ï¼‰å¤§æ¦‚å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†åº”ç”¨ã€‚</p>
<p>å®ç°å»ºè®®ï¼šä½ å¯èƒ½æƒ³åœ¨ä½ çš„ CI ä¸­è®¾ç½®è¦†ç›–ç‡é—¨æ§›ï¼Œå¹¶é˜»æ­¢ä¸æ»¡è¶³è¦æ±‚çš„æ„å»ºï¼ˆä¹Ÿå¯ä»¥ä¸ºæ¯ä¸€ä¸ªç»„ä»¶è®¾ç½®é—¨æ§›ï¼Œè§ä¸‹é¢çš„ä¾‹å­ï¼‰ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¯ä»¥ç›‘æµ‹æ„å»ºçš„è¦†ç›–ç‡ä¸‹é™ï¼ˆå½“æ–°æäº¤çš„ä»£ç çš„è¦†ç›–ç‡è¾ƒä½æ—¶ï¼‰â€”â€”è¿™å°†æ¨åŠ¨å¼€å‘è€…æå‡æˆ–è€…è‡³å°‘ä¿æŒè¢«æµ‹è¯•çš„ä»£ç æ•°ã€‚è¯´äº†è¿™ä¹ˆå¤šï¼Œè¦†ç›–ç‡ä»…ä»…æ˜¯ä¸€ä¸ªå¯é‡åŒ–çš„åº¦é‡å€¼ï¼Œå®ƒå¹¶ä¸èƒ½ç¡®åˆ‡åœ°è¯æ˜ä½ çš„æµ‹è¯•çš„å¥å£®æ€§ï¼Œä½ ä¹Ÿå¯èƒ½è¢«å®ƒéª—åˆ°ï¼ˆè§ä¸‹ä¸€èŠ‚å†…å®¹ï¼‰ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä¿¡å¿ƒå’Œæ•°å­—æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œå¦‚æœæ— æ³•ç¡®ä¿ä½ çš„æµ‹è¯•å·²ç»è¦†ç›–äº†äº†å¤§éƒ¨åˆ†çš„ç³»ç»Ÿï¼Œé‚£ä½ å°†ä¼šå®³æ€•ï¼Œå®³æ€•ä¼šè®©ä½ æ…¢ä¸‹æ¥ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸€ä¸ªç»å…¸çš„è¦†ç›–ç‡æŠ¥å‘Š">:clap: æ­£ä¾‹: ä¸€ä¸ªç»å…¸çš„è¦†ç›–ç‡æŠ¥å‘Š</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-18-yoni-goldberg-code-coverage.png" title="A typical coverage report" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä¸ºæ¯ä¸ªç»„ä»¶è®¾ç½®è¦†ç›–ç‡-ä½¿ç”¨-jest">:clap: æ­£ä¾‹: ä¸ºæ¯ä¸ªç»„ä»¶è®¾ç½®è¦†ç›–ç‡ (ä½¿ç”¨ Jest)</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Jest-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-18-code-coverage2.jpeg" title="Setting up coverage per component (using Jest)" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="æ£€æŸ¥è¦†ç›–ç‡æŠ¥å‘Šä»¥å‘ç°æœªè¦†ç›–çš„åŒºåŸŸå’Œå…¶ä»–å¥‡æ€ªçš„åœ°æ–¹">âšª ï¸ 4.2 æ£€æŸ¥è¦†ç›–ç‡æŠ¥å‘Šï¼Œä»¥å‘ç°æœªè¦†ç›–çš„åŒºåŸŸå’Œå…¶ä»–å¥‡æ€ªçš„åœ°æ–¹</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æœ‰äº›é—®é¢˜éšè—åœ¨é›·è¾¾ä¹‹ä¸‹ï¼Œè€Œä½¿ç”¨ä¼ ç»Ÿå·¥å…·å¾ˆéš¾å‘ç°å®ƒä»¬ã€‚å®ƒä»¬é€šå¸¸ä¸æ˜¯çœŸæ­£çš„ bugï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯åº”ç”¨çš„æ€ªå¼‚è¡¨ç°ï¼Œè€Œè¿™ç§è¡¨ç°å¯èƒ½é€ æˆä¸¥é‡å½±å“ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ä»£ç åŒºåŸŸå‡ ä¹ä¸ä¼šæˆ–å¾ˆå°‘è¢«è°ƒç”¨â€”â€”ä½ ä»¥ä¸ºâ€œPricingCalculatorâ€ç±»åªä¼šè®¾ç½®äº§å“ä»·æ ¼ï¼Œç»“æœä»–å‡ ä¹ä¸ä¼šè¢«è°ƒç”¨ï¼Œå³ä½¿æˆ‘ä»¬çš„æ•°æ®åº“ä¸­æœ‰ 10000 ä»¶å•†å“ä»¥åŠå¾ˆå¤šäº¤æ˜“â€¦â€¦ä»£ç è¦†ç›–ç‡æŠ¥å‘Šå¯ä»¥å¸®åŠ©ä½ å‘ç°åº”ç”¨æ˜¯å¦æŒ‰ç…§ä½ çš„æœŸæœ›æ‰§è¡Œã€‚åˆæ¬¡ä¹‹å¤–ï¼Œå®ƒé«˜äº®äº†é‚£äº›ç±»å‹çš„ä»£ç æ²¡æœ‰è¢«æµ‹è¯•åˆ°â€”â€”80% çš„ä»£ç è¢«æµ‹è¯•å¹¶ä¸èƒ½è¯´æ˜ä½ çš„å…³é”®éƒ¨åˆ†è¢«è¦†ç›–åˆ°ã€‚ç”ŸæˆæŠ¥å‘Šå¾ˆç®€å•â€”â€”åªéœ€åœ¨æ„é€ æˆ–æµ‹è¯•è¦†ç›–ç‡æ—¶è·‘ä½ çš„åº”ç”¨ï¼Œç„¶åçœ‹çœ‹èŠ±èŠ±ç»¿ç»¿çš„æŠ¥å‘Šæ¥å‘Šè¯‰ä½ æ¯ä¸€ç‰‡ä»£ç åŒºåŸŸè¢«å¤šé¢‘ç¹åœ°è°ƒåˆ°ã€‚å¦‚æœä½ èŠ±ä¸€ç‚¹æ—¶é—´çœ‹çœ‹è¿™äº›æ•°æ®â€”â€”ä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›é—®é¢˜ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å¦‚æœä½ ä¸çŸ¥é“ä½ çš„ä»£ç ä¸­æœ‰å“ªäº›éƒ¨åˆ†æ²¡æœ‰è¢«æµ‹è¯•åˆ°ï¼Œåˆ™ä½ æ²¡æ³•å‡†ç¡®å®šä½é—®é¢˜çš„æ¥æºã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-è¿™ä»½è¦†ç›–ç‡æŠ¥å‘Šæœ‰ä»€ä¹ˆé—®é¢˜åŸºäºä¸€ä¸ªçœŸå®çš„åœºæ™¯æˆ‘ä»¬è·Ÿè¸ªäº†-qa-ä¸­çš„åº”ç”¨ç¨‹åºä½¿ç”¨æƒ…å†µå¹¶å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ç™»å½•æ¨¡å¼æç¤ºç™»å½•å¤±è´¥çš„æ•°é‡æ˜¯ä¸æˆæ¯”ä¾‹çš„æœ‰äº›åœ°æ–¹æ˜¾ç„¶æœ‰é—®é¢˜æœ€ç»ˆè¡¨ç°ä¸ºä¸€äº›å‰ç«¯çš„-bug-ä¸æ–­è§¦å‘åç«¯ç™»å½•api">:thumbsdown: åä¾‹: è¿™ä»½è¦†ç›–ç‡æŠ¥å‘Šæœ‰ä»€ä¹ˆé—®é¢˜ï¼ŸåŸºäºä¸€ä¸ªçœŸå®çš„åœºæ™¯ï¼Œæˆ‘ä»¬è·Ÿè¸ªäº† QA ä¸­çš„åº”ç”¨ç¨‹åºä½¿ç”¨æƒ…å†µï¼Œå¹¶å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ç™»å½•æ¨¡å¼(æç¤º:ç™»å½•å¤±è´¥çš„æ•°é‡æ˜¯ä¸æˆæ¯”ä¾‹çš„ï¼Œæœ‰äº›åœ°æ–¹æ˜¾ç„¶æœ‰é—®é¢˜ã€‚æœ€ç»ˆè¡¨ç°ä¸ºä¸€äº›å‰ç«¯çš„ bug ä¸æ–­è§¦å‘åç«¯ç™»å½•API)</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-19-coverage-yoni-goldberg-nodejs-consultant.png" title="Whatâ€™s wrong with this coverage report? based on a real-world scenario where we tracked our application usage in QA and find out interesting login patterns (Hint: the amount of login failures is non-proportional, something is clearly wrong. Finally it turned out that some frontend bug keeps hitting the backend login API" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨å˜å¼‚æµ‹è¯•åº¦é‡é€»è¾‘è¦†ç›–ç‡">âšª ï¸ 4.3 ä½¿ç”¨ã€Œå˜å¼‚æµ‹è¯•ã€åº¦é‡é€»è¾‘è¦†ç›–ç‡</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ä¼ ç»Ÿè¦†ç›–ç‡é€šå¸¸æ˜¯éª—äººçš„ï¼šå®ƒå¯èƒ½æ˜¾ç¤ºäº† 100% çš„ä»£ç è¦†ç›–ç‡ï¼Œä½†æ˜¯ä½ çš„æ‰€æœ‰çš„å‡½æ•°éƒ½æ²¡æœ‰è¿”å›æ­£ç¡®çš„ç»“æœã€‚æ€ä¹ˆå›äº‹ï¼Ÿå®ƒåªæ˜¯ç®€å•åœ°åº¦é‡ä½ çš„æµ‹è¯•ä»£ç è®¿é—®è¿‡å“ªäº›ä»£ç è¡Œï¼Œè€Œä¸ä¼šæ£€æŸ¥ tc æ˜¯å¦çœŸæ­£åœ°æµ‹è¯•äº†ä»€ä¹ˆâ€”â€”æ–­è¨€äº†æ­£ç¡®çš„è¿”å›ã€‚<br />åŸºäºå˜æ›´çš„æµ‹è¯•é€‚ç”¨äºè¿™ä¸ªéœ€æ±‚ã€‚å®ƒåº¦é‡äº†çœŸæ­£è¢«<strong>æµ‹è¯•è¿‡</strong>çš„ä»£ç è€Œä¸æ˜¯ä»…ä»…è¢«<strong>è®¿é—®è¿‡</strong>çš„ã€‚<a target="_blank" rel="noopener" href="https://stryker-mutator.io/">Stryker</a>Â æ˜¯ä¸€ä¸ªç”¨äºå˜å¼‚æµ‹è¯•çš„ JavaScript åº“ï¼Œè€Œå®ƒçš„å®ç°å¾ˆå·§å¦™ï¼š</p>
<ol type="1">
<li><p>å®ƒæœ‰æ„åœ°æ”¹å˜ä»£ç å¹¶ã€Œæ¤å…¥ bugã€ã€‚ä¾‹å¦‚ä»£ç Â newOrder.price===0 ä¼šè¢«æ”¹æˆÂ newOrder.price!=0ï¼Œè¿™ä¸ª â€œbugâ€å³æˆä¸ºå˜å¼‚ã€‚</p></li>
<li><p>å®ƒè·‘ä¸€éç”¨ä¾‹ï¼Œå¦‚æœæ‰€æœ‰éƒ½æˆåŠŸäº†åˆ™è¯´æ˜æœ‰é—®é¢˜â€”â€”è¿™äº›ç”¨ä¾‹æ²¡æœ‰çœŸæ­£å®ç°ä»–ä»¬å‘ç° bug çš„ç›®çš„ï¼Œè¿™äº›å˜å¼‚å³æ‰€è°“çš„â€œå­˜æ´»â€äº†ã€‚å¦‚æœç”¨ä¾‹å¤±è´¥äº†ï¼Œé‚£ä¹ˆå¾ˆæ£’ï¼Œå˜å¼‚è¢«æ€æ‰äº†ã€‚</p></li>
</ol>
<p>ç›¸å¯¹äºä¼ ç»Ÿè¦†ç›–ç‡ï¼Œå¾—çŸ¥æ‰€æœ‰æˆ–è€…å¤§éƒ¨åˆ†å˜å¼‚è¢«æ€æ‰ä¼šç»™äºˆä½ æ›´é«˜çš„ä¿¡å¿ƒï¼Œè€Œä¸¤è€…èŠ±è´¹çš„æ—¶é—´å·®ä¸å¤šã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ ä¼šè¯¯ä»¥ä¸º 85% çš„è¦†ç›–ç‡ä»£è¡¨ä½ çš„æµ‹è¯•ä¼šå‘ç°ä½ ä»£ç ä¸­çš„ 85% çš„ bug.</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-100-è¦†ç›–ç‡-0-è¢«æµ‹è¯•åˆ°">:thumbsdown: åä¾‹: 100% è¦†ç›–ç‡, 0% è¢«æµ‹è¯•åˆ°</h3>
<p><img src="https://img.shields.io/badge/ğŸ”¨%20Example%20using%20Stryker-blue.svg" title="Using Cypress to illustrate the idea" /></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addNewOrder</span>(<span class="params">newOrder</span>) &#123;</span><br><span class="line">    logger.<span class="title function_">log</span>(<span class="string">`Adding new order <span class="subst">$&#123;newOrder&#125;</span>`</span>);</span><br><span class="line">    <span class="variable constant_">DB</span>.<span class="title function_">save</span>(newOrder);</span><br><span class="line">    <span class="title class_">Mailer</span>.<span class="title function_">sendMail</span>(newOrder.<span class="property">assignee</span>, <span class="string">`A new order was places <span class="subst">$&#123;newOrder&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">approved</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;Test addNewOrder, don&#x27;t use such test names&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">addNewOrder</span>(&#123;<span class="attr">asignee</span>: <span class="string">&quot;John@mailer.com&quot;</span>,<span class="attr">price</span>: <span class="number">120</span>&#125;);</span><br><span class="line">&#125;);<span class="comment">//Triggers 100% code coverage, but it doesn&#x27;t check anything</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-stryker-æŠ¥å‘Šä¸€ä¸ªç¼–è¯‘æµ‹è¯•å·¥å…·å‘ç°å¹¶ç»Ÿè®¡æ²¡æœ‰è¢«æµ‹è¯•åˆ°çš„ä»£ç å˜å¼‚">:clap: æ­£ä¾‹: Stryker æŠ¥å‘Šï¼Œä¸€ä¸ªç¼–è¯‘æµ‹è¯•å·¥å…·ï¼Œå‘ç°å¹¶ç»Ÿè®¡æ²¡æœ‰è¢«æµ‹è¯•åˆ°çš„ä»£ç ï¼ˆå˜å¼‚ï¼‰</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-20-yoni-goldberg-mutation-testing.jpg" title="Stryker reports, a tool for mutation testing, detects and counts the amount of code that is not tested (Mutations)" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨-test-linter-é˜²æ­¢æµ‹è¯•ä»£ç é—®é¢˜">âšª ï¸4.4 ä½¿ç”¨ Test linter é˜²æ­¢æµ‹è¯•ä»£ç é—®é¢˜</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æœ‰ä¸€ç³»åˆ— ESLint æ’ä»¶ç”¨äºæ£€æŸ¥æµ‹è¯•ä»£ç çš„é£æ ¼å¹¶å‘ç°é—®é¢˜ã€‚æ¯”å¦‚Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-mocha">eslint-plugin-mocha</a>Â ä¼šè­¦å‘Šä¸€ä¸ªå†™åœ¨ global å±‚çš„ç”¨ä¾‹ï¼ˆä¸æ˜¯ describe() è¯­å¥çš„å­çº§ï¼‰ï¼Œæˆ–è€…å½“æµ‹è¯•è¢« <a target="_blank" rel="noopener" href="https://mochajs.org/#inclusive-tests">skip</a>Â æ—¶ä¼šå‘å‡ºè­¦å‘Šï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä½ é”™è¯¯åœ°è®¤ä¸ºæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ã€‚ç±»ä¼¼çš„ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/jest-community/eslint-plugin-jest">eslint-plugin-jest</a>Â å¯ä»¥åœ¨ä¸€ä¸ªç”¨ä¾‹æ²¡æœ‰ä»»ä½•æ–­è¨€ï¼ˆä¸è¦†ç›–ä»»ä½•å†…å®¹ï¼‰æ—¶ç»™å‡ºè­¦å‘Šã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å½“ä½ æ»¡è¶³äº 90% çš„ä»£ç è¦†ç›–ç‡å’Œ 100% çš„ç»¿è‰²ç”¨ä¾‹æ—¶ï¼Œå‘ç°å¾ˆå¤šæµ‹è¯•å•¥éƒ½æ²¡æ–­è¨€ï¼Œå¾ˆå¤šæµ‹è¯•ç›´æ¥è¢« skip æ‰äº†ã€‚ä½†æ„¿ä½ æ²¡æœ‰åŸºäºè¿™ä¸ªé”™è¯¯è®¤çŸ¥åšè¿‡é¢å¤–çš„æ„å»ºã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-ä¸€ä¸ªå……æ»¡é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹å¹¸è¿çš„æ˜¯æ‰€æœ‰éƒ½è¢«-linter-æ•è·äº†">:thumbsdown: åä¾‹: ä¸€ä¸ªå……æ»¡é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¸è¿çš„æ˜¯æ‰€æœ‰éƒ½è¢« linter æ•è·äº†</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">describe</span>(<span class="string">&quot;Too short description&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> userToken = userService.<span class="title function_">getDefaultToken</span>() <span class="comment">// *error:no-setup-in-describe, use hooks (sparingly) instead</span></span><br><span class="line">  <span class="title function_">it</span>(<span class="string">&quot;Some description&quot;</span>, <span class="function">() =&gt;</span> &#123;&#125;);<span class="comment">//* error: valid-test-description. Must include the word &quot;Should&quot; + at least 5 words</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">it.<span class="title function_">skip</span>(<span class="string">&quot;Test name&quot;</span>, <span class="function">() =&gt;</span> &#123;<span class="comment">// *error:no-skipped-tests, error:error:no-global-tests. Put tests only under describe or suite</span></span><br><span class="line">  <span class="title function_">expect</span>(<span class="string">&quot;somevalue&quot;</span>); <span class="comment">// error:no-assert</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title function_">it</span>(<span class="string">&quot;Test name&quot;</span>, <span class="function">() =&gt;</span> &#123;*<span class="comment">//error:no-identical-title. Assign unique titles to tests</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h1 id="ç¬¬äº”ç« æŒç»­é›†æˆciä»¥åŠå…¶ä»–è´¨é‡åº¦é‡æ‰‹æ®µ">ç¬¬äº”ç« ï¼šæŒç»­é›†æˆï¼ˆCIï¼‰ä»¥åŠå…¶ä»–è´¨é‡åº¦é‡æ‰‹æ®µ</h1>
<p><br/><br/></p>
<h2 id="ä¸°å¯Œä½ çš„-linter-å¹¶ä¸¢å¼ƒæœ‰-lint-é—®é¢˜çš„æ„å»º">âšª ï¸ 5.1 ä¸°å¯Œä½ çš„ linter å¹¶ä¸¢å¼ƒæœ‰ lint é—®é¢˜çš„æ„å»º</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åªéœ€äº”åˆ†é’Ÿé…ç½®ï¼Œå³å¯å…è´¹è·å–è‡ªåŠ¨ä¿æŠ¤ä»£ç çš„å·¥å…·æ¥æ•è·ä»£ç ä¸­çš„æ˜¾è‘—é—®é¢˜ã€‚Lint ä¸å†åªæ˜¯æ ·å¼å·¥å…·ï¼Œç°åœ¨çš„ linter å¯ä»¥æ•è·å¾ˆå¤šä¸¥é‡çš„é—®é¢˜æ¯”å¦‚ error æ²¡æœ‰è¢«æ­£ç¡®æŠ›å‡ºä»¥åŠä¿¡æ¯ä¸¢å¤±ã€‚åœ¨åŸºç¡€ rule(å¦‚Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-standard">ESLint standard</a>Â æˆ–Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-config-airbnb">Airbnb style</a>)ä¹‹ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘åŠ å…¥ä¸€äº›ç‰¹æ®Šçš„ linterï¼Œä¾‹å¦‚Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-chai-expect">eslint-plugin-chai-expect</a>Â å¯ä»¥å‘ç°ç”¨ä¾‹æ²¡æœ‰å†™æ–­è¨€ï¼Œ<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-promise?activeTab=readme">eslint-plugin-promise</a>Â å¯ä»¥å‘ç° promise æ²¡æœ‰ resolveï¼Œ<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-security?activeTab=readme">eslint-plugin-security</a>Â å¯ä»¥å‘ç°å¯èƒ½è¢« DOS æ”»å‡»çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥åŠÂ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-you-dont-need-lodash-underscore">eslint-plugin-you-dont-need-lodash-underscore</a>Â æ“…é•¿åœ¨ä»£ç ä½¿ç”¨ V8 æ ¸å¿ƒæ–¹æ³•åç»™å‡ºå‘Šè­¦ï¼Œå¦‚ Lodash._map(â€¦)ã€‚</p>
<p><br/></p>
<p>âŒÂ <strong>å¦åˆ™:</strong>Â åœ¨æŸä¸ªä¸‹é›¨å¤©ï¼Œä½ çš„ä»£ç ä¸€ç›´ crash è€Œæ—¥å¿—æ²¡æœ‰æ˜¾ç¤ºé”™è¯¯å †æ ˆä¿¡æ¯ã€‚åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä½ çš„ä»£ç é”™è¯¯åœ°æŠ›äº†ä¸€ä¸ªé error çš„å¯¹è±¡ï¼Œè€Œå †æ ˆ trace ä¸¢å¤±äº†ï¼ŒçœŸè®©äººå¤´ç§ƒâ€¦â€¦åªéœ€è¦äº”åˆ†é’Ÿé…ç½®ä¸€ä¸ª linter æ¥å‘ç°è¿™ä¸ªä¹¦å†™é”™è¯¯å³å¯èŠ‚çœä½ å¤§é‡çš„æ—¶é—´ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="thumbsdown-åä¾‹-å‡ºé”™çš„å¯¹è±¡è¢«é”™è¯¯åœ°æŠ›å‡ºæ²¡æœ‰æ˜¾ç¤ºè¿™ä¸ªé”™è¯¯çš„å †æ ˆä¿¡æ¯å¥½åœ¨-eslint-æ•è·åˆ°äº†åé¢çš„ç”Ÿäº§é”™è¯¯">:thumbsdown: åä¾‹: å‡ºé”™çš„å¯¹è±¡è¢«é”™è¯¯åœ°æŠ›å‡ºï¼Œæ²¡æœ‰æ˜¾ç¤ºè¿™ä¸ªé”™è¯¯çš„å †æ ˆä¿¡æ¯ã€‚å¥½åœ¨ ESLint æ•è·åˆ°äº†åé¢çš„ç”Ÿäº§é”™è¯¯</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-21-yoni-goldberg-eslint.jpeg" title="The wrong Error object is thrown mistakenly, no stack-trace will appear for this error. Luckily, ESLint catches the next production bug" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h1 id="é€šè¿‡æœ¬åœ°çš„å¼€å‘-ci-æ¥ç¼©çŸ­åé¦ˆå¾ªç¯">âšª ï¸ 5.2 é€šè¿‡æœ¬åœ°çš„å¼€å‘ CI æ¥ç¼©çŸ­åé¦ˆå¾ªç¯</h1>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åœ¨æœ¬åœ°ä½¿ç”¨ä¸€ä¸ªåŒ…å«æµ‹è¯•ã€Lintã€ç¨³å®šæ€§æ£€æŸ¥ç­‰åŠŸèƒ½çš„ CI å¯ä»¥å¸®åŠ©å¼€å‘è€…è¿…é€Ÿå¾—åˆ°åé¦ˆå¹¶ç¼©çŸ­<a target="_blank" rel="noopener" href="https://www.gocd.org/2016/03/15/are-you-ready-for-continuous-delivery-part-2-feedback-loops/">åé¦ˆå¾ªç¯</a>ã€‚å› ä¸ºä¸€ä¸ªæœ‰æ•ˆçš„æµ‹è¯•æµç¨‹åŒ…å«å¾ˆå¤šè¿­ä»£å¾ªç¯ (1) å°è¯• -&gt; (2) åé¦ˆ -&gt; (3) é‡æ„ã€‚æ‰€ä»¥åé¦ˆè¶Šå¿«ï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ¯ä¸ªæ¨¡å—ä¸­å¯ä»¥æ‰§è¡Œçš„è¿­ä»£å°±è¶Šå¤šï¼Œå¹¶ä¸”å¯ä»¥å¾—åˆ°æ›´å¥½çš„ç»“æœã€‚åè¿‡æ¥ï¼Œå¦‚æœåé¦ˆæ¥å¾—å¾ˆæ…¢ï¼Œåˆ™ä¸€å¤©åªèƒ½æ‰§è¡Œå¾ˆå°‘çš„è¿­ä»£ï¼Œåˆ™å›¢é˜Ÿå¯èƒ½ä¼šå› æ€¥éœ€æ‰§è¡Œä¸‹ä¸€ä¸ªä¸»é¢˜/ä»»åŠ¡/æ¨¡å— è€Œä¸å†æç‚¼å½“å‰æ¨¡å—ã€‚</p>
<p>ç›®å‰å·²æœ‰ä¸€äº› CI ä¾›åº”å•† (å¦‚:Â <a target="_blank" rel="noopener" href="https://circleci.com/docs/2.0/local-cli/">CircleCI load CLI</a>) æ”¯æŒåœ¨æœ¬åœ°æ‰§è¡Œ CIã€‚ä¸€äº›å•†ä¸šå·¥å…·å¦‚Â <a target="_blank" rel="noopener" href="https://wallabyjs.com/">wallaby</a>Â ä¸ºå¼€å‘åŸå‹æä¾›äº†éå¸¸æœ‰ç”¨çš„æµ‹è¯•èƒ½åŠ›ã€‚æˆ–è€…ä½ å¯ä»¥ä»…ä»…åœ¨ package.json ä¸­æ·»åŠ  npm è„šæœ¬æ¥è·‘ä¸€äº›è´¨é‡å‘½ä»¤â€”â€”ä½¿ç”¨å·¥å…·å¦‚Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/concurrently">concurrently</a>Â æ¥å¹¶è¡Œæ‰§è¡Œï¼Œå¹¶åœ¨ä»»ä½•å·¥å…·å¤±è´¥åæŠ›å‡ºé 0 exit codeã€‚åˆ™å¼€å‘è€…åªéœ€æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼ˆå¦‚Â <code>npm run quality</code>Â ï¼‰æ¥å¿«é€Ÿè·å–åé¦ˆã€‚å¯ä»¥ç”¨ githook æ¥å–æ¶ˆæ²¡æœ‰é€šè¿‡è´¨é‡æ£€æŸ¥çš„æäº¤ï¼ˆ<a target="_blank" rel="noopener" href="https://github.com/typicode/husky">husky</a>Â å¯ä»¥å¸®åˆ°ä½ ï¼‰ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> å½“è´¨é‡æ£€æŸ¥ç»“æœåœ¨æäº¤åç¬¬äºŒå¤©æ‰æ”¶åˆ°åé¦ˆï¼Œåˆ™æµ‹è¯•ä¸å†æ˜¯å¼€å‘çš„ä¸€éƒ¨åˆ†äº†ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ç”¨äºæ‰§è¡Œä»£ç è´¨é‡æ£€æŸ¥çš„-npm-è„šæœ¬åœ¨ä¸»åŠ¨è§¦å‘æˆ–ç”¨æˆ·å°è¯•æäº¤æ–°ä»£ç æ—¶å¹¶è¡Œæ‰§è¡Œ">:clap: æ­£ä¾‹: ç”¨äºæ‰§è¡Œä»£ç è´¨é‡æ£€æŸ¥çš„ npm è„šæœ¬ï¼Œåœ¨ä¸»åŠ¨è§¦å‘æˆ–ç”¨æˆ·å°è¯•æäº¤æ–°ä»£ç æ—¶å¹¶è¡Œæ‰§è¡Œã€‚</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;inspect:sanity-testing&quot;</span>: <span class="string">&quot;mocha **/**--test.js --grep \&quot;sanity\&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;inspect:lint&quot;</span>: <span class="string">&quot;eslint .&quot;</span>,</span><br><span class="line">    <span class="string">&quot;inspect:vulnerabilities&quot;</span>: <span class="string">&quot;npm audit&quot;</span>,</span><br><span class="line">    <span class="string">&quot;inspect:license&quot;</span>: <span class="string">&quot;license-checker --failOn GPLv2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;inspect:complexity&quot;</span>: <span class="string">&quot;plato .&quot;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;inspect:all&quot;</span>: <span class="string">&quot;concurrently -c \&quot;bgBlue.bold,bgMagenta.bold,yellow\&quot; \&quot;npm:inspect:quick-testing\&quot; \&quot;npm:inspect:lint\&quot; \&quot;npm:inspect:vulnerabilities\&quot; \&quot;npm:inspect:license\&quot;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;husky&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;hooks&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;precommit&quot;</span>: <span class="string">&quot;npm run inspect:all&quot;</span>,</span><br><span class="line">      <span class="string">&quot;prepush&quot;</span>: <span class="string">&quot;npm run inspect:all&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h1 id="åœ¨çœŸå®çš„ç”Ÿäº§ç¯å¢ƒé•œåƒä¸­æ‰§è¡Œç«¯åˆ°ç«¯æµ‹è¯•">âšª ï¸5.3 åœ¨çœŸå®çš„ç”Ÿäº§ç¯å¢ƒé•œåƒä¸­æ‰§è¡Œç«¯åˆ°ç«¯æµ‹è¯•</h1>
<p>:white_check_mark: <strong>å»ºè®®:</strong> ç«¯åˆ°ç«¯æµ‹è¯•æ˜¯æ¯ä¸ª CI çš„ä¸»è¦æŒ‘æˆ˜â€”â€”å®æ—¶åˆ›å»ºä¸€ä¸ªç”Ÿäº§ç¯å¢ƒé•œåƒå¹¶å¸¦ä¸Šæ‰€æœ‰ç›¸å…³çš„äº‘æœåŠ¡æ˜¯å¾ˆè´¹æ—¶è´¹åŠ›çš„ã€‚ä½ éœ€è¦æ‰¾åˆ°æœ€ä½³çš„æŠ˜ä¸­ï¼š<a target="_blank" rel="noopener" href="https://serverless.com/">Docker-compose</a>Â é€šè¿‡ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶å°†ç‹¬ç«‹çš„ docker ç¯å¢ƒæ”¾ç½®åˆ°ç›¸åŒçš„å®¹å™¨ä¸­ï¼Œä½†æ˜¯èƒŒåçš„æŠ€æœ¯ï¼ˆå¦‚ç½‘ç»œã€æ„å»ºæ¨¡å‹ï¼‰ä¸çœŸå®ä¸–ç•Œæœ‰æ‰€å·®åˆ«ã€‚ä½ å¯ä»¥å°†å…¶ä¸<a target="_blank" rel="noopener" href="https://github.com/localstack/localstack">â€˜AWS Localâ€™</a>ç»“åˆåœ¨çœŸå®çš„ AWS æœåŠ¡ä¸­ä½¿ç”¨ã€‚å¦‚æœä½ ä½¿ç”¨äº†Â <a target="_blank" rel="noopener" href="https://serverless.com/">serverless</a>Â æ¡†æ¶ï¼ŒÂ <a target="_blank" rel="noopener" href="https://docs.aws.amazon.com/lambda/latest/dg/serverless_app.html">AWS SAM</a>å…è®¸æœ¬åœ°è°ƒç”¨ FaaS ä»£ç ã€‚</p>
<p>Kubernetes å¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿè¿˜æ²¡æœ‰å½¢æˆä¸€ä¸ªæ˜“ç”¨çš„æ ‡å‡†å·¥å…·ç”¨äºæœ¬åœ°å’Œ CI é•œåƒï¼Œè™½ç„¶ç»å¸¸æ¨å‡ºè®¸å¤šæ–°çš„å·¥å…·ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨åƒÂ <a target="_blank" rel="noopener" href="https://kubernetes.io/docs/setup/minikube/">Minikube</a>Â å’ŒÂ <a target="_blank" rel="noopener" href="https://microk8s.io/">MicroK8s</a>Â è¿™æ ·çš„å·¥å…·æ¥è¿è¡Œä¸€ä¸ªâ€œæœ€å°åŒ–çš„ kubernetesâ€ï¼Œè¿™äº›å·¥å…·æ›´æ¥è¿‘å®é™…ï¼Œä½†æ˜¯å¼€é”€æ›´å°‘ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨è¿œç¨‹çš„ â€œçœŸå® Kubernetesâ€ ä¸Šè¿›è¡Œæµ‹è¯•ï¼Œä¸€äº› CI æä¾›å•†(ä¾‹å¦‚Â <a target="_blank" rel="noopener" href="https://codefresh.io/">Codefresh</a>)ä¸ Kubernetes ç¯å¢ƒè¿›è¡Œäº†æœ¬åœ°é›†æˆï¼Œä½¿å¾—åœ¨çœŸå®ç¯å¢ƒä¸­è¿è¡Œ CI ç®¡é“å˜å¾—å¾ˆå®¹æ˜“ï¼Œå…¶ä»–çš„åˆ™å…è®¸é’ˆå¯¹è¿œç¨‹ Kubernetes è¿›è¡Œè‡ªå®šä¹‰è„šæœ¬ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ç”Ÿäº§å’Œæµ‹è¯•ç¯å¢ƒä½¿ç”¨ä¸åŒçš„æŠ€æœ¯ï¼Œéœ€è¦ç»´æŠ¤ä¸¤ä¸ªéƒ¨ç½²æ¨¡å‹ï¼Œå¹¶å°†å¼€å‘äººå‘˜å’Œ ops å›¢é˜Ÿåˆ†éš”å¼€æ¥ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-åŠ¨æ€ç”Ÿæˆ-kubernetes-é›†ç¾¤çš„-ci-ç®¡é“-è´¡çŒ®-dynamic-environments-kuberneteshttpscontainer-solutions.comdynamic-environments-kubernetes">:clap: æ­£ä¾‹: åŠ¨æ€ç”Ÿæˆ Kubernetes é›†ç¾¤çš„ CI ç®¡é“ <a href="https://container-solutions.com/dynamic-environments-kubernetes/" data-href="https://container-solutions.com/dynamic-environments-kubernetes/" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">(è´¡çŒ®: Dynamic-environments Kubernetes](https://container-solutions.com/dynamic-environments-kubernetes/))</a></h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">registry.gitlab.com/gitlab-examples/kubernetes-deploy</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">./configureCluster.sh</span> <span class="string">$KUBE_CA_PEM_FILE</span> <span class="string">$KUBE_URL</span> <span class="string">$KUBE_TOKEN</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">kubectl</span> <span class="string">create</span> <span class="string">ns</span> <span class="string">$NAMESPACE</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">kubectl</span> <span class="string">create</span> <span class="string">secret</span> <span class="string">-n</span> <span class="string">$NAMESPACE</span> <span class="string">docker-registry</span> <span class="string">gitlab-registry</span> <span class="string">--docker-server=&quot;$CI_REGISTRY&quot;</span> <span class="string">--docker-username=&quot;$CI_REGISTRY_USER&quot;</span> <span class="string">--docker-password=&quot;$CI_REGISTRY_PASSWORD&quot;</span> <span class="string">--docker-email=&quot;$GITLAB_USER_EMAIL&quot;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">mkdir</span> <span class="string">.generated</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">echo</span> <span class="string">&quot;$CI_BUILD_REF_NAME-$CI_BUILD_REF&quot;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">sed</span> <span class="string">-e</span> <span class="string">&quot;s/TAG/$CI_BUILD_REF_NAME-$CI_BUILD_REF/g&quot;</span> <span class="string">templates/deals.yaml</span> <span class="string">|</span> <span class="string">tee</span> <span class="string">&quot;.generated/deals.yaml&quot;</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">kubectl</span> <span class="string">apply</span> <span class="string">--namespace</span> <span class="string">$NAMESPACE</span> <span class="string">-f</span> <span class="string">.generated/deals.yaml</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">kubectl</span> <span class="string">apply</span> <span class="string">--namespace</span> <span class="string">$NAMESPACE</span> <span class="string">-f</span> <span class="string">templates/my-sock-shop.yaml</span></span><br><span class="line"><span class="attr">environment:</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">test-for-ci</span></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
<h2 id="å¹¶è¡Œæµ‹è¯•å·¥ä½œ">âšª ï¸5.4 å¹¶è¡Œæµ‹è¯•å·¥ä½œ</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> åªè¦æ“ä½œåˆç†ï¼Œæµ‹è¯•æ˜¯ä½  7x24 å°æ—¶çš„æœ‹å‹ï¼Œä¸ºä½ æä¾›éå¸¸åŠæ—¶çš„åé¦ˆã€‚å®é™…ä¸Šï¼Œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œ 500 ä¸ªå•å…ƒæµ‹è¯•å¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚å¹¸è¿çš„æ˜¯ï¼Œç°ä»£æµ‹è¯•è¿è¡Œå™¨å’Œ CI å¹³å°ï¼ˆå¦‚Â <a target="_blank" rel="noopener" href="https://github.com/facebook/jest">Jest</a>,Â <a target="_blank" rel="noopener" href="https://github.com/avajs/ava">AVA</a>Â å’ŒÂ <a target="_blank" rel="noopener" href="https://github.com/yandex/mocha-parallel-tests">Mocha extensions</a>ï¼‰å¯ä»¥å°†æµ‹è¯•å¹¶è¡ŒåŒ–ä¸ºå¤šä¸ªè¿›ç¨‹ï¼Œä»¥æ˜¾è‘—ç¼©çŸ­åé¦ˆæ—¶é—´ã€‚ ä¸€äº›CIä¾›åº”å•†ä¹Ÿæ”¯æŒè·¨å®¹å™¨å¹¶è¡ŒåŒ–æµ‹è¯•ï¼Œè¿™è¿›ä¸€æ­¥ç¼©çŸ­äº†åé¦ˆå¾ªç¯ã€‚ æ— è®ºæ˜¯åœ¨æœ¬åœ°å¤šä¸ªè¿›ç¨‹ï¼Œè¿˜æ˜¯åœ¨ä½¿ç”¨å¤šå°æœºå™¨çš„æŸäº›äº‘ CLI ä¸Š - å¹¶è¡ŒåŒ–éœ€è¦ä¿è¯æµ‹è¯•ç”¨ä¾‹çš„ç‹¬ç«‹æ€§ï¼Œå› ä¸ºæ¯ä¸ªç”¨ä¾‹å¯èƒ½åœ¨ä¸åŒçš„è¿›ç¨‹ä¸Šè¿è¡Œã€‚</p>
<p>âŒ <strong>å¦åˆ™:</strong> åœ¨æ¨é€æ–°ä»£ç  1 å°æ—¶åè·å¾—æµ‹è¯•ç»“æœï¼Œè€Œä½ å·²ç»åœ¨å†™ä¸‹ä¸€ä¸ª feature äº†ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-mocha-parallel-jest-è½»æ¾åœ°åŠ é€Ÿäº†ä¼ ç»Ÿçš„-mochaæ„Ÿè°¢å¹¶è¡Œæµ‹è¯•è´¡çŒ®javascriptæµ‹è¯•è¿è¡ŒåŸºå‡†">:clap: æ­£ä¾‹: Mocha parallel &amp; Jest è½»æ¾åœ°åŠ é€Ÿäº†ä¼ ç»Ÿçš„ Mochaï¼Œæ„Ÿè°¢å¹¶è¡Œæµ‹è¯•(<a target="_blank" rel="noopener" href="https://medium.com/dailyjs/javascript-test-runners-benchmark-3a78d4117b4">è´¡çŒ®:JavaScriptæµ‹è¯•è¿è¡ŒåŸºå‡†</a>)</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-24-yonigoldberg-jest-parallel.png" title="Mocha parallel &amp; Jest easily outrun the traditional Mocha thanks to testing parallelization (Credit: JavaScript Test-Runners Benchmark)" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="ä½¿ç”¨è®¸å¯è¯å’ŒæŠ„è¢­æ£€æŸ¥é¿å…æ³•åŠ¡é—®é¢˜">âšª ï¸5.5 ä½¿ç”¨è®¸å¯è¯å’ŒæŠ„è¢­æ£€æŸ¥é¿å…æ³•åŠ¡é—®é¢˜</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> è®¸å¯å’ŒæŠ„è¢­é—®é¢˜å¯èƒ½ä¸æ˜¯æ‚¨ç°åœ¨ä¸»è¦å…³æ³¨çš„é—®é¢˜ï¼Œä½†ä¸ºä»€ä¹ˆä¸åœ¨10åˆ†é’Ÿå†…åŠ ä¸Šè¿™ä¸ªèƒ½åŠ›å‘¢ï¼Ÿ è®¸å¤š npm åŒ…ï¼Œå¦‚Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/license-checker">license check</a>Â å’ŒÂ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/plagiarism-checker">plagiarism check</a>ï¼ˆå•†ä¸šçš„ï¼Œä½†æ˜¯æœ‰å…è´¹é€‰é¡¹ï¼‰å¯ä»¥å¾ˆå®¹æ˜“åœ°åŠ å…¥æ‚¨çš„ CI ç®¡é“ï¼Œå¹¶æ£€æŸ¥ä¸€äº›å‘ï¼šä¾èµ–é™åˆ¶æ€§è®¸å¯è¯æˆ–ä»Stackoverflowå¤åˆ¶ç²˜è´´çš„ä»£ç ï¼Œæˆ–è€…å¾ˆæ˜æ˜¾åœ°ä¾µçŠ¯äº†æŸäº›ç‰ˆæƒã€‚</p>
<p>âŒ <strong>å¦åˆ™:</strong> æ— æ„ä¸­ï¼Œå¼€å‘äººå‘˜å¯èƒ½ä¼šä½¿ç”¨åŒ…å«ä¸é€‚å½“è®¸å¯è¯çš„è½¯ä»¶åŒ…æˆ–å¤åˆ¶ç²˜è´´å•†ä¸šä»£ç å¹¶é‡åˆ°æ³•åŠ¡é—®é¢˜ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-1">:clap: æ­£ä¾‹:</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//install license-checker in your CI environment or also locally</span></span><br><span class="line">npm install -g license-checker</span><br><span class="line"></span><br><span class="line"><span class="comment">//ask it to scan all licenses and fail with exit code other than 0 if it found unauthorized license. The CI system should catch this failure and stop the build</span></span><br><span class="line">license-checker --summary --failOn <span class="variable constant_">BSD</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><br/></p>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-25-nodejs-licsense.png" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="æŒç»­æ£€æŸ¥æœ‰æ¼æ´çš„ä¾èµ–">âšª ï¸5.6 æŒç»­æ£€æŸ¥æœ‰æ¼æ´çš„ä¾èµ–</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> å³ä½¿æ˜¯æœ€çŸ¥åçš„ä¾èµ–ï¼ˆå¦‚ Expressï¼‰ä¹Ÿå­˜åœ¨å·²çŸ¥çš„æ¼æ´ã€‚ è¿™å¯ä»¥é€šè¿‡ä½¿ç”¨ç¤¾åŒºå·¥å…·ï¼ˆå¦‚Â <a target="_blank" rel="noopener" href="https://docs.npmjs.com/getting-started/running-a-security-audit">npm audit</a>ï¼‰æˆ–å•†ä¸šå·¥å…·ï¼ˆå¦‚Â <a target="_blank" rel="noopener" href="https://snyk.io/">snyk</a>ï¼‰ï¼ˆä¹Ÿæä¾›å…è´¹çš„ç¤¾åŒºç‰ˆæœ¬ï¼‰è½»æ¾è§£å†³ã€‚ å¯ä»¥åœ¨æ¯æ¬¡æ„å»ºæ—¶éƒ½å¯ä»¥ä» CI è°ƒç”¨ä»–ä¿©ã€‚</p>
<p>âŒ <strong>å¦åˆ™:</strong> åœ¨æ²¡æœ‰ä¸“ç”¨å·¥å…·çš„å¸®åŠ©ä¸‹ä¿æŒä»£ç è¿œç¦»æ¼æ´ï¼Œå°†éœ€è¦ä¸æ–­å…³æ³¨æœ‰å…³æ–°å¨èƒçš„å‘å¸ƒä¿¡æ¯ã€‚ è¿™ç›¸å½“ä¹å‘³ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-npm-audit-ç»“æœ">:clap: æ­£ä¾‹: NPM Audit ç»“æœ</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-26-npm-audit-snyk.png" title="NPM Audit result" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="è‡ªåŠ¨å‡çº§ä¾èµ–">âšª ï¸5.7 è‡ªåŠ¨å‡çº§ä¾èµ–</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> Yarn å’Œ npm æœ€æ–°æ¨å‡ºçš„ package-lock.json å¼•å…¥äº†ä¸€ä¸ªä¸¥å³»çš„é—®é¢˜ï¼ˆæœ¬æ„æ˜¯å¥½çš„ï¼Œä½†å´é€šå¾€åœ°ç‹±ï¼‰ - é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ…å°†ä¸å†å¾—åˆ°æ›´æ–°ã€‚å³ä½¿å›¢é˜Ÿä½¿ç”¨ 'npm install' å’Œ 'npm update' ä¹Ÿä¸ä¼šè·å¾—ä»»ä½•æ›´æ–°ã€‚è¿™ç†æƒ³æƒ…å†µä¸‹ä¼šå¯¼è‡´ä¾èµ–äº†ä¸å¤ªå¥½çš„åŒ…ç‰ˆæœ¬ï¼Œæˆ–è€…æœ€åçš„æƒ…å†µå¼•å…¥æ˜“å—æ”»å‡»çš„ä»£ç ã€‚ç°åœ¨ï¼Œå›¢é˜Ÿä¾é å¼€å‘äººå‘˜çš„å–„æ„å’Œè®°å¿†æ¥æ‰‹åŠ¨æ›´æ–° package.json æˆ–æ‰‹åŠ¨ä½¿ç”¨åƒÂ <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/npm-check-updates">ncu</a>Â è¿™æ ·çš„å·¥å…·ã€‚è€Œæ›´é è°±çš„æ–¹å¼æ˜¯è‡ªåŠ¨è·å–æœ€å¯é çš„ä¾èµ–ç‰ˆæœ¬ï¼Œè™½ç„¶æ²¡æœ‰æœ€ä¼˜è§£å†³æ–¹æ¡ˆï¼Œä½†æœ‰ç›®å‰ä¸¤ç§å¯èƒ½çš„è‡ªåŠ¨åŒ–æ–¹å¼ï¼š</p>
<p>ï¼ˆ1ï¼‰CI å¯ä»¥ä½¿ å…·æœ‰è¿‡æ—¶ä¾èµ– çš„æ„å»ºå¤±è´¥ - ä½¿ç”¨ '<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/outdated">npm outdated</a>' æˆ– 'npm-check-updatesï¼ˆncuï¼‰' ç­‰å·¥å…·ã€‚è¿™æ ·åšå°†å¼ºåˆ¶å¼€å‘äººå‘˜æ›´æ–°ä¾èµ–é¡¹ã€‚</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨å•†ä¸šå·¥å…·ï¼Œä»–ä»¬å¯ä»¥æ‰«æä»£ç å¹¶è‡ªåŠ¨å‘é€æ›´æ–°ä¾èµ–çš„ PRã€‚å‰©ä¸‹çš„ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯ä¾èµ–æ›´æ–°ç­–ç•¥â€”â€” æ¯ä¸ªè¡¥ä¸çš„æ›´æ–°éƒ½ä¼šäº§ç”Ÿå¤ªå¤šçš„å¼€é”€ï¼Œè€Œå¤§ç‰ˆæœ¬å‘å¸ƒæ—¶æ›´æ–°å¯èƒ½ä¼šæŒ‡å‘ä¸€ä¸ªä¸ç¨³å®šçš„ç‰ˆæœ¬ï¼ˆè®¸å¤šè½¯ä»¶åŒ…åœ¨å‘å¸ƒåçš„å‡ å¤©å†…è¢«çˆ†å‡ºæ¼æ´ï¼Œè¯·<a target="_blank" rel="noopener" href="https://nodesource.com/blog/a-high-level-post-mortem-of-the-eslint-scope-security-incident/">å‚é˜…</a>Â eslint-scope äº‹ä»¶ï¼‰ã€‚</p>
<p>æœ‰æ•ˆçš„æ›´æ–°ç­–ç•¥å¯èƒ½å…è®¸ä¸€äº›â€œå½’å±æœŸâ€â€”â€”è®©ä»£ç æ»å <span class="citation" data-cites="latest">@latest</span> ä¸€æ®µæ—¶é—´å’Œç‰ˆæœ¬ï¼Œå†å°†æœ¬åœ°å‰¯æœ¬è§†ä¸ºè¿‡æ—¶ï¼ˆä¾‹å¦‚æœ¬åœ°ç‰ˆæœ¬ä¸º1.3.1ä¸”å­˜å‚¨åº“ç‰ˆæœ¬ä¸º1.3.8ï¼‰ã€‚</p>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> æ‚¨çš„ç”Ÿäº§ç¯å¢ƒè¿è¡Œçš„åŒ…å·²è¢«å…¶ä½œè€…æ˜ç¡®æ ‡è®°ä¸ºæœ‰é£é™©ã€‚</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-å¯ä»¥æ‰‹åŠ¨æˆ–åœ¨-ci-ç®¡é“ä¸­ä½¿ç”¨-ncu-æ¥æ£€æµ‹ä»£ç åœ¨æœ€æ–°ç‰ˆæœ¬ä¹‹åçš„æ»åç¨‹åº¦">:clap: æ­£ä¾‹: å¯ä»¥æ‰‹åŠ¨æˆ–åœ¨ CI ç®¡é“ä¸­ä½¿ç”¨Â <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/npm-checkupdates">ncu</a>Â æ¥æ£€æµ‹ä»£ç åœ¨æœ€æ–°ç‰ˆæœ¬ä¹‹åçš„æ»åç¨‹åº¦</h3>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/bp-27-yoni-goldberg-npm.png" title="Nncu can be used manually or within a CI pipeline to detect to which extent the code lag behind the latest versions" alt="alt text" /><figcaption aria-hidden="true">alt text</figcaption>
</figure>
</details>
<p><br/><br/></p>
<h2 id="å…¶ä»–çš„ä¸-node-æ— å…³çš„ci-å°å»ºè®®">âšª ï¸ 5.8 å…¶ä»–çš„ï¼Œä¸ Node æ— å…³çš„ï¼ŒCI å°å»ºè®®</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> æœ¬æ–‡çš„é‡ç‚¹æ˜¯å¤šå°‘ä¸ Node JS æœ‰ç‚¹å…³ç³»çš„æµ‹è¯•å»ºè®®ã€‚ä½†æ˜¯ï¼Œæœ¬èŠ‚æ•´ç†äº†ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„ä¸ Node æ— å…³çš„æŠ€å·§ï¼š</p>
<ol type="1">
<li>ä½¿ç”¨å£°æ˜æ€§è¯­æ³•ã€‚è¿™æ˜¯å¤§å¤šæ•°å·¥å…·çš„å”¯ä¸€é€‰æ‹©ï¼Œä½†æ—§ç‰ˆæœ¬çš„ Jenkins å…è®¸ä½¿ç”¨ä»£ç æˆ– UIã€‚</li>
<li>é€‰æ‹©å…·æœ‰æœ¬åœ° Docker æ”¯æŒçš„å·¥å…·ã€‚</li>
<li>å°½å¿«å¤±è´¥ï¼Œå…ˆè¿è¡Œæœ€å¿«çš„æµ‹è¯•ã€‚è®¾ç«‹ä¸€ä¸ªâ€œå†’çƒŸæµ‹è¯•â€ é˜¶æ®µ/é‡Œç¨‹ç¢‘ï¼Œå¯¹å¤šä¸ªå¿«é€Ÿæ£€æŸ¥å·¥å…·ï¼ˆå¦‚ lintingï¼Œå•å…ƒæµ‹è¯•ï¼‰è¿›è¡Œåˆ†ç»„ï¼Œä¸ºä»£ç æäº¤è€…æä¾›å¿«é€Ÿåé¦ˆã€‚</li>
<li>è®¾æ³•æ–¹ä¾¿åœ°æµè§ˆæ„å»ºçš„æ‰€æœ‰äº§å‡ºï¼ŒåŒ…æ‹¬æµ‹è¯•æŠ¥å‘Šï¼Œè¦†ç›–ç‡æŠ¥å‘Šï¼Œå˜å¼‚æŠ¥å‘Šï¼Œæ—¥å¿—ç­‰ã€‚</li>
<li>ä¸ºæ¯ä¸ªäº‹ä»¶åˆ›å»ºå¤šä¸ªç®¡é“/ä½œä¸šï¼Œæå–ä»–ä»¬çš„ç›¸åŒå·¥ä½œã€‚ä¾‹å¦‚ï¼Œä¸ºåŠŸèƒ½åˆ†æ”¯çš„æäº¤é…ç½®ä¸€ä¸ªä½œä¸šï¼Œä¸º master PRé…ç½®å¦ä¸€ä¸ªã€‚ï¼ˆå¤§å¤šæ•°å·¥å…·æä¾›äº†ä¸€äº›ä»£ç é‡ç”¨çš„æœºåˆ¶ï¼‰</li>
<li>æ°¸è¿œä¸è¦åœ¨å·¥ä½œå£°æ˜ä¸­åŠ å…¥æœºå¯†ä¿¡æ¯ï¼Œä»æœºå¯†åº“æˆ–å·¥ä½œçš„é…ç½®ä¸­è·å–å®ƒã€‚</li>
<li>åœ¨å‘å¸ƒæ„å»ºä¸­æ˜ç¡®ç›®æ ‡ç‰ˆæœ¬å·</li>
<li>ä»…æ„å»ºä¸€æ¬¡å¹¶å¯¹æ•´ä¸ªæ„å»ºæ‰§è¡Œæ‰€æœ‰æ£€æŸ¥ï¼ˆä¾‹å¦‚Dockeré•œåƒï¼‰</li>
<li>åœ¨ä¸€ä¸ªä¸´æ—¶çš„ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ï¼Œè¿™ä¸ªç¯å¢ƒä¸ä¼šåœ¨ä¸åŒæ„å»ºä¹‹é—´äº§ç”ŸçŠ¶æ€æ¼‚ç§»ã€‚ç¼“å­˜ node_modules å¯èƒ½æ˜¯æƒŸä¸€çš„ä¾‹å¤–ã€‚</li>
</ol>
<p><br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> ä½ ä¼šé”™è¿‡å¤šå¹´æ¥æ™ºæ…§çš„ç»“æ™¶</p>
<p><br/><br/></p>
<h2 id="æ„å»ºæ¨¡å‹matrixä½¿ç”¨å¤šä¸ª-node-ç‰ˆæœ¬æ‰§è¡ŒåŒä¸€ä¸ª-ci-æµç¨‹">âšª ï¸ 5.9 æ„å»ºæ¨¡å‹ï¼ˆMatrixï¼‰ï¼šä½¿ç”¨å¤šä¸ª Node ç‰ˆæœ¬æ‰§è¡ŒåŒä¸€ä¸ª CI æµç¨‹</h2>
<p>:white_check_mark: <strong>å»ºè®®:</strong> è´¨é‡æ£€æŸ¥æ˜¯ç”¨äºå‘ç°æ„å¤–ï¼Œä½ è¦†ç›–çš„éƒ¨åˆ†è¶Šå¤šï¼Œä½ å°±è¶Šå¯èƒ½å°½æ—©åœ°å‘ç°é—®é¢˜ã€‚ åœ¨å¼€å‘åŒ…æˆ–è¿è¡Œå…·æœ‰å„ç§é…ç½®å’Œ Node ç‰ˆæœ¬çš„å¤šå®¢æˆ·ç”Ÿäº§ç¯å¢ƒæ—¶ï¼ŒCI å¿…é¡»åœ¨æ‰€æœ‰é…ç½®çš„ç»„åˆä¸Šè¿è¡Œæµ‹è¯•ç®¡é“ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬çš„æŸäº›å®¢æˆ·ä½¿ç”¨ MySQLï¼Œå¦ä¸€æ‰¹å®¢æˆ·ä½¿ç”¨ Postgresã€‚ä¸€äº› CI å·¥å…·æ”¯æŒä¸€ç§ç§°ä¸ºâ€œMatrixâ€çš„åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å¯ä»¥é’ˆå¯¹ MySQLã€Postgres å’Œå¤šä¸ª Node ç‰ˆæœ¬ï¼ˆå¦‚8ã€9ã€10ï¼‰çš„æ‰€æœ‰ç»„åˆæ‰§è¡Œæµ‹è¯•ã€‚ åªè¦é…ç½®å³å¯å®Œæˆè€Œæ— éœ€ä»»ä½•é¢å¤–å·¥ä½œã€‚ å…¶ä»–ä¸æ”¯æŒ Matrix çš„ CI å¯èƒ½å¯ä»¥é€šè¿‡æ‰©å±•æˆ–ä¸€å®šè°ƒæ•´æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ <br/></p>
<p>âŒ <strong>å¦åˆ™:</strong> åœ¨è¾›è¾›è‹¦è‹¦å†™å®Œæ‰€æœ‰ç”¨ä¾‹ç¼–å†™ä¹‹åï¼Œæ€ä¹ˆå¯ä»¥å› ä¸ºé…ç½®é—®é¢˜è€Œè®©æ¼æ´æºœè¿›æ¥ï¼Ÿ</p>
<p><br/></p>
<details>
<summary>
âœ <b>ä»£ç ç¤ºä¾‹</b>
</summary>
<p><br/></p>
<h3 id="clap-æ­£ä¾‹-ä½¿ç”¨-travis-ci-æä¾›å•†-æ„å»ºé…ç½®åœ¨å¤šä¸ª-node-ç‰ˆæœ¬ä¸Šè¿è¡Œç›¸åŒçš„æµ‹è¯•">:clap: æ­£ä¾‹: ä½¿ç”¨ Travis (CI æä¾›å•†) æ„å»ºé…ç½®ï¼Œåœ¨å¤šä¸ª Node ç‰ˆæœ¬ä¸Šè¿è¡Œç›¸åŒçš„æµ‹è¯•</h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;7&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;6&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;5&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="attr">install:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"><span class="attr">script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">test</span></span><br></pre></td></tr></table></figure>
</details>
<p><br/><br/></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io">Sinos</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io/2023/08/ffc01122c09c.html">https://sinos_wei.gitee.io/2023/08/ffc01122c09c.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/summary/">summary</a><a class="post-meta__tags" href="/tags/shields/">shields</a><a class="post-meta__tags" href="/tags/mark/">mark</a><a class="post-meta__tags" href="/tags/badge/">badge</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/00000197.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/4eb2e1b2c3ff.html" title="system-design"><img class="cover" src="/img/cover/IMG_4071.PNG" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">system-design</div></div></a></div><div class="next-post pull-right"><a href="/2023/08/329021a6ce35.html" title="develop-exercise"><img class="cover" src="/img/cover/00000084.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">develop-exercise</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/07/a6f2ba33bf73.html" title="ts js html"><img class="cover" src="/img/cover/00000072.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-12-27</div><div class="title">ts js html</div></div></a></div><div><a href="/2023/07/dd0ba91b15ab.html" title="code-review"><img class="cover" src="/img/cover/00000083.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-21</div><div class="title">code-review</div></div></a></div><div><a href="/2023/07/ebd254564c58.html" title="js_interview"><img class="cover" src="/img/cover/00000085.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">js_interview</div></div></a></div><div><a href="/2023/08/329021a6ce35.html" title="develop-exercise"><img class="cover" src="/img/cover/00000084.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">develop-exercise</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sinos</div><div class="author-info__description">å·±æ‰€ä¸æ¬², å‹¿æ–½äºäºº</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">61</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">207</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SinosGray"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/SinosGray" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1143474942@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://8.130.42.149:5230" target="_blank" title="memo"><i class="fab fa-heart"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%AC%E6%8C%87%E5%8D%97%E5%8F%AF%E4%BB%A5%E5%8A%A9%E4%BD%A0%E5%B0%86%E6%B5%8B%E8%AF%95%E8%83%BD%E5%8A%9B%E6%8F%90%E5%8D%87%E5%88%B0%E4%B8%8B%E4%B8%80%E5%B1%82%E7%BA%A7"><span class="toc-number">1.</span> <span class="toc-text">ğŸ‘‡ ä¸ºä»€ä¹ˆæœ¬æŒ‡å—å¯ä»¥åŠ©ä½ å°†æµ‹è¯•èƒ½åŠ›æå‡åˆ°ä¸‹ä¸€å±‚çº§</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E9%9D%9E%E5%B8%B8%E5%85%A8%E9%9D%A2%E5%BD%BB%E5%BA%95"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ“— 45+ æœ€ä½³å®è·µï¼šéå¸¸å…¨é¢å½»åº•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E5%9C%A8%E5%9F%BA%E7%A1%80%E4%B8%8A%E5%89%8D%E8%BF%9B-10000-%E5%85%AC%E9%87%8C"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸš¢ è¿›é˜¶ï¼šåœ¨åŸºç¡€ä¸Šå‰è¿› 10000 å…¬é‡Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E6%A0%88%E5%89%8D%E7%AB%AF%E5%90%8E%E7%AB%AFci%E4%BB%BB%E4%BD%95%E5%B2%97%E4%BD%8D"><span class="toc-number">1.3.</span> <span class="toc-text">ğŸŒ å…¨æ ˆï¼šå‰ç«¯ã€åç«¯ã€CIã€ä»»ä½•å²—ä½</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E8%80%85-yoni-goldberg"><span class="toc-number">1.3.1.</span> <span class="toc-text">ä½œè€… Yoni Goldberg</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AE%B9%E5%88%97%E8%A1%A8"><span class="toc-number">1.4.</span> <span class="toc-text">å†…å®¹åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC-0-%E7%AB%A0%E9%BB%84%E9%87%91%E6%B3%95%E5%88%99"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">ç¬¬ 0 ç« ï¼šé»„é‡‘æ³•åˆ™</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%E6%B5%8B%E8%AF%95%E5%89%96%E6%9E%90"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">ç¬¬ä¸€ç« ï¼šæµ‹è¯•å‰–æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%E5%90%8E%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">ç¬¬äºŒç« ï¼šåç«¯æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">ç¬¬ä¸‰ç« ï¼šå‰ç«¯æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%BA%A6%E9%87%8F%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">ç¬¬å››ç« ï¼šåº¦é‡æµ‹è¯•æ•ˆæœ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90ci"><span class="toc-number">1.4.0.6.</span> <span class="toc-text">ç¬¬äº”ç« ï¼šæŒç»­é›†æˆï¼ˆCIï¼‰</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC-0-%E7%AB%A0%E9%BB%84%E9%87%91%E6%B3%95%E5%88%99-1"><span class="toc-number">2.</span> <span class="toc-text">ç¬¬ 0 ç« ï¼šé»„é‡‘æ³•åˆ™</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%84%E9%87%91%E6%B3%95%E5%88%99%E8%AE%BE%E8%AE%A1%E7%98%A6%E6%B5%8B%E8%AF%95"><span class="toc-number">2.1.</span> <span class="toc-text">âšªï¸ 0 é»„é‡‘æ³•åˆ™ï¼šè®¾è®¡ç˜¦æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%A5%BD%E5%BC%80%E5%A7%8B%E4%BA%86%E5%90%97"><span class="toc-number">2.1.1.</span> <span class="toc-text">å‡†å¤‡å¥½å¼€å§‹äº†å—ï¼Ÿ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%B5%8B%E8%AF%95%E5%89%96%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">ç¬¬ä¸€ç« : æµ‹è¯•å‰–æ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9A%84%E5%90%8D%E7%A7%B0%E5%BF%85%E9%A1%BB%E5%8C%85%E5%90%AB%E4%B8%89%E4%B8%AA%E9%83%A8%E5%88%86"><span class="toc-number">3.1.</span> <span class="toc-text">âšª ï¸ 1.1 æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„åç§°å¿…é¡»åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E4%B8%89%E9%83%A8%E5%88%86%E7%9A%84%E7%94%A8%E4%BE%8B%E5%90%8D"><span class="toc-number">3.1.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E5%8C%85%E5%90%AB%E4%B8%89%E9%83%A8%E5%88%86%E7%9A%84%E7%94%A8%E4%BE%8B%E5%90%8D-1"><span class="toc-number">3.1.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªåŒ…å«ä¸‰éƒ¨åˆ†çš„ç”¨ä¾‹å</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-aaa-%E6%A8%A1%E5%BC%8F%E6%9E%84%E9%80%A0%E6%B5%8B%E8%AF%95%E5%86%85%E5%AE%B9"><span class="toc-number">3.2.</span> <span class="toc-text">âšª ï¸ 1.2 ä½¿ç”¨ AAA æ¨¡å¼æ„é€ æµ‹è¯•å†…å®¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E4%BD%BF%E7%94%A8-aaa-%E6%A8%A1%E5%BC%8F%E6%9E%84%E9%80%A0%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="toc-number">3.2.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªä½¿ç”¨ AAA æ¨¡å¼æ„é€ çš„æµ‹è¯•ç”¨ä¾‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E6%B2%A1%E6%9C%89%E5%88%86%E9%9A%94%E4%B8%80%E5%A4%A7%E5%9D%A8%E9%9A%BE%E4%BB%A5%E8%A7%A3%E9%87%8A"><span class="toc-number">3.2.2.</span> <span class="toc-text">:thumbsdown: åä¾‹: æ²¡æœ‰åˆ†éš”ã€ä¸€å¤§å¨ã€éš¾ä»¥è§£é‡Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E4%BA%A7%E5%93%81%E8%AF%AD%E8%A8%80%E6%8F%8F%E8%BF%B0%E6%9C%9F%E6%9C%9B%E4%BD%BF%E7%94%A8-bdd-%E5%BD%A2%E5%BC%8F%E7%9A%84%E6%96%AD%E8%A8%80"><span class="toc-number">3.3.</span> <span class="toc-text">âšª ï¸1.3 ç”¨äº§å“è¯­è¨€æè¿°æœŸæœ›ï¼šä½¿ç”¨ BDD å½¢å¼çš„æ–­è¨€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%BF%AB%E9%80%9F%E6%B5%8F%E8%A7%88%E4%B8%8B%E9%9D%A2%E7%9A%84%E5%A3%B0%E6%98%8E%E5%BC%8F%E7%94%A8%E4%BE%8B%E5%BE%88%E8%BD%BB%E6%9D%BE"><span class="toc-number">3.3.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: å¿«é€Ÿæµè§ˆä¸‹é¢çš„å£°æ˜å¼ç”¨ä¾‹å¾ˆè½»æ¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9D%9A%E6%8C%81%E9%BB%91%E7%9B%92%E6%B5%8B%E8%AF%95%E5%8F%AA%E6%B5%8B-public-%E6%96%B9%E6%B3%95"><span class="toc-number">3.4.</span> <span class="toc-text">âšª ï¸ 1.4 åšæŒé»‘ç›’æµ‹è¯•ï¼šåªæµ‹ public æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%80%E4%B8%AA%E6%97%A0%E8%84%91%E6%B5%8B%E8%AF%95%E5%86%85%E9%83%A8%E6%96%B9%E6%B3%95%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="toc-number">3.4.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸€ä¸ªæ— è„‘æµ‹è¯•å†…éƒ¨æ–¹æ³•çš„æµ‹è¯•ç”¨ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%B5%8B%E8%AF%95%E6%9B%BF%E8%BA%ABtest-double%E9%81%BF%E5%85%8D%E6%80%BB%E7%94%A8-stub-%E5%92%8C-spy"><span class="toc-number">3.5.</span> <span class="toc-text">âšª ï¸ ï¸1.5 ä½¿ç”¨æ­£ç¡®çš„æµ‹è¯•æ›¿èº«ï¼ˆTest Doubleï¼‰ï¼šé¿å…æ€»ç”¨ stub å’Œ spy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E5%85%B3%E6%B3%A8%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0%E7%9A%84-mock"><span class="toc-number">3.5.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: å…³æ³¨å†…éƒ¨å®ç°çš„ mock</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-spy-%E5%85%B3%E6%B3%A8%E4%BA%8E%E6%B5%8B%E8%AF%95%E9%9C%80%E6%B1%82%E6%9C%AC%E8%BA%AB%E8%80%8C%E4%BD%9C%E4%B8%BA%E5%89%AF%E4%BD%9C%E7%94%A8%E4%B8%8D%E5%BE%97%E4%B8%8D%E6%8E%A5%E8%A7%A6%E5%86%85%E9%83%A8"><span class="toc-number">3.5.2.</span> <span class="toc-text">:clap:æ­£ä¾‹: ä½¿ç”¨ spy å…³æ³¨äºæµ‹è¯•éœ€æ±‚æœ¬èº«ï¼Œè€Œä½œä¸ºå‰¯ä½œç”¨ä¸å¾—ä¸æ¥è§¦å†…éƒ¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81foo%E4%BD%BF%E7%94%A8%E7%9C%9F%E5%AE%9E%E6%95%B0%E6%8D%AE"><span class="toc-number">3.6.</span> <span class="toc-text">âšª ï¸1.6 ä¸è¦â€œfooâ€ï¼Œä½¿ç”¨çœŸå®æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BE%8B%E5%9B%A0%E4%BD%BF%E7%94%A8%E9%9D%9E%E7%9C%9F%E5%AE%9E%E6%95%B0%E6%8D%AE%E8%80%8C%E9%80%9A%E8%BF%87"><span class="toc-number">3.6.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸€ä¸ªç”¨ä¾‹å› ä½¿ç”¨éçœŸå®æ•°æ®è€Œé€šè¿‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap%E6%AD%A3%E4%BE%8B-%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E7%9C%9F%E5%AE%9E%E7%9A%84%E8%BE%93%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">3.6.2.</span> <span class="toc-text">:clap:æ­£ä¾‹: éšæœºç”ŸæˆçœŸå®çš„è¾“å…¥æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E5%B1%9E%E6%80%A7%E7%9A%84%E6%B5%8B%E8%AF%95%E6%B5%8B%E8%AF%95%E8%BE%93%E5%85%A5%E7%9A%84%E5%A4%9A%E7%A7%8D%E7%BB%84%E5%90%88"><span class="toc-number">3.7.</span> <span class="toc-text">âšª ï¸ 1.7 åŸºäºå±æ€§çš„æµ‹è¯•ï¼šæµ‹è¯•è¾“å…¥çš„å¤šç§ç»„åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8fast-check%E6%B5%8B%E8%AF%95%E8%BE%93%E5%85%A5%E7%9A%84%E7%BB%84%E5%90%88"><span class="toc-number">3.7.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨â€œfast-checkâ€æµ‹è¯•è¾“å…¥çš„ç»„åˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#snapshot%E5%A6%82%E6%9E%9C%E9%9C%80%E8%A6%81%E4%BB%85%E4%BD%BF%E7%94%A8%E7%9F%AD%E7%9A%84%E8%A1%8C%E5%86%85%E5%BF%AB%E7%85%A7"><span class="toc-number">3.8.</span> <span class="toc-text">âšª ï¸ 1.8 snapshotï¼šå¦‚æœéœ€è¦ï¼Œä»…ä½¿ç”¨çŸ­çš„è¡Œå†…å¿«ç…§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%BA%E6%88%91%E4%BB%AC%E7%9A%84%E7%94%A8%E4%BE%8B%E8%80%A6%E5%90%88%E7%9C%8B%E4%B8%8D%E5%88%B0%E7%9A%84-2000-%E8%A1%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.8.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸ºæˆ‘ä»¬çš„ç”¨ä¾‹è€¦åˆçœ‹ä¸åˆ°çš„ 2000 è¡Œä»£ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E6%9C%9F%E6%9C%9B%E6%98%AF%E5%8F%AF%E8%A7%81%E4%B8%94%E9%9B%86%E4%B8%AD%E7%9A%84"><span class="toc-number">3.8.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: æœŸæœ›æ˜¯å¯è§ä¸”é›†ä¸­çš„</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E5%86%99%E5%85%A8%E5%B1%80%E7%9A%84-fixtures-%E5%92%8C-seeds%E8%80%8C%E6%98%AF%E6%94%BE%E5%9C%A8%E6%AF%8F%E4%B8%AA%E6%B5%8B%E8%AF%95%E4%B8%AD"><span class="toc-number">3.9.</span> <span class="toc-text">âšª ï¸1.9 ä¸è¦å†™å…¨å±€çš„ fixtures å’Œ seedsï¼Œè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E7%94%A8%E4%BE%8B%E4%B9%8B%E9%97%B4%E4%B8%8D%E7%8B%AC%E7%AB%8B%E8%80%8C%E6%98%AF%E4%BE%9D%E8%B5%96%E5%90%8C%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E9%92%A9%E5%AD%90%E6%9D%A5%E7%94%9F%E6%88%90%E5%85%A8%E5%B1%80-db-%E6%95%B0%E6%8D%AE"><span class="toc-number">3.9.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹ï¼Œè€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€ DB æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E6%AF%8F%E4%B8%AA%E7%94%A8%E4%BE%8B%E6%93%8D%E4%BD%9C%E5%AE%83%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">3.9.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-catch-%E9%94%99%E8%AF%AFexpect-%E5%AE%83%E4%BB%AC"><span class="toc-number">3.10.</span> <span class="toc-text">âšª ï¸ 1.10 ä¸è¦ catch é”™è¯¯ï¼Œexpect å®ƒä»¬</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%80%E4%B8%AA%E9%95%BF%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%B0%9D%E8%AF%95%E4%BD%BF%E7%94%A8-try-catch-%E6%96%AD%E8%A8%80%E9%94%99%E8%AF%AF"><span class="toc-number">3.10.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸€ä¸ªé•¿æµ‹è¯•ç”¨ä¾‹ï¼Œå°è¯•ä½¿ç”¨ try-catch æ–­è¨€é”™è¯¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E4%BA%BA%E7%B1%BB%E5%8F%AF%E8%AF%BB%E7%9A%84%E6%9C%9F%E6%9C%9B%E5%AE%83%E5%BE%88%E5%AE%B9%E6%98%93%E8%A2%AB%E7%90%86%E8%A7%A3%E7%94%9A%E8%87%B3%E5%8F%AF%E8%A2%AB-qa-%E6%88%96%E6%8A%80%E6%9C%AF-pm-%E7%90%86%E8%A7%A3"><span class="toc-number">3.10.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªäººç±»å¯è¯»çš„æœŸæœ›ï¼Œå®ƒå¾ˆå®¹æ˜“è¢«ç†è§£ï¼Œç”šè‡³å¯è¢« QA æˆ–æŠ€æœ¯ PM ç†è§£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BD%A0%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E6%89%93%E6%A0%87%E7%AD%BE"><span class="toc-number">3.11.</span> <span class="toc-text">âšª ï¸ 1.11 ä¸ºä½ çš„æµ‹è¯•ç”¨ä¾‹æ‰“æ ‡ç­¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%B0%86%E7%94%A8%E4%BE%8B%E6%A0%87%E8%AE%B0%E4%B8%BAcold-test%E4%BD%BF%E5%BE%97%E7%94%A8%E4%BE%8B%E6%89%A7%E8%A1%8C%E8%80%85%E5%8F%AF%E4%BB%A5%E4%BB%85%E6%89%A7%E8%A1%8C%E5%BF%AB%E7%9A%84%E7%94%A8%E4%BE%8B-cold%E6%B2%A1%E6%9C%89-io-%E7%9A%84%E5%BF%AB%E9%80%9F%E6%B5%8B%E8%AF%95%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E6%89%93%E5%AD%97%E6%97%B6%E9%A2%91%E7%B9%81%E6%89%A7%E8%A1%8C"><span class="toc-number">3.11.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: å°†ç”¨ä¾‹æ ‡è®°ä¸ºâ€˜#cold-testâ€™ä½¿å¾—ç”¨ä¾‹æ‰§è¡Œè€…å¯ä»¥ä»…æ‰§è¡Œå¿«çš„ç”¨ä¾‹ (Cold&#x3D;&#x3D;&#x3D;æ²¡æœ‰ IO çš„å¿«é€Ÿæµ‹è¯•ï¼Œå¯ä»¥åœ¨å¼€å‘äººå‘˜æ‰“å­—æ—¶é¢‘ç¹æ‰§è¡Œ)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BC%98%E7%A7%80%E6%B5%8B%E8%AF%95%E4%B9%A0%E6%83%AF"><span class="toc-number">3.12.</span> <span class="toc-text">âšª ï¸1.12 å…¶ä»–å¸¸è§çš„ä¼˜ç§€æµ‹è¯•ä¹ æƒ¯</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%90%8E%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">4.</span> <span class="toc-text">ç¬¬äºŒç« : åç«¯æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B0%E5%AF%8C%E6%82%A8%E7%9A%84%E6%B5%8B%E8%AF%95%E7%BB%84%E5%90%88%E4%B8%8D%E5%B1%80%E9%99%90%E4%BA%8E%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%92%8C%E6%B5%8B%E8%AF%95%E9%87%91%E5%AD%97%E5%A1%94"><span class="toc-number">4.1.</span> <span class="toc-text">âšª ï¸2.1 ä¸°å¯Œæ‚¨çš„æµ‹è¯•ç»„åˆï¼šä¸å±€é™äºå•å…ƒæµ‹è¯•å’Œæµ‹è¯•é‡‘å­—å¡”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-cindy-sridharan-%E5%9C%A8%E5%A5%B9%E7%9A%84%E6%96%87%E7%AB%A0%E6%B5%8B%E8%AF%95%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%90%86%E6%99%BA%E7%9A%84%E6%96%B9%E5%BC%8F%E4%B8%AD%E6%8F%90%E5%87%BA%E4%BA%86%E4%B8%80%E4%B8%AA%E4%B8%B0%E5%AF%8C%E7%9A%84%E6%B5%8B%E8%AF%95%E7%BB%84%E5%90%88"><span class="toc-number">4.1.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: Cindy Sridharan åœ¨å¥¹çš„æ–‡ç« â€œæµ‹è¯•å¾®æœåŠ¡â€”â€”ç†æ™ºçš„æ–¹å¼â€ä¸­æå‡ºäº†ä¸€ä¸ªä¸°å¯Œçš„æµ‹è¯•ç»„åˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E6%B5%8B%E8%AF%95%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E6%9C%89%E6%95%88%E7%9A%84%E5%88%A9%E5%99%A8"><span class="toc-number">4.2.</span> <span class="toc-text">âšª ï¸2.2 ç»„ä»¶åŒ–æµ‹è¯•å¯èƒ½æ˜¯æœ€æœ‰æ•ˆçš„åˆ©å™¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-supertest-%E6%B5%8B%E8%AF%95-express-api-%E5%BF%AB%E9%80%9F%E8%A6%86%E7%9B%96%E5%BE%88%E5%A4%9A%E5%B1%82"><span class="toc-number">4.2.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ Supertest æµ‹è¯• Express API (å¿«é€Ÿã€è¦†ç›–å¾ˆå¤šå±‚)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E8%AF%81%E6%96%B0%E7%9A%84-release-%E4%B8%8D%E4%BC%9A%E7%A0%B4%E5%9D%8F-api-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">4.3.</span> <span class="toc-text">âšª ï¸2.3 ä¿è¯æ–°çš„ release ä¸ä¼šç ´å API çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B"><span class="toc-number">4.3.1.</span> <span class="toc-text">:clap: æ­£ä¾‹:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E7%8B%AC%E6%B5%8B%E8%AF%95%E4%BD%A0%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="toc-number">4.4.</span> <span class="toc-text">âšª ï¸ 2.4 å•ç‹¬æµ‹è¯•ä½ çš„ä¸­é—´ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap%E6%AD%A3%E4%BE%8B-%E9%9A%94%E7%A6%BB%E5%9C%B0%E6%B5%8B%E8%AF%95%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%B8%8D%E5%8F%91%E5%87%BA%E7%BD%91%E7%BB%9C%E8%B0%83%E7%94%A8%E6%88%96%E5%94%A4%E9%86%92%E6%95%B4%E4%B8%AAexpress%E6%9C%BA%E5%99%A8"><span class="toc-number">4.4.1.</span> <span class="toc-text">:clap:æ­£ä¾‹: éš”ç¦»åœ°æµ‹è¯•ä¸­é—´ä»¶ï¼Œä¸å‘å‡ºç½‘ç»œè°ƒç”¨æˆ–å”¤é†’æ•´ä¸ªExpressæœºå™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7%E5%BA%A6%E9%87%8F%E5%B9%B6%E6%8C%87%E5%AF%BC%E9%87%8D%E6%9E%84"><span class="toc-number">4.5.</span> <span class="toc-text">âšª ï¸2.5 ä½¿ç”¨é™æ€åˆ†æå·¥å…·åº¦é‡å¹¶æŒ‡å¯¼é‡æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-codeclimate-%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E5%8F%91%E7%8E%B0%E5%A4%8D%E6%9D%82%E6%96%B9%E6%B3%95%E7%9A%84%E5%95%86%E4%B8%9A%E5%B7%A5%E5%85%B7"><span class="toc-number">4.5.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: Â CodeClimate â€”â€” ä¸€ä¸ªç”¨äºå‘ç°å¤æ‚æ–¹æ³•çš„å•†ä¸šå·¥å…·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%A0%E6%98%AF%E5%90%A6%E5%87%86%E5%A4%87%E5%A5%BD%E8%BF%8E%E6%8E%A5-node-%E7%9B%B8%E5%85%B3%E7%9A%84%E5%99%AA%E5%A3%B0"><span class="toc-number">4.6.</span> <span class="toc-text">âšª ï¸ 2.6 ä½ æ˜¯å¦å‡†å¤‡å¥½è¿æ¥ Node ç›¸å…³çš„å™ªå£°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-node-chaos-%E5%8F%AF%E4%BB%A5%E7%94%9F%E6%88%90%E6%89%80%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84-node.js-%E9%97%AE%E9%A2%98%E5%9B%A0%E6%AD%A4%E6%82%A8%E5%8F%AF%E4%BB%A5%E6%B5%8B%E8%AF%95%E6%82%A8%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%AF%B9%E6%B7%B7%E4%B9%B1%E7%9A%84%E9%80%82%E5%BA%94%E8%83%BD%E5%8A%9B"><span class="toc-number">4.6.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: Node-chaos å¯ä»¥ç”Ÿæˆæ‰€æœ‰ç±»å‹çš„ Node.js é—®é¢˜ï¼Œå› æ­¤æ‚¨å¯ä»¥æµ‹è¯•æ‚¨çš„åº”ç”¨ç¨‹åºå¯¹æ··ä¹±çš„é€‚åº”èƒ½åŠ›</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81%E5%86%99%E5%85%A8%E5%B1%80%E7%9A%84-fixtures-%E5%92%8C-seeds%E8%80%8C%E6%98%AF%E6%94%BE%E5%9C%A8%E6%AF%8F%E4%B8%AA%E6%B5%8B%E8%AF%95%E4%B8%AD-1"><span class="toc-number">4.7.</span> <span class="toc-text">âšª ï¸2.7 ä¸è¦å†™å…¨å±€çš„ fixtures å’Œ seedsï¼Œè€Œæ˜¯æ”¾åœ¨æ¯ä¸ªæµ‹è¯•ä¸­</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E7%94%A8%E4%BE%8B%E4%B9%8B%E9%97%B4%E4%B8%8D%E7%8B%AC%E7%AB%8B%E8%80%8C%E6%98%AF%E4%BE%9D%E8%B5%96%E5%90%8C%E4%B8%80%E4%B8%AA%E5%85%A8%E5%B1%80%E9%92%A9%E5%AD%90%E6%9D%A5%E7%94%9F%E6%88%90%E5%85%A8%E5%B1%80-db-%E6%95%B0%E6%8D%AE-1"><span class="toc-number">4.7.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ç”¨ä¾‹ä¹‹é—´ä¸ç‹¬ç«‹ï¼Œè€Œæ˜¯ä¾èµ–åŒä¸€ä¸ªå…¨å±€é’©å­æ¥ç”Ÿæˆå…¨å±€ DB æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E6%AF%8F%E4%B8%AA%E7%94%A8%E4%BE%8B%E6%93%8D%E4%BD%9C%E5%AE%83%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86-1"><span class="toc-number">4.7.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: æ¯ä¸ªç”¨ä¾‹æ“ä½œå®ƒè‡ªå·±çš„æ•°æ®é›†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%89%8D%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">5.</span> <span class="toc-text">ç¬¬ä¸‰ç« : å‰ç«¯æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86-ui-%E4%B8%8E%E5%8A%9F%E8%83%BD%E5%88%86%E7%A6%BB"><span class="toc-number">5.1.</span> <span class="toc-text">âšª ï¸ 3.1 å°† UI ä¸åŠŸèƒ½åˆ†ç¦»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%88%86%E7%A6%BB-ui-%E7%BB%86%E8%8A%82"><span class="toc-number">5.1.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: åˆ†ç¦» UI ç»†èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E6%B7%B7%E6%9D%82%E4%BA%86-ui-%E7%BB%86%E8%8A%82%E5%92%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%AD%E8%A8%80"><span class="toc-number">5.1.2.</span> <span class="toc-text">:thumbsdown: åä¾‹: æ··æ‚äº† UI ç»†èŠ‚å’Œæ•°æ®çš„æ–­è¨€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%A4%AA%E5%AE%B9%E6%98%93%E6%94%B9%E5%8F%98%E7%9A%84%E5%B1%9E%E6%80%A7%E5%8E%BB%E6%9F%A5%E8%AF%A2-html-%E5%85%83%E7%B4%A0"><span class="toc-number">5.2.</span> <span class="toc-text">âšª ï¸ 3.2 ä½¿ç”¨ä¸å¤ªå®¹æ˜“æ”¹å˜çš„å±æ€§å»æŸ¥è¯¢ HTML å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8%E4%B8%93%E7%94%A8%E7%9A%84-attrbiute-%E6%9F%A5%E8%AF%A2%E5%85%83%E7%B4%A0%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">5.2.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ä¸“ç”¨çš„ attrbiute æŸ¥è¯¢å…ƒç´ è¿›è¡Œæµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%BE%9D%E8%B5%96-css-attribute"><span class="toc-number">5.2.2.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¾èµ– css attribute</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AA%E8%A6%81%E6%9C%89%E5%8F%AF%E8%83%BD%E4%BD%BF%E7%94%A8%E7%9C%9F%E5%AE%9E%E4%B8%94%E5%AE%8C%E5%85%A8%E6%B8%B2%E6%9F%93%E7%9A%84%E7%BB%84%E4%BB%B6%E8%BF%9B%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="toc-number">5.3.</span> <span class="toc-text">âšª ï¸ 3.3 åªè¦æœ‰å¯èƒ½ï¼Œä½¿ç”¨çœŸå®ä¸”å®Œå…¨æ¸²æŸ“çš„ç»„ä»¶è¿›è¡Œæµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E6%93%8D%E4%BD%9C%E4%B8%80%E4%B8%AA%E5%85%85%E5%88%86%E6%B8%B2%E6%9F%93%E7%9A%84%E7%9C%9F%E5%AE%9E%E7%BB%84%E4%BB%B6"><span class="toc-number">5.3.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: æ“ä½œä¸€ä¸ªå……åˆ†æ¸²æŸ“çš„çœŸå®ç»„ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E9%80%9A%E8%BF%87-shallow-render-%E6%B5%8B%E8%AF%95%E4%BC%AA%E7%BB%84%E4%BB%B6"><span class="toc-number">5.3.2.</span> <span class="toc-text">:thumbsdown: åä¾‹: é€šè¿‡ shallow render æµ‹è¯•ä¼ªç»„ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E8%A6%81-sleep%E4%BD%BF%E7%94%A8%E6%A1%86%E6%9E%B6%E5%86%85%E7%BD%AE%E7%9A%84%E5%AF%B9-async-%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%94%AF%E6%8C%81%E5%B9%B6%E4%B8%94%E5%B0%9D%E8%AF%95%E6%8F%90%E6%95%88"><span class="toc-number">5.4.</span> <span class="toc-text">âšª ï¸ 3.4 ä¸è¦ sleepï¼Œä½¿ç”¨æ¡†æ¶å†…ç½®çš„å¯¹ async äº‹ä»¶çš„æ”¯æŒã€‚å¹¶ä¸”å°è¯•ææ•ˆã€‚</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-e2e-api-%E4%BB%85%E5%9C%A8%E5%BC%82%E6%AD%A5%E5%AE%8C%E6%88%90%E5%90%8E-resolve-cypress"><span class="toc-number">5.4.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: E2E API ä»…åœ¨å¼‚æ­¥å®Œæˆå resolve (Cypress)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E6%B5%8B%E8%AF%95%E5%BA%93%E7%AD%89%E5%BE%85-dom-%E5%85%83%E7%B4%A0"><span class="toc-number">5.4.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: æµ‹è¯•åº“ç­‰å¾… DOM å…ƒç´ </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E8%87%AA%E5%B7%B1%E5%86%99-sleep-%E4%BB%A3%E7%A0%81"><span class="toc-number">5.4.3.</span> <span class="toc-text">:thumbsdown: åä¾‹: è‡ªå·±å†™ sleep ä»£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%82%E5%AF%9F%E5%86%85%E5%AE%B9%E6%98%AF%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E7%BD%91%E7%BB%9C%E6%8F%90%E4%BE%9B%E7%9A%84"><span class="toc-number">5.5.</span> <span class="toc-text">âšª ï¸ 3.5 è§‚å¯Ÿå†…å®¹æ˜¯å¦‚ä½•é€šè¿‡ç½‘ç»œæä¾›çš„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-lighthouse-%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E6%A3%80%E6%9F%A5%E6%8A%A5%E5%91%8A"><span class="toc-number">5.5.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: Lighthouse é¡µé¢åŠ è½½æ£€æŸ¥æŠ¥å‘Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#stub-%E5%8F%A4%E6%80%AA%E6%88%96%E7%BC%93%E6%85%A2%E7%9A%84%E8%B5%84%E6%BA%90%E5%A6%82%E5%90%8E%E7%AB%AF-api"><span class="toc-number">5.6.</span> <span class="toc-text">âšª ï¸ 3.6 stub å¤æ€ªæˆ–ç¼“æ…¢çš„èµ„æºå¦‚åç«¯ API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-stub-%E6%88%96%E6%8B%A6%E6%88%AA-api-%E8%B0%83%E7%94%A8"><span class="toc-number">5.6.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: stub æˆ–æ‹¦æˆª API è°ƒç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%87%A0%E4%B8%AA%E8%B7%A8%E8%B6%8A%E6%95%B4%E4%B8%AA%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%AB%AF%E5%88%B0%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">5.7.</span> <span class="toc-text">âšª ï¸ 3.7 å†™å‡ ä¸ªè·¨è¶Šæ•´ä¸ªç³»ç»Ÿçš„ç«¯åˆ°ç«¯æµ‹è¯•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%A4%8D%E7%94%A8%E7%99%BB%E5%BD%95%E5%87%AD%E8%AF%81%E6%8F%90%E9%80%9F-e2e-%E6%B5%8B%E8%AF%95"><span class="toc-number">5.8.</span> <span class="toc-text">âšª ï¸ 3.8 é€šè¿‡å¤ç”¨ç™»å½•å‡­è¯æé€Ÿ E2E æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%9C%A8-before-all-%E8%80%8C%E4%B8%8D%E6%98%AF-before-each-%E4%B8%AD%E7%99%BB%E5%BD%95"><span class="toc-number">5.8.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: åœ¨ before-all è€Œä¸æ˜¯ before-each ä¸­ç™»å½•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-e2e-%E5%86%92%E7%83%9F%E6%B5%8B%E8%AF%95%E4%BB%85%E4%BB%85%E8%B5%B0%E4%B8%80%E9%81%8D%E7%BD%91%E7%AB%99%E5%9C%B0%E5%9B%BE"><span class="toc-number">5.9.</span> <span class="toc-text">âšª ï¸ 3.9 åˆ›å»ºä¸€ä¸ª E2E å†’çƒŸæµ‹è¯•ï¼Œä»…ä»…èµ°ä¸€éç½‘ç«™åœ°å›¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E8%B7%91%E4%B8%80%E9%81%8D%E6%89%80%E6%9C%89%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%86%92%E7%83%9F%E6%B5%8B%E8%AF%95"><span class="toc-number">5.9.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªè·‘ä¸€éæ‰€æœ‰é¡µé¢çš„å†’çƒŸæµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%86%E6%B5%8B%E8%AF%95%E4%BB%A5%E5%AE%9E%E6%97%B6%E5%8D%8F%E4%BD%9C%E6%96%87%E6%A1%A3%E7%9A%84%E5%BD%A2%E5%BC%8F%E5%85%AC%E5%BC%80"><span class="toc-number">5.10.</span> <span class="toc-text">âšª ï¸ 3.10 å°†æµ‹è¯•ä»¥å®æ—¶åä½œæ–‡æ¡£çš„å½¢å¼å…¬å¼€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-cucumber-js-%E4%BB%A5%E4%BA%BA%E7%B1%BB%E8%AF%AD%E8%A8%80%E6%8F%8F%E8%BF%B0%E6%B5%8B%E8%AF%95"><span class="toc-number">5.10.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ cucumber-js ä»¥äººç±»è¯­è¨€æè¿°æµ‹è¯•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-storybook-%E5%B1%95%E7%A4%BA%E6%88%91%E4%BB%AC%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8F%8A%E5%85%B6%E5%90%84%E7%A7%8D%E7%8A%B6%E6%80%81%E5%92%8C%E8%BE%93%E5%85%A5"><span class="toc-number">5.10.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ Storybook å±•ç¤ºæˆ‘ä»¬çš„ç»„ä»¶åŠå…¶å„ç§çŠ¶æ€å’Œè¾“å…¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B7%A5%E5%85%B7%E6%A3%80%E6%B5%8B%E5%8F%AF%E8%A7%86%E5%8C%96%E9%97%AE%E9%A2%98"><span class="toc-number">5.11.</span> <span class="toc-text">âšª ï¸ 3.11 ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹å¯è§†åŒ–é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%80%E4%B8%AA%E5%85%B8%E5%9E%8B%E7%9A%84%E8%A7%86%E8%A7%89%E5%9B%9E%E5%BD%92-%E5%8F%B3%E4%BE%A7%E5%86%85%E5%AE%B9%E5%B1%95%E7%A4%BA%E5%BC%82%E5%B8%B8"><span class="toc-number">5.11.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸€ä¸ªå…¸å‹çš„è§†è§‰å›å½’ â€”â€” å³ä¾§å†…å®¹å±•ç¤ºå¼‚å¸¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E9%85%8D%E7%BD%AE-wraith-%E6%9D%A5%E6%8D%95%E8%8E%B7%E5%B9%B6%E6%AF%94%E5%AF%B9-ui-%E5%BF%AB%E7%85%A7"><span class="toc-number">5.11.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: é…ç½® wraith æ¥æ•è·å¹¶æ¯”å¯¹ UI å¿«ç…§</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-applitools-%E8%8E%B7%E5%8F%96%E5%BF%AB%E7%85%A7%E6%AF%94%E5%AF%B9%E4%BB%A5%E5%8F%8A%E8%BF%9B%E9%98%B6%E7%89%B9%E6%80%A7"><span class="toc-number">5.11.3.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ Applitools è·å–å¿«ç…§æ¯”å¯¹ä»¥åŠè¿›é˜¶ç‰¹æ€§</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%BA%A6%E9%87%8F%E6%B5%8B%E8%AF%95%E6%95%88%E6%9E%9C"><span class="toc-number">6.</span> <span class="toc-text">ç¬¬å››ç« : åº¦é‡æµ‹è¯•æ•ˆæœ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E8%B6%B3%E5%A4%9F%E7%9A%84%E8%A6%86%E7%9B%96%E7%8E%87%E8%8E%B7%E5%8F%96%E8%87%AA%E4%BF%A180-%E7%9C%8B%E8%B5%B7%E6%9D%A5%E6%98%AF%E4%B8%AA%E5%B9%B8%E8%BF%90%E6%95%B0%E5%AD%97"><span class="toc-number">6.1.</span> <span class="toc-text">âšª ï¸ 4.1 é€šè¿‡è¶³å¤Ÿçš„è¦†ç›–ç‡è·å–è‡ªä¿¡ï¼Œ~80% çœ‹èµ·æ¥æ˜¯ä¸ªå¹¸è¿æ•°å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%80%E4%B8%AA%E7%BB%8F%E5%85%B8%E7%9A%84%E8%A6%86%E7%9B%96%E7%8E%87%E6%8A%A5%E5%91%8A"><span class="toc-number">6.1.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸€ä¸ªç»å…¸çš„è¦†ç›–ç‡æŠ¥å‘Š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%B8%BA%E6%AF%8F%E4%B8%AA%E7%BB%84%E4%BB%B6%E8%AE%BE%E7%BD%AE%E8%A6%86%E7%9B%96%E7%8E%87-%E4%BD%BF%E7%94%A8-jest"><span class="toc-number">6.1.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä¸ºæ¯ä¸ªç»„ä»¶è®¾ç½®è¦†ç›–ç‡ (ä½¿ç”¨ Jest)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%9F%A5%E8%A6%86%E7%9B%96%E7%8E%87%E6%8A%A5%E5%91%8A%E4%BB%A5%E5%8F%91%E7%8E%B0%E6%9C%AA%E8%A6%86%E7%9B%96%E7%9A%84%E5%8C%BA%E5%9F%9F%E5%92%8C%E5%85%B6%E4%BB%96%E5%A5%87%E6%80%AA%E7%9A%84%E5%9C%B0%E6%96%B9"><span class="toc-number">6.2.</span> <span class="toc-text">âšª ï¸ 4.2 æ£€æŸ¥è¦†ç›–ç‡æŠ¥å‘Šï¼Œä»¥å‘ç°æœªè¦†ç›–çš„åŒºåŸŸå’Œå…¶ä»–å¥‡æ€ªçš„åœ°æ–¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E8%BF%99%E4%BB%BD%E8%A6%86%E7%9B%96%E7%8E%87%E6%8A%A5%E5%91%8A%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%9F%BA%E4%BA%8E%E4%B8%80%E4%B8%AA%E7%9C%9F%E5%AE%9E%E7%9A%84%E5%9C%BA%E6%99%AF%E6%88%91%E4%BB%AC%E8%B7%9F%E8%B8%AA%E4%BA%86-qa-%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%E5%B9%B6%E5%8F%91%E7%8E%B0%E4%BA%86%E4%B8%80%E4%BA%9B%E6%9C%89%E8%B6%A3%E7%9A%84%E7%99%BB%E5%BD%95%E6%A8%A1%E5%BC%8F%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5%E7%9A%84%E6%95%B0%E9%87%8F%E6%98%AF%E4%B8%8D%E6%88%90%E6%AF%94%E4%BE%8B%E7%9A%84%E6%9C%89%E4%BA%9B%E5%9C%B0%E6%96%B9%E6%98%BE%E7%84%B6%E6%9C%89%E9%97%AE%E9%A2%98%E6%9C%80%E7%BB%88%E8%A1%A8%E7%8E%B0%E4%B8%BA%E4%B8%80%E4%BA%9B%E5%89%8D%E7%AB%AF%E7%9A%84-bug-%E4%B8%8D%E6%96%AD%E8%A7%A6%E5%8F%91%E5%90%8E%E7%AB%AF%E7%99%BB%E5%BD%95api"><span class="toc-number">6.2.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: è¿™ä»½è¦†ç›–ç‡æŠ¥å‘Šæœ‰ä»€ä¹ˆé—®é¢˜ï¼ŸåŸºäºä¸€ä¸ªçœŸå®çš„åœºæ™¯ï¼Œæˆ‘ä»¬è·Ÿè¸ªäº† QA ä¸­çš„åº”ç”¨ç¨‹åºä½¿ç”¨æƒ…å†µï¼Œå¹¶å‘ç°äº†ä¸€äº›æœ‰è¶£çš„ç™»å½•æ¨¡å¼(æç¤º:ç™»å½•å¤±è´¥çš„æ•°é‡æ˜¯ä¸æˆæ¯”ä¾‹çš„ï¼Œæœ‰äº›åœ°æ–¹æ˜¾ç„¶æœ‰é—®é¢˜ã€‚æœ€ç»ˆè¡¨ç°ä¸ºä¸€äº›å‰ç«¯çš„ bug ä¸æ–­è§¦å‘åç«¯ç™»å½•API)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E5%BC%82%E6%B5%8B%E8%AF%95%E5%BA%A6%E9%87%8F%E9%80%BB%E8%BE%91%E8%A6%86%E7%9B%96%E7%8E%87"><span class="toc-number">6.3.</span> <span class="toc-text">âšª ï¸ 4.3 ä½¿ç”¨ã€Œå˜å¼‚æµ‹è¯•ã€åº¦é‡é€»è¾‘è¦†ç›–ç‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-100-%E8%A6%86%E7%9B%96%E7%8E%87-0-%E8%A2%AB%E6%B5%8B%E8%AF%95%E5%88%B0"><span class="toc-number">6.3.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: 100% è¦†ç›–ç‡, 0% è¢«æµ‹è¯•åˆ°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-stryker-%E6%8A%A5%E5%91%8A%E4%B8%80%E4%B8%AA%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%E5%8F%91%E7%8E%B0%E5%B9%B6%E7%BB%9F%E8%AE%A1%E6%B2%A1%E6%9C%89%E8%A2%AB%E6%B5%8B%E8%AF%95%E5%88%B0%E7%9A%84%E4%BB%A3%E7%A0%81%E5%8F%98%E5%BC%82"><span class="toc-number">6.3.2.</span> <span class="toc-text">:clap: æ­£ä¾‹: Stryker æŠ¥å‘Šï¼Œä¸€ä¸ªç¼–è¯‘æµ‹è¯•å·¥å…·ï¼Œå‘ç°å¹¶ç»Ÿè®¡æ²¡æœ‰è¢«æµ‹è¯•åˆ°çš„ä»£ç ï¼ˆå˜å¼‚ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-test-linter-%E9%98%B2%E6%AD%A2%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">6.4.</span> <span class="toc-text">âšª ï¸4.4 ä½¿ç”¨ Test linter é˜²æ­¢æµ‹è¯•ä»£ç é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E4%B8%80%E4%B8%AA%E5%85%85%E6%BB%A1%E9%94%99%E8%AF%AF%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%B9%B8%E8%BF%90%E7%9A%84%E6%98%AF%E6%89%80%E6%9C%89%E9%83%BD%E8%A2%AB-linter-%E6%8D%95%E8%8E%B7%E4%BA%86"><span class="toc-number">6.4.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: ä¸€ä¸ªå……æ»¡é”™è¯¯çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¹¸è¿çš„æ˜¯æ‰€æœ‰éƒ½è¢« linter æ•è·äº†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90ci%E4%BB%A5%E5%8F%8A%E5%85%B6%E4%BB%96%E8%B4%A8%E9%87%8F%E5%BA%A6%E9%87%8F%E6%89%8B%E6%AE%B5"><span class="toc-number">7.</span> <span class="toc-text">ç¬¬äº”ç« ï¼šæŒç»­é›†æˆï¼ˆCIï¼‰ä»¥åŠå…¶ä»–è´¨é‡åº¦é‡æ‰‹æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B0%E5%AF%8C%E4%BD%A0%E7%9A%84-linter-%E5%B9%B6%E4%B8%A2%E5%BC%83%E6%9C%89-lint-%E9%97%AE%E9%A2%98%E7%9A%84%E6%9E%84%E5%BB%BA"><span class="toc-number">7.1.</span> <span class="toc-text">âšª ï¸ 5.1 ä¸°å¯Œä½ çš„ linter å¹¶ä¸¢å¼ƒæœ‰ lint é—®é¢˜çš„æ„å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#thumbsdown-%E5%8F%8D%E4%BE%8B-%E5%87%BA%E9%94%99%E7%9A%84%E5%AF%B9%E8%B1%A1%E8%A2%AB%E9%94%99%E8%AF%AF%E5%9C%B0%E6%8A%9B%E5%87%BA%E6%B2%A1%E6%9C%89%E6%98%BE%E7%A4%BA%E8%BF%99%E4%B8%AA%E9%94%99%E8%AF%AF%E7%9A%84%E5%A0%86%E6%A0%88%E4%BF%A1%E6%81%AF%E5%A5%BD%E5%9C%A8-eslint-%E6%8D%95%E8%8E%B7%E5%88%B0%E4%BA%86%E5%90%8E%E9%9D%A2%E7%9A%84%E7%94%9F%E4%BA%A7%E9%94%99%E8%AF%AF"><span class="toc-number">7.1.1.</span> <span class="toc-text">:thumbsdown: åä¾‹: å‡ºé”™çš„å¯¹è±¡è¢«é”™è¯¯åœ°æŠ›å‡ºï¼Œæ²¡æœ‰æ˜¾ç¤ºè¿™ä¸ªé”™è¯¯çš„å †æ ˆä¿¡æ¯ã€‚å¥½åœ¨ ESLint æ•è·åˆ°äº†åé¢çš„ç”Ÿäº§é”™è¯¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%9C%AC%E5%9C%B0%E7%9A%84%E5%BC%80%E5%8F%91-ci-%E6%9D%A5%E7%BC%A9%E7%9F%AD%E5%8F%8D%E9%A6%88%E5%BE%AA%E7%8E%AF"><span class="toc-number">8.</span> <span class="toc-text">âšª ï¸ 5.2 é€šè¿‡æœ¬åœ°çš„å¼€å‘ CI æ¥ç¼©çŸ­åé¦ˆå¾ªç¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E7%94%A8%E4%BA%8E%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F%E6%A3%80%E6%9F%A5%E7%9A%84-npm-%E8%84%9A%E6%9C%AC%E5%9C%A8%E4%B8%BB%E5%8A%A8%E8%A7%A6%E5%8F%91%E6%88%96%E7%94%A8%E6%88%B7%E5%B0%9D%E8%AF%95%E6%8F%90%E4%BA%A4%E6%96%B0%E4%BB%A3%E7%A0%81%E6%97%B6%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8C"><span class="toc-number">8.0.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ç”¨äºæ‰§è¡Œä»£ç è´¨é‡æ£€æŸ¥çš„ npm è„šæœ¬ï¼Œåœ¨ä¸»åŠ¨è§¦å‘æˆ–ç”¨æˆ·å°è¯•æäº¤æ–°ä»£ç æ—¶å¹¶è¡Œæ‰§è¡Œã€‚</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9C%A8%E7%9C%9F%E5%AE%9E%E7%9A%84%E7%94%9F%E4%BA%A7%E7%8E%AF%E5%A2%83%E9%95%9C%E5%83%8F%E4%B8%AD%E6%89%A7%E8%A1%8C%E7%AB%AF%E5%88%B0%E7%AB%AF%E6%B5%8B%E8%AF%95"><span class="toc-number">9.</span> <span class="toc-text">âšª ï¸5.3 åœ¨çœŸå®çš„ç”Ÿäº§ç¯å¢ƒé•œåƒä¸­æ‰§è¡Œç«¯åˆ°ç«¯æµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90-kubernetes-%E9%9B%86%E7%BE%A4%E7%9A%84-ci-%E7%AE%A1%E9%81%93-%E8%B4%A1%E7%8C%AE-dynamic-environments-kuberneteshttpscontainer-solutions.comdynamic-environments-kubernetes"><span class="toc-number">9.0.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: åŠ¨æ€ç”Ÿæˆ Kubernetes é›†ç¾¤çš„ CI ç®¡é“ (è´¡çŒ®: Dynamic-environments Kubernetes](https:&#x2F;&#x2F;container-solutions.com&#x2F;dynamic-environments-kubernetes&#x2F;))</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B9%B6%E8%A1%8C%E6%B5%8B%E8%AF%95%E5%B7%A5%E4%BD%9C"><span class="toc-number">9.1.</span> <span class="toc-text">âšª ï¸5.4 å¹¶è¡Œæµ‹è¯•å·¥ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-mocha-parallel-jest-%E8%BD%BB%E6%9D%BE%E5%9C%B0%E5%8A%A0%E9%80%9F%E4%BA%86%E4%BC%A0%E7%BB%9F%E7%9A%84-mocha%E6%84%9F%E8%B0%A2%E5%B9%B6%E8%A1%8C%E6%B5%8B%E8%AF%95%E8%B4%A1%E7%8C%AEjavascript%E6%B5%8B%E8%AF%95%E8%BF%90%E8%A1%8C%E5%9F%BA%E5%87%86"><span class="toc-number">9.1.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: Mocha parallel &amp; Jest è½»æ¾åœ°åŠ é€Ÿäº†ä¼ ç»Ÿçš„ Mochaï¼Œæ„Ÿè°¢å¹¶è¡Œæµ‹è¯•(è´¡çŒ®:JavaScriptæµ‹è¯•è¿è¡ŒåŸºå‡†)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%AE%B8%E5%8F%AF%E8%AF%81%E5%92%8C%E6%8A%84%E8%A2%AD%E6%A3%80%E6%9F%A5%E9%81%BF%E5%85%8D%E6%B3%95%E5%8A%A1%E9%97%AE%E9%A2%98"><span class="toc-number">9.2.</span> <span class="toc-text">âšª ï¸5.5 ä½¿ç”¨è®¸å¯è¯å’ŒæŠ„è¢­æ£€æŸ¥é¿å…æ³•åŠ¡é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-1"><span class="toc-number">9.2.1.</span> <span class="toc-text">:clap: æ­£ä¾‹:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%81%E7%BB%AD%E6%A3%80%E6%9F%A5%E6%9C%89%E6%BC%8F%E6%B4%9E%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-number">9.3.</span> <span class="toc-text">âšª ï¸5.6 æŒç»­æ£€æŸ¥æœ‰æ¼æ´çš„ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-npm-audit-%E7%BB%93%E6%9E%9C"><span class="toc-number">9.3.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: NPM Audit ç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8D%87%E7%BA%A7%E4%BE%9D%E8%B5%96"><span class="toc-number">9.4.</span> <span class="toc-text">âšª ï¸5.7 è‡ªåŠ¨å‡çº§ä¾èµ–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E5%8F%AF%E4%BB%A5%E6%89%8B%E5%8A%A8%E6%88%96%E5%9C%A8-ci-%E7%AE%A1%E9%81%93%E4%B8%AD%E4%BD%BF%E7%94%A8-ncu-%E6%9D%A5%E6%A3%80%E6%B5%8B%E4%BB%A3%E7%A0%81%E5%9C%A8%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC%E4%B9%8B%E5%90%8E%E7%9A%84%E6%BB%9E%E5%90%8E%E7%A8%8B%E5%BA%A6"><span class="toc-number">9.4.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: å¯ä»¥æ‰‹åŠ¨æˆ–åœ¨ CI ç®¡é“ä¸­ä½¿ç”¨Â ncuÂ æ¥æ£€æµ‹ä»£ç åœ¨æœ€æ–°ç‰ˆæœ¬ä¹‹åçš„æ»åç¨‹åº¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%9A%84%E4%B8%8E-node-%E6%97%A0%E5%85%B3%E7%9A%84ci-%E5%B0%8F%E5%BB%BA%E8%AE%AE"><span class="toc-number">9.5.</span> <span class="toc-text">âšª ï¸ 5.8 å…¶ä»–çš„ï¼Œä¸ Node æ— å…³çš„ï¼ŒCI å°å»ºè®®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9E%8Bmatrix%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA-node-%E7%89%88%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8C%E4%B8%80%E4%B8%AA-ci-%E6%B5%81%E7%A8%8B"><span class="toc-number">9.6.</span> <span class="toc-text">âšª ï¸ 5.9 æ„å»ºæ¨¡å‹ï¼ˆMatrixï¼‰ï¼šä½¿ç”¨å¤šä¸ª Node ç‰ˆæœ¬æ‰§è¡ŒåŒä¸€ä¸ª CI æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#clap-%E6%AD%A3%E4%BE%8B-%E4%BD%BF%E7%94%A8-travis-ci-%E6%8F%90%E4%BE%9B%E5%95%86-%E6%9E%84%E5%BB%BA%E9%85%8D%E7%BD%AE%E5%9C%A8%E5%A4%9A%E4%B8%AA-node-%E7%89%88%E6%9C%AC%E4%B8%8A%E8%BF%90%E8%A1%8C%E7%9B%B8%E5%90%8C%E7%9A%84%E6%B5%8B%E8%AF%95"><span class="toc-number">9.6.1.</span> <span class="toc-text">:clap: æ­£ä¾‹: ä½¿ç”¨ Travis (CI æä¾›å•†) æ„å»ºé…ç½®ï¼Œåœ¨å¤šä¸ª Node ç‰ˆæœ¬ä¸Šè¿è¡Œç›¸åŒçš„æµ‹è¯•</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/149566d76407.html" title="ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡"><img src="/img/cover/00000075.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡"/></a><div class="content"><a class="title" href="/2023/12/149566d76407.html" title="ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡">ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡</a><time datetime="2023-12-28T07:07:24.265Z" title="Updated 2023-12-28 15:07:24">2023-12-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/a6f2ba33bf73.html" title="ts js html"><img src="/img/cover/00000072.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts js html"/></a><div class="content"><a class="title" href="/2023/07/a6f2ba33bf73.html" title="ts js html">ts js html</a><time datetime="2023-12-27T00:06:40.048Z" title="Updated 2023-12-27 08:06:40">2023-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/4ef6e1899988.html" title="è®¡ç®—æœºç»„æˆåŸç†"><img src="/img/cover/00000074.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è®¡ç®—æœºç»„æˆåŸç†"/></a><div class="content"><a class="title" href="/2023/05/4ef6e1899988.html" title="è®¡ç®—æœºç»„æˆåŸç†">è®¡ç®—æœºç»„æˆåŸç†</a><time datetime="2023-12-13T01:42:34.443Z" title="Updated 2023-12-13 09:42:34">2023-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/84f8fd6e47d3.html" title="zhengzhi"><img src="/img/cover/IMG_4071.PNG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="zhengzhi"/></a><div class="content"><a class="title" href="/2023/05/84f8fd6e47d3.html" title="zhengzhi">zhengzhi</a><time datetime="2023-12-12T20:21:18.114Z" title="Updated 2023-12-13 04:21:18">2023-12-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/04/9ea3537bedb7.html" title="ç”µå½±"><div style="background: /img/cover/.DS_Store"></div></a><div class="content"><a class="title" href="/2020/04/9ea3537bedb7.html" title="ç”µå½±">ç”µå½±</a><time datetime="2023-12-04T18:27:15.641Z" title="Updated 2023-12-05 02:27:15">2023-12-05</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Sinos</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>