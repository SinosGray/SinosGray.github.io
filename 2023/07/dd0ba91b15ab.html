<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Category: github | Sinos_wei's blog</title><meta name="author" content="Sinos"><meta name="copyright" content="Sinos"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta property="og:type" content="article">
<meta property="og:title" content="code-review">
<meta property="og:url" content="https://sinos_wei.gitee.io/2023/07/dd0ba91b15ab.html">
<meta property="og:site_name" content="Sinos_wei&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sinos_wei.gitee.io/img/cover/00000083.jpg">
<meta property="article:published_time" content="2023-07-30T07:36:39.000Z">
<meta property="article:modified_time" content="2023-08-21T14:29:06.086Z">
<meta property="article:author" content="Sinos">
<meta property="article:tag" content="res">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="code">
<meta property="article:tag" content="review">
<meta property="article:tag" content="req">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sinos_wei.gitee.io/img/cover/00000083.jpg"><link rel="shortcut icon" href="/img/avatar.jpeg"><link rel="canonical" href="https://sinos_wei.gitee.io/2023/07/dd0ba91b15ab.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?aeddd8219bc5c1e1efdcf5d9cc3218e6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Category: github',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-21 22:29:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">186</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover/00000083.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Sinos_wei's blog"><span class="site-name">Sinos_wei's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">code-review</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">Updated</span><time datetime="2023-08-21T14:29:06.086Z" title="Updated 2023-08-21 22:29:06">2023-08-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/github/">github</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="code-review"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>

</blockquote>
<span id="more"></span>
<p>原文: https://github.com/ryanmcdermott/code-review-tips</p>
<h1 id="code-review-tips">code-review-tips</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol type="1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#why-review-code">Why Review Code?</a></li>
<li><a href="#basics">Basics</a></li>
<li><a href="#readability">Readability</a></li>
<li><a href="#side-effects">Side Effects</a></li>
<li><a href="#limits">Limits</a></li>
<li><a href="#security">Security</a></li>
<li><a href="#performance">Performance</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#miscellaneous">Miscellaneous</a></li>
</ol>
<h2 id="introduction">Introduction</h2>
<p>Code reviews can inspire dread in both reviewer and reviewee. Having your code analyzed can feel invasive and uncomfortable. Even worse, reviewing other people's code can feel like a painful and ambiguous exercise, searching for problems and not even knowing where to begin.</p>
<p>This project aims to provide some solid tips for how to review the code that you and your team write. All examples are written in JavaScript, but the advice should be applicable to any project of any language. This is by no means an exhaustive list, but hopefully this will help you catch as many bugs as possible long before users ever see your feature.</p>
<h2 id="why-review-code">Why Review Code?</h2>
<p>Code reviews are a necessary part of the software engineering process because you alone can't catch every problem in a piece of code you write. That's ok though! Even the best basketball players in the world miss shots.</p>
<p>Having others review our work ensures that we deliver the best product to users and with the least amount of errors. Make sure your team implements a code review process for new code that is introduced into your codebase. Find a process that works for you and your team. There's no one size fits all. The important point is to do code reviews as regularly as possible.</p>
<h2 id="basics">Basics</h2>
<h3 id="code-reviews-should-be-as-automated-as-possible">Code reviews should be as <strong>automated</strong> as possible</h3>
<p>Avoid discussing details that can be handled by a static analysis tool. Don't argue about nuances such as code formatting and whether to use <code>let</code> or <code>var</code>. Having a formatter and linter can save your team a lot of time from reviews that your computer can do for you.</p>
<h3 id="code-reviews-should-avoid-api-discussion">Code reviews should avoid API discussion</h3>
<p>These discussions should happen before the code is even written. Don't try to argue about the floor plan once you've poured the concrete foundation.</p>
<h3 id="code-reviews-should-be-kind">Code reviews should be kind</h3>
<p>It's scary to have your code reviewed and it can bring about feelings of insecurity in even the most experienced developer. Be positive in your language and keep your teammates comfortable and secure in their work!</p>
<h2 id="readability">Readability</h2>
<h3 id="typos-should-be-corrected">Typos should be corrected</h3>
<p>Avoid nitpicking as much as you can and save it for your linter, compiler, and formatter. When you can't, such as in the case of typos, leave a kind comment suggesting a fix. It's the little things that make a big difference sometimes!</p>
<h3 id="variable-and-function-names-should-be-clear">Variable and function names should be clear</h3>
<p>Naming is one of the hardest problems in computer science. We've all given names to variables, functions, and files that are confusing. Help your teammate out by suggesting a clearer name, if the one you're reading doesn't make sense.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// This function could be better named as namesToUpperCase</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">u</span>(<span class="params">names</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="functions-should-be-short">Functions should be short</h3>
<p>Functions should do one thing! Long functions usually mean that they are doing too much. Tell your teammate to split out the function into multiple different ones.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// This is both emailing clients and deciding which are active. Should be</span></span><br><span class="line"><span class="comment">// 2 different functions.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">emailClients</span>(<span class="params">clients</span>) &#123;</span><br><span class="line">  clients.<span class="title function_">forEach</span>(<span class="function"><span class="params">client</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> clientRecord = database.<span class="title function_">lookup</span>(client);</span><br><span class="line">    <span class="keyword">if</span> (clientRecord.<span class="title function_">isActive</span>()) &#123;</span><br><span class="line">      <span class="title function_">email</span>(client);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="files-should-be-cohesive-and-ideally-short">Files should be cohesive, and ideally short</h3>
<p>Just like functions, a file should be about one thing. A file represents a module and a module should do one thing for your codebase.</p>
<p>For example, if your module is called <code>fake-name-generator</code> it should just be responsible for creating fake names like "Keyser Söze". If the <code>fake-name-generator</code> also includes a bunch of utility functions for querying a database of names, that should be in a separate module.</p>
<p>There's no rule for how long a file should be, but if it's long like below <strong>and</strong> includes functions that don't relate to one another, then it should probably be split apart.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Line 1</span></span><br><span class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateFakeNames</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Line 1128</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">queryRemoteDatabase</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="exported-functions-should-be-documented">Exported functions should be documented</h3>
<p>If your function is intended to be used by other libraries, it helps to add documentation so users of it know what it does.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// This needs documentation. What is this function for? How is it used?</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">networkMonitor</span>(<span class="params">graph, duration, failureCallback</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="complex-code-should-be-commented">Complex code should be commented</h3>
<p>If you have named things well and the logic is still confusing, then it's time for a comment.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">leftPad</span>(<span class="params">str, len, ch</span>) &#123;</span><br><span class="line">  str = str + <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  len = len - str.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// This needs a comment, why a bitwise and here?</span></span><br><span class="line">    <span class="keyword">if</span> (len &amp; <span class="number">1</span>) pad += ch;</span><br><span class="line">    <span class="comment">// This needs a comment, why a bit shift here?</span></span><br><span class="line">    len &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (len) ch += ch;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pad + str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="side-effects">Side Effects</h2>
<h3 id="functions-should-be-as-pure-as-possible">Functions should be as pure as possible</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Global variable is referenced by the following function.</span></span><br><span class="line"><span class="comment">// If we had another function that used this name, now it&#x27;d be an array and it</span></span><br><span class="line"><span class="comment">// could break it. Instead it&#x27;s better to pass in a name parameter</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Ryan McDermott&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">splitIntoFirstAndLastName</span>(<span class="params"></span>) &#123;</span><br><span class="line">  name = name.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">splitIntoFirstAndLastName</span>();</span><br></pre></td></tr></table></figure>
<h3 id="io-functions-should-have-failure-cases-handled"><strong>I/O functions should have failure cases handled</strong></h3>
<p>Any function that does I/O should handle when something goes wrong</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getIngredientsFromFile</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">onFulfilled</span> = buffer =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> lines = buffer.<span class="title function_">split</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> lines.<span class="title function_">map</span>(<span class="function"><span class="params">line</span> =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Ingredient</span> <span class="attr">ingredient</span>=<span class="string">&#123;line&#125;</span> /&gt;</span></span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// What about when this is rejected because of an error? What do we return?</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">readFile</span>(<span class="string">&#x27;./ingredients.txt&#x27;</span>).<span class="title function_">then</span>(onFulfilled);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="limits">Limits</h2>
<h3 id="null-cases-should-be-handled">Null cases should be handled</h3>
<p>If you have a list component for example, all is well and good if you display a nice beautiful table that shows all its data. Your users love it and you get a promotion! But what happens when no data comes back? What do you show in the null case? Your code should be resilient to every case that can occur. If there's something bad that can happen in your code, eventually it will happen.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">InventoryList</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = data;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">caption</span>&gt;</span>Inventory<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">th</span> <span class="attr">scope</span>=<span class="string">&quot;col&quot;</span>&gt;</span>Product<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">           <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          // We should show something for the null case here if there&#x27;s // nothing</span></span><br><span class="line"><span class="language-xml">          in the data inventory</span></span><br><span class="line"><span class="language-xml">          &#123;Object.keys(this.data.inventory).map(itemId =&gt; (</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">tr</span> <span class="attr">key</span>=<span class="string">&#123;i&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;itemId&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;this.state.inventory[itemId].product&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          ))&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="large-cases-should-be-handled">Large cases should be handled</h3>
<p>In the list above, what would happen if 10,000 items came back from the inventory? In that case, you need some form of pagination or infinite scroll. Be sure to always assess the potential edge cases in terms of volume, especially when it comes to UI programming.</p>
<h3 id="singular-cases-should-be-handled">Singular cases should be handled</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MoneyDislay</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">amount</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">amount</span> = amount;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// What happens if the user has 1 dollar? You can&#x27;t say plural &quot;dollars&quot;</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;fancy-class&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        You have &#123;this.amount&#125; dollars in your account</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="user-input-should-be-limited">User input should be limited</h3>
<p>Users can potentially input an unlimited amount of data to send to you. It's important to set limits if a function takes any kind of user data in.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">route</span>(<span class="string">&#x27;/message&#x27;</span>).<span class="title function_">post</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> message = req.<span class="property">body</span>.<span class="property">content</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// What happens if the message is many megabytes of data? Do we want to store</span></span><br><span class="line">  <span class="comment">// that in the database? We should set limits on the size.</span></span><br><span class="line">  db.<span class="title function_">save</span>(message);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="functions-should-handle-unexpected-user-input">Functions should handle unexpected user input</h3>
<p>Users will always surprise you with the data they give you. Don't expect that you will always get the right type of data or even any data in a request from a user. <a target="_blank" rel="noopener" href="https://twitter.com/ryconoclast/status/885523459748487169">And don't rely on client-side validation alone</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">route</span>(<span class="string">&#x27;/transfer-money&#x27;</span>).<span class="title function_">post</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> amount = req.<span class="property">body</span>.<span class="property">amount</span>;</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">from</span> = user.<span class="property">id</span>;</span><br><span class="line">  <span class="keyword">const</span> to = req.<span class="property">body</span>.<span class="property">to</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// What happens if we got a string instead of a number as our amount? This</span></span><br><span class="line">  <span class="comment">// function would fail</span></span><br><span class="line">  <span class="title function_">transferMoney</span>(<span class="keyword">from</span>, to, amount);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="security">Security</h2>
<p>Data security is the most important aspect of your application. If users can't trust you with their data, then you won't have a business. There are numerous different types of security exploits that can plague an app, depending on the particular language and runtime environment. Below is a very small and incomplete list of common security problems. Don't rely on this alone! Automate as much security review as you can on every commit, and perform routine security audits.</p>
<h3 id="xss-should-not-be-possible">XSS should not be possible</h3>
<p>Cross-site scripting (XSS) is one of the largest vectors for security attacks on a web application. It occurs when you take user data and include it in your page without first properly sanitizing it. This can cause your site to execute source code from remote pages.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getBadges</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> badge = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;badge&#x27;</span>);</span><br><span class="line">  <span class="keyword">let</span> nameQueryParam = <span class="title function_">getQueryParams</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * What if nameQueryParam was `&lt;script&gt;sendCookie(document.cookie)&lt;/script&gt;`?</span></span><br><span class="line"><span class="comment">   * If that was the query param, a malicious user could lure a user to click a</span></span><br><span class="line"><span class="comment">   * link with that as the `name` query param, and have the user unknowingly</span></span><br><span class="line"><span class="comment">   * send their data to a bad actor.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  badge.<span class="property">children</span>[<span class="number">0</span>].<span class="property">innerHTML</span> = nameQueryParam;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="personally-identifiable-information-pii-should-not-leak">Personally Identifiable Information (PII) should not leak</h3>
<p>You bear an enormous weight of responsibility every time you take in user data. If you leak data in URLs, in analytics tracking to third parties, or even expose data to employees that shouldn't have access, you greatly hurt your users and your business. Be careful with other people's lives!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">route</span>(<span class="string">&#x27;/bank-user-info&#x27;</span>).<span class="title function_">get</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> name = user.<span class="property">name</span>;</span><br><span class="line">  <span class="keyword">const</span> id = user.<span class="property">id</span>;</span><br><span class="line">  <span class="keyword">const</span> socialSecurityNumber = user.<span class="property">ssn</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// There&#x27;s no reason to send a socialSecurityNumber back in a query parameter</span></span><br><span class="line">  <span class="comment">// This would be exposed in the URL and potentially to any middleman on the</span></span><br><span class="line">  <span class="comment">// network watching internet traffic</span></span><br><span class="line">  res.<span class="title function_">addToQueryParams</span>(&#123;</span><br><span class="line">    name,</span><br><span class="line">    id,</span><br><span class="line">    socialSecurityNumber</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="performance">Performance</h2>
<h3 id="functions-should-use-efficient-algorithms-and-data-structures">Functions should use efficient algorithms and data structures</h3>
<p>This is different for every particular case, but use your best judgment to see if there are any ways to improve the efficiency of a piece of code. Your users will thank you for the faster speeds!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// If mentions was a hash data structure, you wouldn&#x27;t need to iterate through</span></span><br><span class="line"><span class="comment">// all mentions to find a user. You could simply return the presence of the</span></span><br><span class="line"><span class="comment">// user key in the mentions hash</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isUserMentionedInComments</span>(<span class="params">mentions, user</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> mentioned = <span class="literal">false</span>;</span><br><span class="line">  mentions.<span class="title function_">forEach</span>(<span class="function"><span class="params">mention</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (mention.<span class="property">user</span> === user) &#123;</span><br><span class="line">      mentioned = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> mentioned;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="important-actions-should-be-logged">Important actions should be logged</h3>
<p>Logging helps give metrics about performance and insight into user behavior. Not every action needs to be logged, but decide with your team what makes sense to keep track of for data analytics. And be sure that no personally identifiable information is exposed!</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">router.<span class="title function_">route</span>(<span class="string">&#x27;/request-ride&#x27;</span>).<span class="title function_">post</span>(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> currentLocation = req.<span class="property">body</span>.<span class="property">currentLocation</span>;</span><br><span class="line">  <span class="keyword">const</span> destination = req.<span class="property">body</span>.<span class="property">destination</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">requestRide</span>(user, currentLocation, destination).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// We should log before and after this block to get a metric for how long</span></span><br><span class="line">    <span class="comment">// this task took, and potentially even what locations were involved in ride</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="testing">Testing</h2>
<h3 id="new-code-should-be-tested">New code should be tested</h3>
<p>All new code should include a test, whether it fixes a bug, or is a new feature. If it's a bug fix, it should have a test proving that the bug is fixed. And if it's a new feature, then every component should be unit tested and there should be an integration test ensuring that the feature works with the rest of the system.</p>
<h3 id="tests-should-actually-test-all-of-what-the-function-does">Tests should actually test all of what the function does</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">payEmployeeSalary</span>(<span class="params">employeeId, amount, callback</span>) &#123;</span><br><span class="line">  db.<span class="title function_">get</span>(<span class="string">&#x27;EMPLOYEES&#x27;</span>, employeeId)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">user</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">sendMoney</span>(user, amount);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (callback) &#123;</span><br><span class="line">        <span class="title function_">callback</span>(res);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">callback</span> = res =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;called&#x27;</span>, res);</span><br><span class="line"><span class="keyword">const</span> employee = <span class="title function_">createFakeEmployee</span>(<span class="string">&#x27;john jacob jingleheimer schmidt&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">payEmployeeSalary</span>(employee.<span class="property">id</span>, <span class="number">1000</span>, callback);</span><br><span class="line"><span class="title function_">assert</span>(result.<span class="property">status</span> === enums.<span class="property">SUCCESS</span>);</span><br><span class="line"><span class="comment">// What about the callback? That should be tested</span></span><br></pre></td></tr></table></figure>
<h3 id="tests-should-stress-edge-cases-and-limits-of-a-function">Tests should stress edge cases and limits of a function</h3>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dateAddDays</span>(<span class="params">dateTime, day</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> dateTime = <span class="string">&#x27;1/1/2017&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> date1 = <span class="title function_">dateAddDays</span>(dateTime, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">assert</span>(date1 === <span class="string">&#x27;1/6/2017&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// What happens if we add negative days?</span></span><br><span class="line"><span class="comment">// What happens if we add fractional days: 1.2, 8.7, etc.</span></span><br><span class="line"><span class="comment">// What happens if we add 1 billion days?</span></span><br></pre></td></tr></table></figure>
<h2 id="miscellaneous">Miscellaneous</h2>
<blockquote>
<p><em>"Everything can be filed under miscellaneous"</em></p>
</blockquote>
<blockquote>
<p>George Bernard Shaw</p>
</blockquote>
<h3 id="todo-comments-should-be-tracked">TODO comments should be tracked</h3>
<p>TODO comments are great for letting you and your fellow engineers know that something needs to be fixed later. Sometimes you gotta ship code and wait to fix it later. But eventually you'll have to clean it up! That's why you should track it and give a corresponding ID from your issue tracking system so you can schedule it and keep track of where the problem is in your codebase.</p>
<h3 id="commit-messages-should-be-clear-and-accurately-describe-new-code">Commit messages should be clear and accurately describe new code</h3>
<p>We've all written commit messages like "Changed some crap", "damn it", "ugg one more to fix this stupid bug". These are funny and satisfying, but not helpful when you're up on a Saturday morning because you pushed code on a Friday night and can't figure out what the bad code was doing when you <code>git blame</code> the commit. Write commit messages that describe the code accurately, and include a ticket number from your issue tracking system if you have one. That will make searching through your commit log much easier.</p>
<h3 id="the-code-should-do-what-its-supposed-to-do">The code should do what it's supposed to do</h3>
<p>This seems obvious, but most reviewers don't have the time or take the time to manually test every user-facing change. It's important to make sure the business logic of every change is as per design. It's easy to forget that when you're just looking for problems in the code!</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io">Sinos</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io/2023/07/dd0ba91b15ab.html">https://sinos_wei.gitee.io/2023/07/dd0ba91b15ab.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/res/">res</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/code/">code</a><a class="post-meta__tags" href="/tags/review/">review</a><a class="post-meta__tags" href="/tags/req/">req</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/00000083.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/08/f6e137e74dbb.html" title="functional-programming"><img class="cover" src="/img/cover/IMG_2141.JPG" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">functional-programming</div></div></a></div><div class="next-post pull-right"><a href="/2023/07/ebd254564c58.html" title="js_interview"><img class="cover" src="/img/cover/00000085.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">js_interview</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2020/02/7822e3bdc770.html" title="Xcode"><img class="cover" src="/img/cover/IMG_2403.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">Xcode</div></div></a></div><div><a href="/2021/12/fa447478d9bd.html" title="面经"><img class="cover" src="/img/cover/000000052.png" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2024-01-11</div><div class="title">面经</div></div></a></div><div><a href="/2023/07/a6f2ba33bf73.html" title="ts js html"><img class="cover" src="/img/cover/0010.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2024-02-19</div><div class="title">ts js html</div></div></a></div><div><a href="/2023/08/ffc01122c09c.html" title="js-test"><img class="cover" src="/img/cover/00000197.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">js-test</div></div></a></div><div><a href="/2023/07/ebd254564c58.html" title="js_interview"><img class="cover" src="/img/cover/00000085.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">js_interview</div></div></a></div><div><a href="/2023/08/b615e50b2d89.html" title="clean-code"><img class="cover" src="/img/cover/IMG_2440.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-21</div><div class="title">clean-code</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sinos</div><div class="author-info__description">己所不欲, 勿施于人</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">186</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SinosGray"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/SinosGray" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1143474942@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://8.130.42.149:5230" target="_blank" title="memo"><i class="fab fa-heart"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#code-review-tips"><span class="toc-number">1.</span> <span class="toc-text">code-review-tips</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#table-of-contents"><span class="toc-number">1.1.</span> <span class="toc-text">Table of Contents</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#introduction"><span class="toc-number">1.2.</span> <span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#why-review-code"><span class="toc-number">1.3.</span> <span class="toc-text">Why Review Code?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#basics"><span class="toc-number">1.4.</span> <span class="toc-text">Basics</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#code-reviews-should-be-as-automated-as-possible"><span class="toc-number">1.4.1.</span> <span class="toc-text">Code reviews should be as automated as possible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code-reviews-should-avoid-api-discussion"><span class="toc-number">1.4.2.</span> <span class="toc-text">Code reviews should avoid API discussion</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#code-reviews-should-be-kind"><span class="toc-number">1.4.3.</span> <span class="toc-text">Code reviews should be kind</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#readability"><span class="toc-number">1.5.</span> <span class="toc-text">Readability</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typos-should-be-corrected"><span class="toc-number">1.5.1.</span> <span class="toc-text">Typos should be corrected</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#variable-and-function-names-should-be-clear"><span class="toc-number">1.5.2.</span> <span class="toc-text">Variable and function names should be clear</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#functions-should-be-short"><span class="toc-number">1.5.3.</span> <span class="toc-text">Functions should be short</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#files-should-be-cohesive-and-ideally-short"><span class="toc-number">1.5.4.</span> <span class="toc-text">Files should be cohesive, and ideally short</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exported-functions-should-be-documented"><span class="toc-number">1.5.5.</span> <span class="toc-text">Exported functions should be documented</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#complex-code-should-be-commented"><span class="toc-number">1.5.6.</span> <span class="toc-text">Complex code should be commented</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#side-effects"><span class="toc-number">1.6.</span> <span class="toc-text">Side Effects</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#functions-should-be-as-pure-as-possible"><span class="toc-number">1.6.1.</span> <span class="toc-text">Functions should be as pure as possible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#io-functions-should-have-failure-cases-handled"><span class="toc-number">1.6.2.</span> <span class="toc-text">I&#x2F;O functions should have failure cases handled</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#limits"><span class="toc-number">1.7.</span> <span class="toc-text">Limits</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#null-cases-should-be-handled"><span class="toc-number">1.7.1.</span> <span class="toc-text">Null cases should be handled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#large-cases-should-be-handled"><span class="toc-number">1.7.2.</span> <span class="toc-text">Large cases should be handled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#singular-cases-should-be-handled"><span class="toc-number">1.7.3.</span> <span class="toc-text">Singular cases should be handled</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#user-input-should-be-limited"><span class="toc-number">1.7.4.</span> <span class="toc-text">User input should be limited</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#functions-should-handle-unexpected-user-input"><span class="toc-number">1.7.5.</span> <span class="toc-text">Functions should handle unexpected user input</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#security"><span class="toc-number">1.8.</span> <span class="toc-text">Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#xss-should-not-be-possible"><span class="toc-number">1.8.1.</span> <span class="toc-text">XSS should not be possible</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#personally-identifiable-information-pii-should-not-leak"><span class="toc-number">1.8.2.</span> <span class="toc-text">Personally Identifiable Information (PII) should not leak</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#performance"><span class="toc-number">1.9.</span> <span class="toc-text">Performance</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#functions-should-use-efficient-algorithms-and-data-structures"><span class="toc-number">1.9.1.</span> <span class="toc-text">Functions should use efficient algorithms and data structures</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#important-actions-should-be-logged"><span class="toc-number">1.9.2.</span> <span class="toc-text">Important actions should be logged</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#testing"><span class="toc-number">1.10.</span> <span class="toc-text">Testing</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#new-code-should-be-tested"><span class="toc-number">1.10.1.</span> <span class="toc-text">New code should be tested</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tests-should-actually-test-all-of-what-the-function-does"><span class="toc-number">1.10.2.</span> <span class="toc-text">Tests should actually test all of what the function does</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tests-should-stress-edge-cases-and-limits-of-a-function"><span class="toc-number">1.10.3.</span> <span class="toc-text">Tests should stress edge cases and limits of a function</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#miscellaneous"><span class="toc-number">1.11.</span> <span class="toc-text">Miscellaneous</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#todo-comments-should-be-tracked"><span class="toc-number">1.11.1.</span> <span class="toc-text">TODO comments should be tracked</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commit-messages-should-be-clear-and-accurately-describe-new-code"><span class="toc-number">1.11.2.</span> <span class="toc-text">Commit messages should be clear and accurately describe new code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#the-code-should-do-what-its-supposed-to-do"><span class="toc-number">1.11.3.</span> <span class="toc-text">The code should do what it&#39;s supposed to do</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/528ebafedd20.html" title="rfc笔记"><img src="/img/cover/00000123.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="rfc笔记"/></a><div class="content"><a class="title" href="/2024/01/528ebafedd20.html" title="rfc笔记">rfc笔记</a><time datetime="2024-02-22T12:44:35.891Z" title="Updated 2024-02-22 20:44:35">2024-02-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/43cbbd9d1bf2.html" title="20210114凯卓公司"><img src="/img/cover/IMG_3226.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="20210114凯卓公司"/></a><div class="content"><a class="title" href="/2021/01/43cbbd9d1bf2.html" title="20210114凯卓公司">20210114凯卓公司</a><time datetime="2024-02-20T14:01:36.488Z" title="Updated 2024-02-20 22:01:36">2024-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/e6a15612f4ba.html" title="react"><img src="/img/cover/IMG_2403.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react"/></a><div class="content"><a class="title" href="/2024/01/e6a15612f4ba.html" title="react">react</a><time datetime="2024-02-20T11:13:36.453Z" title="Updated 2024-02-20 19:13:36">2024-02-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/a6f2ba33bf73.html" title="ts js html"><img src="/img/cover/0010.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts js html"/></a><div class="content"><a class="title" href="/2023/07/a6f2ba33bf73.html" title="ts js html">ts js html</a><time datetime="2024-02-19T14:01:12.946Z" title="Updated 2024-02-19 22:01:12">2024-02-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/e58fa025421e.html" title="express"><img src="/img/cover/IMG_2142.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="express"/></a><div class="content"><a class="title" href="/2024/02/e58fa025421e.html" title="express">express</a><time datetime="2024-02-19T12:37:07.719Z" title="Updated 2024-02-19 20:37:07">2024-02-19</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Sinos</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>