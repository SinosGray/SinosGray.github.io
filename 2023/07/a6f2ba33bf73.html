<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ts js html | Sinos_wei's blog</title><meta name="author" content="Sinos"><meta name="copyright" content="Sinos"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta property="og:type" content="article">
<meta property="og:title" content="ts js html">
<meta property="og:url" content="https://sinos_wei.gitee.io/2023/07/a6f2ba33bf73.html">
<meta property="og:site_name" content="Sinos_wei&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sinos_wei.gitee.io/img/cover/00000007.jpg">
<meta property="article:published_time" content="2023-07-07T11:47:54.000Z">
<meta property="article:modified_time" content="2024-03-21T10:28:18.843Z">
<meta property="article:author" content="Sinos">
<meta property="article:tag" content="let">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="json">
<meta property="article:tag" content="dist">
<meta property="article:tag" content="console">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sinos_wei.gitee.io/img/cover/00000007.jpg"><link rel="shortcut icon" href="/img/avatar.jpeg"><link rel="canonical" href="https://sinos_wei.gitee.io/2023/07/a6f2ba33bf73.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?aeddd8219bc5c1e1efdcf5d9cc3218e6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ts js html',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-03-21 18:28:18'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">177</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover/00000007.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Sinos_wei's blog"><span class="site-name">Sinos_wei's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ts js html</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon fas fa-history"></i><span class="post-meta-label">Updated</span><time datetime="2024-03-21T10:28:18.843Z" title="Updated 2024-03-21 18:28:18">2024-03-21</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ts js html"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>

</blockquote>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">                 url</span><br><span class="line">loading           │</span><br><span class="line">resources────────►│            onload</span><br><span class="line">                  ▼</span><br><span class="line">                 js css etc</span><br><span class="line">html解释器────────►│</span><br><span class="line">  ▼               ▼</span><br><span class="line">js engine───────►DOM tree      DOMContent</span><br><span class="line">                  │</span><br><span class="line">css 解释器────────►│</span><br><span class="line">                  ▼</span><br><span class="line">                 RenderObject tree</span><br><span class="line">                  │</span><br><span class="line">                  ▼</span><br><span class="line">                 RenderLayer tree</span><br><span class="line">                  │</span><br><span class="line">                  ▼</span><br><span class="line">                 paint context</span><br><span class="line">graph lib────────►│</span><br><span class="line">                  ▼</span><br><span class="line">                 final presentation</span><br></pre></td></tr></table></figure>
<h1 id="typescript">typescript</h1>
<h2 id="关键字">关键字</h2>
<p>let any: 任意类型 <code>let x: any = 1;</code> string: 字符串 boolean: true false <code>let arr: number[] = [1, 2];</code> <code>let arr: Array&lt;number&gt; = [1, 2];</code> <code>let x: [string, number];//元组, 类型可以不同的数组</code> enum</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> &#123;<span class="title class_">Red</span>, <span class="title class_">Green</span>, <span class="title class_">Blue</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>: <span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Blue</span>;</span><br></pre></td></tr></table></figure>
<p>空值</p>
<ul>
<li><p>null null 在 JavaScript 中 null 表示 "什么都没有"。</p>
<p>null是一个只有一个值的特殊类型。表示一个空对象引用。</p>
<p>用 typeof 检测 null 返回是 object。</p></li>
<li><p>undefined 在 JavaScript 中, undefined 是一个没有设置值的变量。</p>
<p>typeof 一个没有值的变量会返回 undefined。</p>
<p>Null 和 Undefined 是其他任何类型（包括 void）的子类型，可以赋值给其它类型，如数字类型，此时，赋值后的类型会变成 null 或 undefined。而在TypeScript中启用严格的空校验（--strictNullChecks）特性，就可以使得null 和 undefined 只能被赋值给 void 或本身对应的类型，示例代码如下： <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">x = <span class="number">1</span>; <span class="comment">// 编译正确</span></span><br><span class="line">x = <span class="literal">undefined</span>;    <span class="comment">// 编译错误</span></span><br><span class="line">x = <span class="literal">null</span>;    <span class="comment">// 编译错误</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">x</span>: <span class="built_in">number</span> | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line">x = <span class="number">1</span>; <span class="comment">// 编译正确</span></span><br><span class="line">x = <span class="literal">undefined</span>;    <span class="comment">// 编译正确</span></span><br><span class="line">x = <span class="literal">null</span>;    <span class="comment">// 编译正确</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>never 是其它类型（包括 null 和 undefined）的子类型，代表从不会出现的值</p></li>
</ul>
<p>类型转换 <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: typeA;</span><br><span class="line"><span class="keyword">let</span> b = a <span class="keyword">as</span> typeB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">a</span>: typeA;</span><br><span class="line"><span class="keyword">let</span> b = &lt;typeB&gt;a;</span><br></pre></td></tr></table></figure></p>
<p>作用域 <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> global_num = <span class="number">12</span>          <span class="comment">// 全局变量</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Numbers</span> &#123; </span><br><span class="line">   num_val = <span class="number">13</span>;             <span class="comment">// 实例变量</span></span><br><span class="line">   <span class="keyword">static</span> sval = <span class="number">10</span>;         <span class="comment">// 静态变量</span></span><br><span class="line">   </span><br><span class="line">   <span class="title function_">storeNum</span>():<span class="built_in">void</span> &#123; </span><br><span class="line">      <span class="keyword">var</span> local_num = <span class="number">14</span>;    <span class="comment">// 局部变量</span></span><br><span class="line">   &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;全局变量为: &quot;</span>+global_num)  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Numbers</span>.<span class="property">sval</span>)   <span class="comment">// 静态变量</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Numbers</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;实例变量: &quot;</span>+obj.<span class="property">num_val</span>)</span><br></pre></td></tr></table></figure></p>
<p>函数 <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span>, default_val:<span class="built_in">number</span> = <span class="number">0.50</span>, optional_val?:<span class="built_in">number</span></span>): <span class="built_in">number</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> msg = <span class="keyword">function</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span>;  </span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">msg</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">//匿名函数自调用</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> x = <span class="string">&quot;Hello!!&quot;</span>;   </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x)     </span><br><span class="line"> &#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">//lambda</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">foo</span> = (<span class="params">x:<span class="built_in">number</span></span>)=&gt; &#123;    </span><br><span class="line">    x = <span class="number">10</span> + x </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x)  </span><br><span class="line">&#125; </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>(<span class="number">100</span>))      <span class="comment">//输出结果为 110</span></span><br></pre></td></tr></table></figure></p>
<p>class <figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IPerson</span>:<span class="title class_">Person</span> &#123; </span><br><span class="line">    <span class="attr">firstName</span>:<span class="built_in">string</span>, </span><br><span class="line">    <span class="attr">lastName</span>:<span class="built_in">string</span>, </span><br><span class="line">    <span class="attr">sayHi</span>: <span class="function">()=&gt;</span><span class="built_in">string</span> </span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> <span class="attr">customer</span>:<span class="title class_">IPerson</span> = &#123; </span><br><span class="line">    <span class="attr">firstName</span>:<span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">    <span class="attr">lastName</span>:<span class="string">&quot;Hanks&quot;</span>, </span><br><span class="line">    <span class="attr">sayHi</span>: ():<span class="function"><span class="params">string</span> =&gt;</span>&#123;<span class="keyword">return</span> <span class="string">&quot;Hi there&quot;</span>&#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123; </span><br><span class="line">    <span class="comment">// 字段 </span></span><br><span class="line">    <span class="attr">engine</span>:<span class="built_in">string</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="attr">num</span>:<span class="built_in">number</span>; </span><br><span class="line">    <span class="comment">// 构造函数 </span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">engine:<span class="built_in">string</span></span>) &#123; </span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">engine</span> = engine </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="comment">// 方法 </span></span><br><span class="line">    <span class="title function_">disp</span>():<span class="built_in">void</span> &#123; </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;发动机为 :   &quot;</span>+<span class="variable language_">this</span>.<span class="property">engine</span>) </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCar</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Car</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;Engine 1&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> sites = &#123; </span><br><span class="line">   <span class="attr">site1</span>:<span class="string">&quot;Runoob&quot;</span>, </span><br><span class="line">   <span class="attr">site2</span>:<span class="string">&quot;Google&quot;</span> </span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure>
<h2 id="模块">模块</h2>
<p>TypeScript 模块的设计理念是可以更换的组织代码。</p>
<p>模块是在其自身的作用域里执行，并不是在全局作用域，这意味着定义在模块里面的变量、函数和类等在模块外部是不可见的，除非明确地使用 export 导出它们。类似地，我们必须通过 import 导入其他模块导出的变量、函数、类等。</p>
<p>两个模块之间的关系是通过在文件级别上使用 import 和 export 建立的。</p>
<p>模块使用模块加载器去导入其它的模块。 在运行时，模块加载器的作用是在执行此模块代码前去查找并执行这个模块的所有依赖。 大家最熟知的JavaScript模块加载器是服务于 Node.js 的 CommonJS 和服务于 Web 应用的 Require.js。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> shape = <span class="built_in">require</span>(<span class="string">&quot;./IShape&quot;</span>); </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> shape.<span class="property">IShape</span> &#123; </span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">draw</span>(<span class="params"></span>) &#123; </span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Cirlce is drawn (external module)&quot;</span>); </span><br><span class="line">   &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="外部文件">外部文件</h2>
<p>TypeScript 作为 JavaScript 的超集，在开发过程中不可避免要引用其他第三方的 JavaScript 的库。虽然通过直接引用可以调用库的类和方法，但是却无法使用TypeScript 诸如类型检查等特性功能。为了解决这个问题，需要将这些库里的函数和方法体去掉后只保留导出类型声明，而产生了一个描述 JavaScript 库和模块信息的声明文件。通过引用这个声明文件，就可以借用 TypeScript 的各种特性来使用库文件了。</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="comment">//third party .js</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Runoob</span>;  </span><br><span class="line">(<span class="keyword">function</span>(<span class="params">Runoob</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Calc</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123; </span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">Calc</span>(<span class="params"></span>) &#123; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="title class_">Calc</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">doSum</span> = <span class="keyword">function</span> (<span class="params">limit</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> sum = <span class="number">0</span>; </span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= limit; i++) &#123; </span><br><span class="line">            sum = sum + i; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Runoob</span>.<span class="property">Calc</span> = <span class="title class_">Calc</span>; </span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Calc</span>; </span><br><span class="line">&#125;)(<span class="title class_">Runoob</span> || (<span class="title class_">Runoob</span> = &#123;&#125;)); </span><br><span class="line"><span class="keyword">var</span> test = <span class="keyword">new</span> <span class="title class_">Runoob</span>.<span class="title class_">Calc</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//.d.ts</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="title class_">Runoob</span> &#123; </span><br><span class="line">   <span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Calc</span> &#123; </span><br><span class="line">      <span class="title function_">doSum</span>(<span class="attr">limit</span>:<span class="built_in">number</span>) : <span class="built_in">number</span>; </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//.ts</span></span><br><span class="line"><span class="comment">/// &lt;reference path = &quot;Calc.d.ts&quot; /&gt; </span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Runoob</span>.<span class="title class_">Calc</span>(); </span><br><span class="line"><span class="comment">// obj.doSum(&quot;Hello&quot;); // 编译错误</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">doSum</span>(<span class="number">10</span>));</span><br></pre></td></tr></table></figure>
<p>html</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My test page<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/firefox-icon.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;My test image&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;!DOCTYPE html&gt;</code> — 文档类型。混沌初分，HTML 尚在襁褓（大约是 1991/92 年）之时，<code>DOCTYPE</code> 用来链接一些 HTML 编写守则，比如自动查错之类。<code>DOCTYPE</code> 在当今作用有限，仅用于保证文档正常读取。现在知道这些就足够了。</li>
<li><code>&lt;html&gt;&lt;/html&gt;</code> — <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/html">``</a> 元素。该元素包含整个页面的内容，也称作根元素。</li>
<li><code>&lt;head&gt;&lt;/head&gt;</code> — <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/head">``</a> 元素。该元素的内容对用户不可见，其中包含例如面向搜索引擎的搜索关键字（<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Keyword">keywords</a>）、页面描述、CSS 样式表和字符编码声明等。</li>
<li><code>&lt;meta charset="utf-8"&gt;</code> — 该元素指定文档使用 UTF-8 字符编码，UTF-8 包括绝大多数人类已知语言的字符。基本上 UTF-8 可以处理任何文本内容，还可以避免以后出现某些问题，没有理由再选用其他编码。</li>
<li><code>&lt;title&gt;&lt;/title&gt;</code> — <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/title">``</a> 元素。该元素设置页面的标题，显示在浏览器标签页上，也作为收藏网页的描述文字。</li>
<li><code>&lt;body&gt;&lt;/body&gt;</code> — <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/body">``</a> 元素。该元素包含期望让用户在访问页面时看到的内容，包括文本、图像、视频、游戏、可播放的音轨或其他内容。</li>
</ul>
<h1 id="javascript">javascript</h1>
<h2 id="数据">数据</h2>
<blockquote>
<p>基本类型有: null, undefined, number, string, boolean, symbol(ES6新增), 存储在栈中</p>
<p>其他的为引用类型(object), 存储在堆中, 栈中存储引用(指针)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> length = <span class="number">16</span>;                                  <span class="comment">// Number 通过数字字面量赋值</span></span><br><span class="line"><span class="keyword">var</span> points = x * <span class="number">10</span>;                              <span class="comment">// Number 通过表达式字面量赋值</span></span><br><span class="line"><span class="keyword">var</span> lastName = <span class="string">&quot;Johnson&quot;</span>;                         <span class="comment">// String 通过字符串字面量赋值</span></span><br><span class="line"><span class="keyword">var</span> cars = [<span class="string">&quot;Saab&quot;</span>, <span class="string">&quot;Volvo&quot;</span>, <span class="string">&quot;BMW&quot;</span>];              <span class="comment">// Array  通过数组字面量赋值</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;<span class="attr">firstName</span>:<span class="string">&quot;John&quot;</span>, <span class="attr">lastName</span>:<span class="string">&quot;Doe&quot;</span>&#125;;  <span class="comment">// Object 通过对象字面量赋值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//默认 undefined</span></span><br><span class="line"><span class="comment">//null 用于对象, undefined 用于变量，属性和方法。</span></span><br><span class="line"><span class="comment">//也可以用 const let</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&quot;John&quot;</span>                <span class="comment">// 返回 string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">3.14</span>                  <span class="comment">// 返回 number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">false</span>                 <span class="comment">// 返回 boolean</span></span><br><span class="line"><span class="keyword">typeof</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]             <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;<span class="attr">name</span>:<span class="string">&#x27;John&#x27;</span>, <span class="attr">age</span>:<span class="number">34</span>&#125; <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>                  <span class="comment">// 返回 object</span></span><br><span class="line"><span class="keyword">var</span> cars=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建对象</span></span><br><span class="line"><span class="keyword">var</span> carname=<span class="keyword">new</span> <span class="title class_">String</span>;</span><br><span class="line"><span class="keyword">var</span> x=      <span class="keyword">new</span> <span class="title class_">Number</span>;</span><br><span class="line"><span class="keyword">var</span> y=      <span class="keyword">new</span> <span class="title class_">Boolean</span>;</span><br><span class="line"><span class="keyword">var</span> cars=   <span class="keyword">new</span> <span class="title class_">Array</span>;</span><br><span class="line"><span class="keyword">var</span> person= <span class="keyword">new</span> <span class="title class_">Object</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="title function_">myFunction</span>(<span class="string">&quot;John&quot;</span>,<span class="string">&quot;Doe&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;Runoob&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">const</span> message = <span class="string">`My name is <span class="subst">$&#123;name&#125;</span> and I&#x27;m <span class="subst">$&#123;age&#125;</span> years old.`</span>;</span><br><span class="line">txt1=<span class="string">&quot;What a very&quot;</span>;</span><br><span class="line">txt2=<span class="string">&quot;nice day&quot;</span>;</span><br><span class="line">txt3=txt1+txt2;</span><br><span class="line">x=<span class="number">5</span>+<span class="number">5</span>; <span class="comment">//10</span></span><br><span class="line">y=<span class="string">&quot;5&quot;</span>+<span class="number">5</span>; <span class="comment">//55</span></span><br><span class="line">z=<span class="string">&quot;Hello&quot;</span>+<span class="number">5</span>; <span class="comment">//Hello5</span></span><br><span class="line"></span><br><span class="line">= =值等于</span><br><span class="line">= = = 值和类型均等于</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> patt = <span class="regexp">/runoob/i</span> <span class="comment">//正则</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&quot;Visit Runoob!&quot;</span>; </span><br><span class="line"><span class="keyword">var</span> n = str.<span class="title function_">search</span>(<span class="regexp">/Runoob/i</span>);</span><br></pre></td></tr></table></figure>
<p>JavaScript 中，函数及变量的声明都将被提升到函数的最顶部。初始化的则不会</p>
<p><code>"use strict"</code></p>
<p><code>undefined</code> means a variable has been declared but has not yet been assigned a value :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> testVar;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testVar); <span class="comment">//shows undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> testVar); <span class="comment">//shows undefined</span></span><br></pre></td></tr></table></figure>
<p><code>null</code> is an assignment value. It can be assigned to a variable as a representation of no value :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> testVar = <span class="literal">null</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(testVar); <span class="comment">//shows null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> testVar); <span class="comment">//shows object</span></span><br></pre></td></tr></table></figure>
<h2 id="类型转换"><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/85731460">类型转换</a></h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> x = ...</span><br><span class="line">x.<span class="title function_">toString</span>()</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Number(xxx)</p>
<ul>
<li>undefined NaN</li>
<li>Null, false 0</li>
<li>true 1</li>
<li>symbol error</li>
<li>object 先 toPrimitive 再 toNumber</li>
<li>string
<ul>
<li>如果字符串中只包含数字，那么就转换为对应的数字。</li>
<li>如果字符串中只包含十六进制格式，那么就转换为对应的十进制数字。</li>
<li>如果字符串为空，那么转换为0。</li>
<li>如果字符串包含上述之外的字符，那么转换为 NaN。</li>
</ul></li>
</ul></li>
<li><p>Boolean(xxx)</p>
<ul>
<li>undefined, 0, NaN 0</li>
<li>symbol, object, 其他 number 1</li>
</ul></li>
<li><p>xxx.toString()</p>
<ul>
<li>undefined 'undefined'</li>
<li>true, false 'true', 'false'</li>
<li>number 对应数字字符串</li>
<li>symbol error</li>
<li>object 先 toPrimitive 再 toNumber</li>
</ul></li>
<li><p>toPrimitive()</p></li>
<li><ul>
<li></li>
</ul>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/202401181527803.webp" alt="img" /><figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="string">&#x27;2&#x27;</span> = <span class="string">&#x27;12&#x27;</span></span><br><span class="line"><span class="string">&#x27;hello&#x27;</span> + &#123;&#125; = <span class="string">&#x27;hello [object Object]&#x27;</span></span><br><span class="line">[] + [] = <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果有一方是字符串，另一方则会被<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String#字符串强制转换">转换为字符串</a>，并且它们连接起来。</li>
<li>如果双方都是 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>，则执行 BigInt 加法。如果一方是 BigInt 而另一方不是，会抛出 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>。</li>
<li>否则，双方都会被<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number#number_强制转换">转换为数字</a>，执行数字加法。</li>
</ul></li>
</ul>
<h2 id="函数">函数</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a,b</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a*b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span>=<span class="title function_">myFunction</span>(<span class="number">4</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">//自调用</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="string">&quot;Hello!!&quot;</span>;      <span class="comment">// 我将调用自己</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; &#123; 函数声明 &#125;</span><br><span class="line">(参数<span class="number">1</span>, 参数<span class="number">2</span>, …, 参数N) =&gt; 表达式(单一)</span><br><span class="line"><span class="comment">// 相当于：(参数1, 参数2, …, 参数N) =&gt;&#123; return 表达式; &#125;</span></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">x</span> = (<span class="params">x, y</span>) =&gt; x * y;</span><br></pre></td></tr></table></figure>
<p>实际上，在 JavaScript 中，所有函数都能访问它们上一层的作用域。 <strong>javascript中的参数在内部是用一个数组来表示的</strong>。函数接收到的始终都是这个数组，而不关心数组中包含哪些参数。在函数体内可以通过arguments对象来访问这个参数数组，从而获取传递给函数的每一个参数。</p>
<h2 id="this">this</h2>
<ul>
<li>在方法中，this 表示该方法所属的对象。</li>
<li>如果单独使用，this 表示全局对象。</li>
<li>在函数中，this 表示全局对象。</li>
<li>在函数中，在严格模式下，this 是未定义的(undefined)。</li>
<li>在事件中，this 表示接收事件的元素。</li>
<li>类似 call() 和 apply() 方法可以将 this 引用到任何对象。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">bar</span>) &#125;,</span><br><span class="line">  <span class="attr">bar</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = obj.<span class="property">foo</span>;</span><br><span class="line"><span class="keyword">var</span> bar = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">foo</span>() <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">foo</span>() <span class="comment">// 2</span></span><br><span class="line"><span class="comment">// this指的是函数运行时所在的环境。对于obj.foo()来说，foo运行在obj环境，所以this指向obj；对于foo()来说，foo运行在全局环境，所以this指向全局环境。所以，两者的运行结果不一样。</span></span><br></pre></td></tr></table></figure>
<h3 id="衍生内容">衍生内容</h3>
<p><code>var obj = &#123; foo:  5 &#125;;</code> 上面的代码将一个对象赋值给变量<code>obj</code>。JavaScript 引擎会先在内存里面，生成一个对象<code>&#123; foo: 5 &#125;</code>，然后把这个对象的内存地址赋值给变量<code>obj</code>。 <code>var obj = &#123; foo:  5, myfunc: foofunc &#125;;</code> 这种情况, myfunc保存的是 foofunc 函数的地址</p>
<p>而<code>this.x</code>是指当前运行环境的<code>x</code>。</p>
<h2 id="类">类</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Runoob</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, url</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">url</span> = url;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">age</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">return</span> date.<span class="title function_">getFullYear</span>() - <span class="variable language_">this</span>.<span class="property">year</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">s_name</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sitename</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">s_name</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sitename</span> = x;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello!!&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">let</span> site = <span class="keyword">new</span> <span class="title class_">Runoob</span>(<span class="string">&quot;菜鸟教程&quot;</span>,  <span class="string">&quot;https://www.runoob.com&quot;</span>);</span><br></pre></td></tr></table></figure>
<h2 id="for">for</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index=<span class="number">0</span>; index &lt; someArray.<span class="property">length</span>; index++) &#123;</span><br><span class="line">  <span class="keyword">const</span> elem = someArray[index];</span><br><span class="line">  <span class="comment">// ···</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> someArray) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(key);<span class="comment">//key 是数组的 index, 用于 object 时是属性名</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">someArray.<span class="title function_">forEach</span>(<span class="function">(<span class="params">elem, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(elem, index);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">65</span>, <span class="number">44</span>, <span class="number">12</span>, <span class="number">4</span>];</span><br><span class="line">numbers.<span class="title function_">forEach</span>(myFunction)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">item, index, arr</span>) &#123;</span><br><span class="line">  arr[index] = item * <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> elem <span class="keyword">of</span> someArray) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(elem);<span class="comment">// 不会影响数组原来的值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="array">array</h2>
<p>reduce</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">65</span>, <span class="number">44</span>, <span class="number">12</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//function(total,currentValue, index,arr)</span></span><br><span class="line"><span class="comment">//total	必需。初始值, 或者计算结束后的返回值。</span></span><br><span class="line"><span class="comment">//currentValue	必需。当前元素</span></span><br><span class="line"><span class="comment">//currentIndex	可选。当前元素的索引</span></span><br><span class="line"><span class="comment">//arr	可选。当前元素所属的数组对象。</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSum</span>(<span class="params">total, num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> total + num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">item</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> = numbers.<span class="title function_">reduce</span>(getSum);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//125</span></span><br></pre></td></tr></table></figure>
<p>map</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> officersIds = officers.<span class="title function_">map</span>(<span class="function">(<span class="params">officer, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="attr">index</span>: officer]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>filter</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> rebels = pilots.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">pilot</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> pilot.<span class="property">faction</span> === <span class="string">&quot;Rebels&quot;</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> start_list = minus.<span class="title function_">map</span>(<span class="function">(<span class="params">data, index</span>) =&gt;</span> data === min ? index : <span class="literal">undefined</span>).<span class="title function_">filter</span>(<span class="function"><span class="params">data</span> =&gt;</span> data !== <span class="literal">undefined</span>)</span><br></pre></td></tr></table></figure>
<p>拷贝</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 浅拷贝, 因为数组是引用类型, =是赋值了指向数组的指针</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = arr1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深拷贝 ES6 语法, 前提是 arr1 里没有引用类型</span></span><br><span class="line"><span class="keyword">let</span> arr1 =[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深拷贝</span></span><br><span class="line"><span class="keyword">let</span> nestedArray = [<span class="number">1</span>, [<span class="number">2</span>], <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arrayCopy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(nestedArray));</span><br></pre></td></tr></table></figure>
<p>通过<code>Array.length</code> 判断是否为空 通过 <code>JSON.stringfy(obj)==="&#123;&#125;"</code> 判断对象是否为空</p>
<p>查找</p>
<p>Array.filter()</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">10</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">20</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> greaterThanTen = array.<span class="title function_">filter</span>(<span class="function"><span class="params">element</span> =&gt;</span> element &gt; <span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(greaterThanTen) <span class="comment">//[11, 20]</span></span><br></pre></td></tr></table></figure>
<p>Array.find()</p>
<p>我们使用 Array.find( )方法来寻找符合某个条件的第一个元素。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">10</span>, <span class="number">11</span>, <span class="number">3</span>, <span class="number">20</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> greaterThanTen = array.<span class="title function_">find</span>(<span class="function"><span class="params">element</span> =&gt;</span> element &gt; <span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(greaterThanTen)<span class="comment">//11</span></span><br></pre></td></tr></table></figure>
<p>添加</p>
<ul>
<li>末尾 xxx.push()</li>
<li>开头 xxx.unshift()</li>
</ul>
<p>swap</p>
<p>Given the array <code>arr = [1,2,3,4]</code>, you can swap values in one line now like so:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[arr[<span class="number">0</span>], arr[<span class="number">1</span>]] = [arr[<span class="number">1</span>], arr[<span class="number">0</span>]];</span><br></pre></td></tr></table></figure>
<p>sort</p>
<p><code>some_array.sort((a, b)=&gt;a-b)</code> 升序</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;"><code>compareFn(a, b)</code> return value</th>
<th style="text-align: left;">sort order</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">&gt; 0</td>
<td style="text-align: left;">sort <code>a</code> after <code>b</code>, e.g. <code>[b, a]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">&lt; 0</td>
<td style="text-align: left;">sort <code>a</code> before <code>b</code>, e.g. <code>[a, b]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">=== 0</td>
<td style="text-align: left;">keep original order of <code>a</code> and <code>b</code></td>
</tr>
</tbody>
</table>
<p>二维数组初始化</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">10</span>).<span class="title function_">fill</span>(<span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">10</span>).<span class="title function_">fill</span>(<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<h1 id="json">json</h1>
<ul>
<li>a string</li>
<li>a number</li>
<li>an object (JSON object)</li>
<li>an array</li>
<li>a boolean: <code>true false</code></li>
<li><em>null</em></li>
</ul>
<h1 id="html">html</h1>
<li>
标签可用在有序列表 (
<ol>
) 和无序列表 (
<ul>
<p>) 中。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--这是一个注释，注释在浏览器中不会显示--&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="tips">tips</h1>
<h2 id="async-await-promise">async await promise</h2>
<p>async + await 必须配合 promise 使用，同时 async 和 await 必须一起使用。即 await 必须在 async 标记的函数中使用 return await 是冗余的, 不需要 await?</p>
<p>The keyword async before a function makes the function return a promise: The await keyword can only be used inside an async function. The await keyword makes the function pause the execution and wait for a resolved promise before it continues:</p>
<p>promise The Promise object represents the eventual completion (or failure) of an asynchronous operation and its resulting value. <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchPromise = <span class="title function_">fetch</span>(</span><br><span class="line">  <span class="string">&quot;https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json&quot;</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fetchPromise);</span><br><span class="line"></span><br><span class="line">fetchPromise.<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Received response: <span class="subst">$&#123;response.status&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Started request…&quot;</span>);</span><br></pre></td></tr></table></figure> Here, we are calling await fetch(), and instead of getting a Promise, our caller gets back a fully complete Response object 使用 await 从 promise 中取得数据 或者<code>promise.then((data) =&gt; console.log(data[0].name));</code> The Promise.resolve() static method "resolves" a given value to a Promise. 把普通对象变成 promise If the value is a promise, that promise is returned; if the value is a thenable, Promise.resolve() will call the then() method with two callbacks it prepared; otherwise the returned promise will be fulfilled with the value. 如果没有在 async 函数中 return ，那么 promise 对象的 resolve 就是 undefined 如果在 async 函数中写了 return，那么 promise 对象的 resolve 就是 return 的值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 永远不会执行 catch</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">waitAndMaybeReject</span>();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;caught&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可能执行 catch</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// Wait for the result of waitAndMaybeReject() to settle,</span></span><br><span class="line">    <span class="comment">// and assign the fulfilled value to fulfilledValue:</span></span><br><span class="line">    <span class="keyword">const</span> fulfilledValue = <span class="keyword">await</span> <span class="title function_">waitAndMaybeReject</span>();</span><br><span class="line">    <span class="comment">// If the result of waitAndMaybeReject() rejects, our code</span></span><br><span class="line">    <span class="comment">// throws, and we jump to the catch block.</span></span><br><span class="line">    <span class="comment">// Otherwise, this block continues to run:</span></span><br><span class="line">    <span class="keyword">return</span> fulfilledValue;</span><br><span class="line">    <span class="comment">// 可以简化成 return await waitAndMaybeReject();</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;caught&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="闭包">闭包</h2>
<h2 id="require-vs.-import-in-javascript">Require vs. Import in JavaScript</h2>
<p>In JavaScript, the <code>require</code> and <code>import</code> keywords are used to import modules. <code>require</code> is a function <a target="_blank" rel="noopener" href="https://nodejs.org/dist/latest-v19.x/docs/api/modules.html">used to import modules in Node.js</a>, while <code>import</code> is a new keyword that is <a target="_blank" rel="noopener" href="https://github.com/jedrichards/es6#modules">used to import modules in ECMAScript 6</a> (ES6).</p>
<h2 id="commonjs-esmodule">commonjs esmodule</h2>
<p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/CommonJS">CommonJS</a> is a set of standards used to implement modules on JavaScript. The project was started by Mozilla engineer Kevin Dangoor in 2009. CommonJS is mainly used in server-side JS apps with Node, as browsers don't support the use of CommonJS.</p>
<p>node 中一个文件就是一个 module 路径分析和文件定位:</p>
<ul>
<li>核心模块 http, fs, path</li>
<li>.或..开始的相对路径模块, 其中没有后缀的, 按照.js .json .node 次序补足扩展</li>
<li>/开始的绝对路径模块</li>
<li>非路径模块</li>
</ul>
<p>自定义模块路径的生成顺序</p>
<ol type="1">
<li>当前文件目录下的 node_modules</li>
<li>父目录的node_modules</li>
<li>向上递归直到根目录下的node_modules</li>
</ol>
<p>没有找到文件的但找到目录的将目录当做一个包处理</p>
<ol type="1">
<li>package.json 中的 main 字段指定文件r</li>
<li>如果没有指定, 则默认 index.js index.json index.node</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mod1Function</span> = (<span class="params"></span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Mod1 is alive!&#x27;</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = mod1Function</span><br><span class="line"><span class="comment">//导入</span></span><br><span class="line">mod1Function = <span class="built_in">require</span>(<span class="string">&#x27;./mod1.js&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">testFunction</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Im the main function&#x27;</span>)</span><br><span class="line">    <span class="title function_">mod1Function</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导出</span></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">add</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;...&#125;</span><br><span class="line"><span class="comment">//导入</span></span><br><span class="line"><span class="keyword">var</span> mymodule = <span class="built_in">require</span>(<span class="string">&#x27;...&#x27;</span>)</span><br><span class="line">mymodule.<span class="title function_">add</span>()</span><br></pre></td></tr></table></figure>
<p>Now let's review ESmodules. ESmodules is a standard that was introduced with ES6 (2015). The idea was to standarize how JS modules work and implement this features in browsers (which didn't previously support modules).</p>
<p>ESmodules is a more modern approach that is currently supported by browser and server-side apps with Node.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mod1.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mod1Function</span> = (<span class="params"></span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Mod1 is alive!&#x27;</span>)</span><br><span class="line"><span class="keyword">export</span> &#123; mod1Function &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; mod1Function &#125; <span class="keyword">from</span> <span class="string">&#x27;./mod1.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">testFunction</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Im the main function&#x27;</span>)</span><br><span class="line">    <span class="title function_">mod1Function</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">testFunction</span>()</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th>语法</th>
<th>导出声明</th>
<th>导入声明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>默认</td>
<td><code>export default function Button() &#123;&#125;</code></td>
<td><code>import Button from './Button.js';</code></td>
</tr>
<tr class="even">
<td>命名</td>
<td><code>export function Button() &#123;&#125;</code></td>
<td><code>import &#123; Button &#125; from './Button.js';</code></td>
</tr>
</tbody>
</table>
<h2 id="var-vs.-let-vs-const">var vs. let vs const</h2>
<p>ES6 新增了<code>let</code>命令，用来声明变量。它的用法类似于<code>var</code>，但是所声明的变量，只在<code>let</code>命令所在的代码块内有效。</p>
<p>下面的代码如果使用<code>var</code>，最后输出的是<code>10</code>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  a[i] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>](); <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，变量<code>i</code>是<code>var</code>命令声明的，在全局范围内都有效，所以全局只有一个变量<code>i</code>。每一次循环，变量<code>i</code>的值都会发生改变，而循环内被赋给数组<code>a</code>的函数内部的<code>console.log(i)</code>，里面的<code>i</code>指向的就是全局的<code>i</code>。也就是说，所有数组<code>a</code>的成员里面的<code>i</code>，指向的都是同一个<code>i</code>，导致运行时输出的是最后一轮的<code>i</code>的值，也就是 10。</p>
<p>如果使用<code>let</code>，声明的变量仅在块级作用域内有效，最后输出的是 6。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  a[i] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>](); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<p>上面代码中，变量<code>i</code>是<code>let</code>声明的，当前的<code>i</code>只在本轮循环有效，所以每一次循环的<code>i</code>其实都是一个新的变量，所以最后输出的是<code>6</code>。你可能会问，如果每一轮循环的变量<code>i</code>都是重新声明的，那它怎么知道上一轮循环的值，从而计算出本轮循环的值？这是因为 JavaScript 引擎内部会记住上一轮循环的值，初始化本轮的变量<code>i</code>时，就在上一轮循环的基础上进行计算。</p>
<p>另外，<code>for</code>循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> i = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// abc</span></span><br><span class="line"><span class="comment">// abc</span></span><br><span class="line"><span class="comment">// abc</span></span><br></pre></td></tr></table></figure>
<p>上面代码正确运行，输出了 3 次<code>abc</code>。这表明函数内部的变量<code>i</code>与循环变量<code>i</code>不在同一个作用域，有各自单独的作用域（同一个作用域不可使用 <code>let</code> 重复声明同一个变量）。</p>
<h3 id="不存在变量提升">不存在变量提升</h3>
<p><code>var</code>命令会发生“变量提升”现象，即变量可以在声明之前使用，值为<code>undefined</code>。这种现象多多少少是有些奇怪的，按照一般的逻辑，变量应该在声明语句之后才可以使用。</p>
<p>为了纠正这种现象，<code>let</code>命令改变了语法行为，它所声明的变量一定要在声明后使用，否则报错。</p>
<h3 id="暂时性死区">暂时性死区</h3>
<p>只要块级作用域内存在<code>let</code>命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  tmp = <span class="string">&#x27;abc&#x27;</span>; <span class="comment">// ReferenceError</span></span><br><span class="line">  <span class="keyword">let</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，存在全局变量<code>tmp</code>，但是块级作用域内<code>let</code>又声明了一个局部变量<code>tmp</code>，导致后者绑定这个块级作用域，所以在<code>let</code>声明变量前，对<code>tmp</code>赋值会报错。</p>
<p>ES6 明确规定，如果区块中存在<code>let</code>和<code>const</code>命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</p>
<p>总之，在代码块内，使用<code>let</code>命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。</p>
<p>总之，暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，才可以获取和使用该变量。</p>
<h2 id="is">== === is</h2>
<ul>
<li>在比较两个操作数时，双等号（<code>==</code>）将执行类型转换 并且会按照 IEEE 754 标准对 <code>NaN</code>、<code>-0</code> 和 <code>+0</code> 进行特殊处理（故 <code>NaN != NaN</code>，且 <code>-0 == +0</code>）； Object：仅当两个操作数引用相同的对象时，才返回 <code>true</code>。 如果操作数之一为 <code>null</code> 或 <code>undefined</code>，则另一个操作数必须为 <code>null</code> 或 <code>undefined</code> 才返回 <code>true</code>。否则返回 <code>false</code>。</li>
<li>三等号（<code>===</code>） 严格相等比较两个值是否相等。两个被比较的值在比较前都不进行隐式转换。如果两个被比较的值具有不同的类型，这两个值是不相等的。否则，如果两个被比较的值类型相同，值也相同，并且都不是 number 类型时，两个值相等。最后，如果两个值都是 number 类型，当两个都不是 <code>NaN</code>，并且数值相同，或是两个值分别为 <code>+0</code> 和 <code>-0</code> 时，两个值被认为是相等的。</li>
<li><code>Object.is()</code> 既不进行类型转换，也不对 <code>NaN</code>、<code>-0</code> 和 <code>+0</code> 进行特殊处理（这使它和 <code>===</code> 在除了那些特殊数字值之外的情况具有相同的表现）。</li>
</ul>
<h2 id="arrow-func">arrow func =&gt;</h2>
<p>是一种匿名函数</p>
<p>In short, with arrow functions there are no binding of <code>this</code>.</p>
<p>如果箭头函数函数体只有一句话，那么这个句话可以不带大括号，而且这句话就是返回值（可以不用写return）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Regular Function:</span></span><br><span class="line"><span class="comment">// With a regular function this represents the object that calls the function:</span></span><br><span class="line">hello = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> += <span class="variable language_">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Arrow Function:</span></span><br><span class="line"><span class="comment">// With an arrow function this represents the owner of the function:</span></span><br><span class="line">hello = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>).<span class="property">innerHTML</span> += <span class="variable language_">this</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="单双引号-反引号">单双引号 反引号</h2>
<p>JS 中单引号和双引号无任何区别，二者均用于表示字符串字面量。 单引号和双引号混合使用时，内层引号将被视为字符串的一部分。 从 ECMAScript 6 开始，表示字符串引入了新的方法，即使用反引号（`）来表示模板字符串。</p>
<h1 id="名词解释">名词解释</h1>
<p><em>SEO 是</em>“Search Engine Optimization”（搜索引擎优化）</p>
<p>SSR，全称为Server Side Rendering，即<strong>服务器端渲染</strong>。 它是一种在服务器端将应用或网页转换为HTML字符串，然后发送到客户端的技术。 客户端接收到HTML字符串后，直接显示出网页的内容</p>
<p>RD: Research and Development engineer，研发工程师，对某种不存在的事物进行系统的研究和开发并具有一定经验的专业工作者,或者对已经存在的事物进行改进以达到优化目的的专业工作者。</p>
<p>PM: Product Manager，产品经理，又称品牌经理。举凡产品从创意到上市，所有相关的研发、调研、生产、编预算、广告、促销活动等等，都由产品经理掌控。</p>
<p>QA: Quality Assurance，品质保证。QA的主要职责就是质量保证工作。</p>
<p>OP: Operator，操作员，管理员。</p>
<p>DBA 是<strong>数据库管理员</strong>（Database Administrator）的简称</p>
<p>DAO 的全名是“decentralized autonomous organization”，中文是“去中心化的自治组织”</p>
<p>DML（data manipulation language）是数据操纵语言：它们是SELECT、UPDATE、INSERT、DELETE，就象它的名字一样，这4条命令是用来对数据库里的数据进行操作的语言。</p>
<p>DAL A data access layer</p>
<p>DDL（data definition language）是数据定义语言：DDL比DML要多，主要的命令有CREATE、ALTER、DROP等，DDL主要是用在定义或改变表（TABLE）的结构，数据类型，表之间的链接和约束等初始化工作上，他们大多在建立表时使用。</p>
<p>DCL（DataControlLanguage）是数据库控制语言：是用来设置或更改数据库用户或角色权限的语句，包括（grant,deny,revoke等）语句。</p>
<p>SPA single page application</p>
<p>hooks</p>
<p>redux</p>
<p>REST API (representational state transfer)</p>
<ul>
<li>A client-server architecture made up of clients, servers, and resources, with requests managed through HTTP.</li>
<li><a target="_blank" rel="noopener" href="https://www.redhat.com/en/topics/cloud-native-apps/stateful-vs-stateless">Stateless</a> client-server communication, meaning no client information is stored between get requests and each request is separate and unconnected.</li>
<li>Cacheable data that streamlines client-server interactions.</li>
<li>A uniform interface between components so that information is transferred in a standard form. This requires that:
<ul>
<li>resources requested are identifiable and separate from the representations sent to the client.</li>
<li>resources can be manipulated by the client via the representation they receive because the representation contains enough information to do so.</li>
<li>self-descriptive messages returned to the client have enough information to describe how the client should process it.</li>
<li>hypertext/hypermedia is available, meaning that after accessing a resource the client should be able to use hyperlinks to find all other currently available actions they can take.</li>
</ul></li>
<li>A layered system that organizes each type of server (those responsible for security, load-balancing, etc.) involved the retrieval of requested information into hierarchies, invisible to the client.</li>
<li>Code-on-demand (optional): the ability to send executable code from the server to the client when requested, extending client functionality.</li>
</ul>
<p>GraphQL API</p>
<p>EJS Embedded Javascript Templating is a templating engine used by Node.js. Template engine helps to create an HTML template with minimal code. Also, it can inject data into an HTML template on the client side and produce the final HTML. EJS is a simple templating language that is used to generate HTML markup with plain JavaScript. It also helps to embed JavaScript into HTML pages.</p>
<p>Pug is a <a target="_blank" rel="noopener" href="https://pugjs.org/">template engine</a> for Node and for the browser. It compiles to HTML and has a simplified syntax, which can make you more productive and your code more readable. Pug makes it easy both to write reusable HTML, as well as to render data pulled from a database or API.</p>
<p>ORM <strong>Object–relational mapping</strong> (ORM, O/RM, and O/R mapping tool)</p>
<p>中间件 middleware <a target="_blank" rel="noopener" href="https://www.techtarget.com/searchdatamanagement/news/252496430/Matillion-raises-100M-for-ETL-to-enable-data-middleware">Middleware</a> is software that is used to <strong>bridge the gap between applications and operating systems.</strong> Middleware sits between an operating system and the applications that run on it to provide a method of communication and <a target="_blank" rel="noopener" href="https://www.techtarget.com/searchdatamanagement/definition/data-management">data management</a>. This is useful for applications that otherwise would not have any way to exchange data -- such as with software tools and databases The name <em>middleware</em> stems from it being software that <strong>sits between the client-side requests on the <a target="_blank" rel="noopener" href="https://www.techtarget.com/whatis/definition/front-end">front end</a> and the back-end resource being requested.</strong></p>
<p>ODM OEM An OEM (Original Equipment Manufacturer) builds a customer’s product that is fully designed by that customer and then contracted out to produce. ODM (Original Design Manufacturer) is also referred to as private labeling or white label products. In this case, the manufacturer has an existing product design and the customer may make slight changes to sell it under their own brand name. Some examples of changes include branding, colors, or packaging.</p>
<p>AJAX asynchronous javascript and xml</p>
<p>Morgan: HTTP request logger middleware for node.js</p>
<h1 id="esmascripts">ESMAscripts</h1>
<h3 id="th-edition-abandonededit">4th Edition (abandoned)[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=2">edit</a>]</h3>
<p>The proposed fourth edition of ECMA-262 (<strong>ECMAScript 4</strong> or <strong>ES4</strong>) would have been the first major update to ECMAScript since the third edition was published in 1999. The specification (along with a reference implementation) was originally targeted for completion by October 2008.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-13">13]</a> The first draft was dated February 1999.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-14">14]</a> An overview of the language was released by the working group on 23 October 2007.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-15">15]</a></p>
<p>By August 2008, the ECMAScript 4th edition proposal had been scaled back into a project code named <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#ES2015">ECMAScript Harmony</a>. Features under discussion for Harmony at the time included:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Class_(computer_programming)">classes</a>,</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Modular_programming">a module system</a>,</li>
<li>optional <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Type_signature">type annotations</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Static_typing">static typing</a>, probably using a <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Structural_type_system">structural type system</a>,</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Generator_(computer_programming)">generators</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Iterator">iterators</a>,</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JavaScript_syntax#Destructuring_assignment">destructuring assignment</a>, and</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Algebraic_data_type">algebraic data types</a>.</li>
</ul>
<h3 id="th-edition-ecmascript-2009edit">5th Edition – ECMAScript 2009[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=3">edit</a>]</h3>
<p>Additions include <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">JSON</a>, <code>String.trim()</code> to easily remove whitespaces surrounding a string (<code>" example "</code> to <code>"example"</code>), <code>String.charAt()</code> to return a single character from a given position in a string, and <code>Array.isArray()</code>. A comma after the final pair of values in an object (<code>var example = &#123; "property1":"value1", "property2":"value2", &#125;</code>) also no longer causes a syntax error.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-27">27]</a></p>
<h3 id="th-edition-ecmascript-2015edit">6th Edition – ECMAScript 2015[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=4">edit</a>]</h3>
<p>The 6th edition, ECMAScript 6 (<strong>ES6</strong>) and later renamed to ECMAScript 2015, was finalized in June 2015.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2015-4">4]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-28">28]</a> This update adds significant new syntax for writing complex applications, including class declarations (<code>class Foo &#123; ... &#125;</code>), ES6 modules like <code>import * as moduleName from "..."; export const Foo</code>, but defines them semantically in the same terms as ECMAScript 5 strict mode. Other new features include iterators and <code>for...of</code> loops, <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Python_(programming_language)">Python</a>-style generators, arrow function expression (<code>() =&gt; &#123;...&#125;</code>), <code>let</code> keyword for local declarations, <code>const</code> keyword for constant local declarations, binary data, typed arrays, new collections (maps, sets and WeakMap), <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Futures_and_promises">promises</a>, number and math enhancements, reflection, proxies (metaprogramming for virtual objects and wrappers) and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/String_interpolation#JavaScript">template literals</a> using backticks (```) for multi-line strings without <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Escape_character">escape characters</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-29">29]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-30">30]</a> The complete list is extensive.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-31">31]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-32">32]</a> As the first "ECMAScript Harmony" specification, it is also known as "ES6 Harmony".</p>
<h3 id="th-edition-ecmascript-2016edit">7th Edition – ECMAScript 2016[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=5">edit</a>]</h3>
<p>The 7th edition, or ECMAScript 2016, was finalized in June 2016.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2016-5">5]</a> Its features include block-scoping of variables and functions, destructuring patterns (of variables), <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tail_call">proper tail calls</a>, exponentiation operator <code>**</code> for numbers, <code>await</code>, <code>async</code> keywords for asynchronous programming (as a preparation for ES2017), and the <code>Array.prototype.includes</code> function.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2016-5">5]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-33">33]</a></p>
<p>The exponentiation operator is equivalent to <code>Math.pow</code>, but provides a simpler syntax similar to languages like Python, F#, Perl, and Ruby. <code>async</code> / <code>await</code> was hailed as an easier way to use promises and develop asynchronous code.</p>
<h3 id="th-edition-ecmascript-2017edit">8th Edition – ECMAScript 2017[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=6">edit</a>]</h3>
<p>The 8th edition, or ECMAScript 2017, was finalized in June 2017.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2017-6">6]</a> Its features include the <code>Object.values</code>, <code>Object.entries</code> and <code>Object.getOwnPropertyDescriptors</code> functions for easy manipulation of Objects, <code>async</code> / <code>await</code> constructions which use generators and promises, and additional features for concurrency and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Linearizability">atomics</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-2ality-34">34]</a>[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2017-6">6]</a></p>
<h3 id="th-edition-ecmascript-2018edit">9th Edition – ECMAScript 2018[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=7">edit</a>]</h3>
<p>The 9th edition, or ECMAScript 2018, was finalized in June 2018.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2018-7">7]</a> New features include the spread operator and rest parameters (<code>...</code>) for object literals, asynchronous iteration, <code>Promise.prototype.finally</code> and additions to RegExp.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2018-7">7]</a></p>
<p>The spread operator allows for the easy copying of object properties, as shown below.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let object = &#123;a: 1, b: 2&#125;</span><br><span class="line"></span><br><span class="line">let objectClone = Object.assign(&#123;&#125;, object) // before ES2018</span><br><span class="line">let objectClone = &#123;...object&#125; // ES2018 syntax</span><br><span class="line"></span><br><span class="line">let otherObject = &#123;c: 3, ...object&#125;</span><br><span class="line">console.log(otherObject) // -&gt; &#123;c: 3, a: 1, b: 2&#125;</span><br></pre></td></tr></table></figure>
<h3 id="th-edition-ecmascript-2019edit">10th Edition – ECMAScript 2019[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=8">edit</a>]</h3>
<p>The 10th edition, or ECMAScript 2019, was published in June 2019.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2019-8">8]</a> Added features include, but are not limited to, <code>Array.prototype.flat</code>, <code>Array.prototype.flatMap</code>, changes to <code>Array.sort</code> and <code>Object.fromEntries</code>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2019-8">8]</a></p>
<p><code>Array.sort</code> is now guaranteed to be <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability">stable</a>, meaning that elements with equal sorting keys will not change relative order before and after the sort operation. <code>Array.prototype.flat(depth=1)</code> flattens an array to a specified depth, meaning that all subarray elements (up to the specified depth) are concatenated recursively.</p>
<p>Another notable change is that so-called <em>catch binding</em> became optional.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-35">35]</a></p>
<h3 id="th-edition-ecmascript-2020edit">11th Edition – ECMAScript 2020[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=9">edit</a>]</h3>
<p>The 11th edition, or ECMAScript 2020, was published in June 2020.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2020-9">9]</a> In addition to new functions, this version introduces a <code>BigInt</code> primitive type for arbitrary-sized integers, the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Null_coalescing_operator">nullish coalescing operator</a>, and the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JavaScript_syntax#Declaration_and_assignment">globalThis object</a>.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2020-9">9]</a></p>
<p>BigInts are created either with the <code>BigInt</code> constructor or with the syntax <code>10n</code>, where "n" is placed after the number literal. BigInts allow the representation and manipulation of integers beyond <code>Number.MAX_SAFE_INTEGER</code>, while Numbers are represented by a double-precision 64-bit <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a> value. The built-in functions in <code>Math</code> are not compatible with BigInts; for example, exponentiation of BigInts must be done with the <code>**</code> operator instead of <code>Math.pow</code>.</p>
<p>The nullish coalescing operator, <code>??</code>, returns its right-hand side operand when its left-hand side is <code>null</code> or <code>undefined</code>. This contrasts with the <code>||</code> operator, which would return <code>"string"</code> for all "falsy" values, such as the ones below.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">undefined ?? &quot;string&quot; // -&gt; &quot;string&quot;</span><br><span class="line">null ?? &quot;string&quot; // -&gt; &quot;string&quot;</span><br><span class="line">false ?? &quot;string&quot; // -&gt; false</span><br><span class="line">NaN ?? &quot;string&quot; // -&gt; NaN</span><br></pre></td></tr></table></figure>
<p>Optional chaining makes it possible to access the nested properties of an object without having an AND check at each level. An example is <code>const zipcode = person?.address?.zipcode</code>. If any of the properties are not present, <code>zipcode</code> will be <code>undefined</code>.</p>
<h3 id="th-edition-ecmascript-2021edit">12th Edition – ECMAScript 2021[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=10">edit</a>]</h3>
<p>The 12th edition, ECMAScript 2021, was published in June 2021.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2021-10">10]</a> This version introduces the <code>replaceAll</code> method for strings; <code>Promise.any</code>, a promise combinator that short-circuits when an input value is fulfilled; <code>AggregateError</code>, a new error type to represent multiple errors at once; logical assignment operators (<code>??=</code>, <code>&amp;&amp;=</code>, <code>||=</code>); <code>WeakRef</code>, for referring to a target object without preserving it from garbage collection, and <code>FinalizationRegistry</code>, to manage registration and unregistration of cleanup operations performed when target objects are garbage collected; separators for numeric literals (<code>1_000</code>); and <code>Array.prototype.sort</code> was made more precise, reducing the number of cases that result in an implementation-defined sort order.</p>
<h3 id="th-edition-ecmascript-2022edit">13th Edition – ECMAScript 2022[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=11">edit</a>]</h3>
<p>The 13th edition, ECMAScript 2022, was published in June 2022.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-ES2022-11">11]</a> This version introduces top-level <code>await</code>, allowing the keyword to be used at the top level of modules; new class elements: public and private instance fields, public and private static fields, private instance methods and accessors, and private static methods and accessors; static blocks inside classes, to perform per-class evaluation initialization; the <code>#x in obj</code> syntax, to test for presence of private fields on objects; <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a> match indices via the <code>/d</code> flag, which provides start and end indices for matched substrings; the <code>cause</code> property on <code>Error</code> objects, which can be used to record a causation chain in errors; the at method for Strings, Arrays, and TypedArrays, which allows relative indexing; and <code>Object.hasOwn</code>, a convenient alternative to <code>Object.prototype.hasOwnProperty</code>.</p>
<h3 id="th-edition-ecmascript-2023edit">14th Edition – ECMAScript 2023[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=ECMAScript_version_history&amp;action=edit&amp;section=12">edit</a>]</h3>
<p>The 14th edition, ECMAScript 2023, was published in June 2023.[<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ECMAScript_version_history#cite_note-36">36]</a> This version introduces the <code>toSorted</code>, <code>toReversed</code>, <code>with</code>, <code>findLast</code>, and <code>findLastIndex</code> methods on <code>Array.prototype</code> and <code>TypedArray.prototype</code>, as well as the <code>toSpliced</code> method on <code>Array.prototype</code>; added support for <code>#!</code> <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a> comments at the beginning of files to better facilitate executable ECMAScript files; and allowed the use of most Symbols as keys in weak collections.</p>
<h1 id="es6">es6</h1>
<h2 id="spread-op-...">spread op ...</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">x, y, z</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(...numbers));</span><br><span class="line"><span class="comment">// Expected output: 6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sum.<span class="title function_">apply</span>(<span class="literal">null</span>, numbers));</span><br><span class="line"><span class="comment">// Expected output: 6</span></span><br></pre></td></tr></table></figure>
<p>使用情形:</p>
<ul>
<li><p>Function arguments list (myFunction(a, ...iterableObj, b))</p></li>
<li><p>Array literals ([1, ...iterableObj, '4', 'five', 6])</p></li>
<li><p>Object literals ({ ...obj, key: 'value' })</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123; <span class="attr">foo</span>: <span class="string">&quot;bar&quot;</span>, <span class="attr">x</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123; <span class="attr">foo</span>: <span class="string">&quot;baz&quot;</span>, <span class="attr">y</span>: <span class="number">13</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> mergedObj = &#123; <span class="attr">x</span>: <span class="number">41</span>, ...obj1, ...obj2, <span class="attr">y</span>: <span class="number">9</span> &#125;; <span class="comment">// &#123; x: 42, foo: &quot;baz&quot;, y: 9 &#125;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="symbol">Symbol</h2>
<blockquote>
<p>一种原始数据类型, 代表独一无二的值</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> sym = <span class="title class_">Symbol</span>(obj);</span><br><span class="line"><span class="comment">// 会调用 obj 的 toString(), 即参数总是 string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// eg</span></span><br><span class="line"><span class="keyword">const</span> shapeType = &#123;</span><br><span class="line">  <span class="attr">triangle</span>: <span class="title class_">Symbol</span>(),</span><br><span class="line">  <span class="attr">square</span>: <span class="title class_">Symbol</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="set">Set</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cosnt s = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>]);</span><br><span class="line">s.<span class="title function_">add</span>(value); <span class="comment">// return set</span></span><br><span class="line">s.<span class="title function_">delete</span>(value); <span class="comment">// return bool</span></span><br><span class="line">s.<span class="title function_">has</span>(value); <span class="comment">// return bool</span></span><br><span class="line">s.<span class="title function_">clear</span>(value) <span class="comment">// no return </span></span><br><span class="line"><span class="keyword">const</span> array = <span class="title class_">Array</span>.<span class="title function_">from</span>(s); <span class="comment">// set -&gt; array</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> s.<span class="title function_">keys</span>())&#123;dosth&#125; <span class="comment">// 遍历, s.keys(), s.values() 都可以, 遍历顺序为插入顺序</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> s)&#123;dosth&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol type="1">
<li>Set 内 NaN 与 NaN 是相等的(不同于===), 其他判断类似于===</li>
</ol>
<h2 id="map">Map</h2>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="property">size</span>;</span><br><span class="line">map.<span class="title function_">set</span>(key, value); <span class="comment">// return map</span></span><br><span class="line">map.<span class="title function_">get</span>(key);</span><br><span class="line">map.<span class="title function_">has</span>(key);</span><br><span class="line">map.<span class="title function_">delete</span>(key); <span class="comment">// return bool</span></span><br><span class="line">map.<span class="title function_">clear</span>(); <span class="comment">// no return </span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map)&#123;dosth&#125; <span class="comment">// 遍历顺序为插入顺序</span></span><br></pre></td></tr></table></figure>
<p>object 的键只能是 str, map 的键可以是其他值 当对象作为 map 的键时, 只有对象地址相同才是同一个 key</p>
<h2 id="proxy">proxy</h2>
<blockquote>
<p>对目标对象设置一层拦截</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(&#123;&#125;, &#123;</span><br><span class="line">  <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params">target, property, receiver</span>)&#123;<span class="keyword">return</span> <span class="number">35</span>&#125;,</span><br><span class="line">  <span class="comment">// proxy.xxxproperty </span></span><br><span class="line">  <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">target, propkey, value, receiver</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// proxy.xxx = 1</span></span><br><span class="line">  <span class="attr">has</span>: <span class="keyword">function</span>(<span class="params">target, propkey</span>)&#123; <span class="keyword">return</span> <span class="literal">true</span> &#125;,</span><br><span class="line">  <span class="comment">// &#x27;xxxprop&#x27; in proxy</span></span><br><span class="line">  <span class="attr">deleteProperty</span>: <span class="keyword">function</span>(<span class="params">target, propkey</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;,</span><br><span class="line">  <span class="comment">// delete proxy.xxx</span></span><br><span class="line">  <span class="attr">ownKeys</span>: <span class="keyword">function</span>(<span class="params">target</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// Object.keys(proxy)</span></span><br><span class="line">  <span class="attr">getOwnPropertyDescriptor</span>: <span class="keyword">function</span>(<span class="params">target, propKey</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// Object.getOwnPropertyDescriptor(proxy, &#x27;wat&#x27;)</span></span><br><span class="line">  <span class="attr">defineProperty</span>: <span class="keyword">function</span>(<span class="params">target, propKey, propDesc</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;,</span><br><span class="line">  <span class="comment">// proxy.newprop = 1</span></span><br><span class="line">  <span class="attr">preventExtensions</span>: <span class="keyword">function</span>(<span class="params">target</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;,</span><br><span class="line">  <span class="comment">// Object.preventExtensions(proxy)</span></span><br><span class="line">  <span class="attr">getPrototypeOf</span>: <span class="keyword">function</span>(<span class="params">target</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// Object.getPrototypeOf(p) === xxxprotoType </span></span><br><span class="line">  <span class="attr">isExtensible</span>: <span class="keyword">function</span>(<span class="params">target</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;,</span><br><span class="line">  <span class="comment">// Object.isExtensible(p)</span></span><br><span class="line">  <span class="attr">setPrototypeOf</span>: <span class="keyword">function</span>(<span class="params">target, proto</span>)&#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;,</span><br><span class="line">  <span class="comment">// Object.setPrototypeof(proxy, proto);</span></span><br><span class="line">  <span class="attr">apply</span>: <span class="keyword">function</span>(<span class="params">target, object, args</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// proxy()</span></span><br><span class="line">  <span class="attr">construct</span>: <span class="keyword">function</span>(<span class="params">target, args</span>)&#123;&#125;,</span><br><span class="line">  <span class="comment">// let p = new proxy(1)</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// this, proxy 内 this 指针指向 proxy 而不是 target</span></span><br><span class="line"><span class="keyword">const</span> target &#123;</span><br><span class="line">    m : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.1og(<span class="variable language_">this</span> === proxy);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;&#125;)</span><br><span class="line">target.<span class="title function_">m</span>() <span class="comment">// false</span></span><br><span class="line">proxy.<span class="title function_">m</span>() <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 解决:</span></span><br><span class="line"><span class="keyword">const</span> target = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;2015-01-01&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> handler = &#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, prop</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (prop === <span class="string">&#x27;getDate&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> target.<span class="property">getDate</span>.<span class="title function_">bind</span>(target);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, handler);</span><br><span class="line">proxy.<span class="title function_">getDate</span>() <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h2 id="reflect">Reflect</h2>
<blockquote>
<p>为了将 Object 语言内部方法重写?</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">apply</span>(target,thisArg,args) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">construct</span>(target,args) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">get</span>(target,name,receiver) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">set</span>(target,name,value,receiver) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(target,name,desc)</span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target,name) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">has</span>(target,name) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(target) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">isExtensible</span>(target) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">preventExtensions</span>(target) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">getOwnPropertyDescriptor</span>(target, name) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">getPrototypeOf</span>(target) </span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">setPrototypeOf</span>(target, prototype)</span><br></pre></td></tr></table></figure>
<h2 id="promise">Promise</h2>
<blockquote>
<p>简单说就是一个容器，里面保存着某个未来才会结束的事件(通常是一个异步操作)的结果。 从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。 Promise 提供统一的 API，各种异步操作都可以用同样的方法进行处理。</p>
</blockquote>
<p>promise 对象代表一个异步操作，有三种状态: pending (进行中)、 fulfilled (已成功) 和 rejected (已失败)。 从 pending 变为 fulfilled 从 pending变为 rejected 只要这两种情况发生，状态就不会再变了, 这时就称为 resolved(已定型)</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">  <span class="comment">// ... some code</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="comment">/* 异步操作成功 */</span>)&#123; <span class="title function_">resolve</span>(value); <span class="title function_">dosth_still_execute</span>(); &#125; </span><br><span class="line">  <span class="keyword">else</span> &#123; <span class="title function_">reject</span>(error); &#125; </span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// 处理 getJSON 和 前一个回调函数运行时发生的错误 console.log(&#x27;发生错误!&#x27;, error);</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 等价于 promise.then(null, error=&gt;&#123;&#125;)</span></span><br><span class="line"><span class="comment">// 建议 总是使用 catch 方法，而不使用 then 方法的第二个参数。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p_all = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2, p3]);</span><br><span class="line"><span class="keyword">let</span> p_or = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1, p2, p3]);</span><br><span class="line"><span class="keyword">let</span> p = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"><span class="comment">// let p = new Promise(resolve=&gt;resolve(&quot;foo&quot;))</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="title class_">Promise</span>.<span class="title function_">rejected</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>promise 构造函数接受一个函数作为参数，该函数的两个参数分别是 resolve 和 reject 。它们由 JavaScript 引擎提供，不用自己部署。 resolve 函数的作用是，将 Promise 对象从 pending 变为 resolved，在异步操作成功时调用，并将异步操作的结果，作为参数传递出去; reject 函数的作用是，将 Promise 对象的状态从 pending 变为 rejected，在异步操作失败时调用，并将异步操作报出的错误，作为参数传递出去。 可以用 then 方法分别指定 resolved 状态和 rejected 状态的回调函数。</p>
<h2 id="iterator">iterator</h2>
<p>解构赋值, 扩展运算符, yield*, for of <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>().<span class="title function_">add</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;b&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> [x,y] = set;</span><br><span class="line"><span class="comment">// x=&#x27;a&#x27;; y=&#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">[...str] <span class="comment">// [&#x27;h&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> generator = <span class="keyword">function</span>* () &#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span>* [<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> iterator = <span class="title function_">generator</span>();</span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 4, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> arr) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(v); <span class="comment">// red green blue</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 对于 object 遍历可使用 for in, 无须实现 iterator 接口</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">in</span> es6) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="immer">IMMER</h1>
<p>Immer (German for: always) is a tiny package that allows you to work with immutable state in a more convenient way.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;produce&#125; <span class="keyword">from</span> <span class="string">&quot;immer&quot;</span></span><br><span class="line"><span class="keyword">const</span> baseState = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;Learn TypeScript&quot;</span>,</span><br><span class="line">        <span class="attr">done</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;Try Immer&quot;</span>,</span><br><span class="line">        <span class="attr">done</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> nextState = <span class="title function_">produce</span>(baseState, <span class="function"><span class="params">draftState</span> =&gt;</span> &#123;</span><br><span class="line">    draftState.<span class="title function_">push</span>(&#123;<span class="attr">title</span>: <span class="string">&quot;Tweet about it&quot;</span>&#125;)</span><br><span class="line">    draftState[<span class="number">1</span>].<span class="property">done</span> = <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="https">HTTPS</h1>
<h2 id="certificate-chain">certificate chain</h2>
<blockquote>
<p>https://knowledge.digicert.com/solution/how-certificate-chains-work</p>
</blockquote>
<ul>
<li>A <strong>certificate chain</strong> is an ordered list of certificates, containing an SSL/TLS Certificate and Certificate Authority (CA) Certificates, that enables the receiver to verify that the sender and all CA's are trustworthy.</li>
<li>The <strong>chain or path begins</strong> with the SSL/TLS certificate, and each certificate in the chain is signed by the entity identified by the next certificate in the chain.</li>
</ul>
<p><strong>What is an Intermediate Certificate?</strong></p>
<ul>
<li>Any certificate that sits between the SSL/TLS Certificate and the Root Certificate is called a chain or Intermediate Certificate.</li>
<li>If the Intermediate Certificate is not installed on the server (where the SSL/TLS certificate is installed) it may prevent some browsers, mobile devices, applications, etc. from trusting the SSL/TLS certificate.</li>
<li>In order to make the SSL/TLS certificate <strong>compatible</strong> with all clients, it is necessary that the Intermediate Certificate be installed.</li>
</ul>
<p><strong>What is the Root CA Certificate?</strong></p>
<p>The chain terminates with a Root CA Certificate. The <strong>Root CA Certificate</strong> is always signed by the CA itself. The signatures of all certificates in the chain must be verified up to the Root CA Certificate.</p>
<figure>
<img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/202401281149998.jpg" alt="img" /><figcaption aria-hidden="true">img</figcaption>
</figure>
<blockquote>
<p>https://support.dnsimple.com/articles/what-is-ssl-certificate-chain/</p>
</blockquote>
<p>If the certificate wasn’t issued by a trusted CA, the connecting device (eg. a web browser) checks to see if the certificate of the issuing CA was issued by a trusted CA. It continues checking until either a trusted CA is found (at which point a trusted, secure connection will be established), or no trusted CA can be found (at which point the device will usually display an error).</p>
<h2 id="pem-文件">pem 文件</h2>
<blockquote>
<p>https://serverfault.com/questions/9708/what-is-a-pem-file-and-how-does-it-differ-from-other-openssl-generated-key-file</p>
</blockquote>
<p>Too many standards as it happens. In the end, all of these are different ways to encode <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/ASN.1">Abstract Syntax Notation 1 (ASN.1)</a> formatted data — which happens to be the format x509 certificates are defined in — in machine-readable ways. (X.509是公钥基础设施（PKI）的标准格式。<strong><a target="_blank" rel="noopener" href="https://www.racent.com/ssl">X.509证书</a></strong>就是基于国际电信联盟（ITU）制定的X.509标准的数字证书。X.509证书主要用于识别互联网通信和计算机网络中的身份，保护数据传输安全。X.509证书无处不在，比如我们每天使用的网站、移动应用程序、电子文档以及连接的设备等都有它的身影。X.509证书的结构优势在于它是由公钥和私钥组成的密钥对而构建的 X.509标准基于一种被称为抽象语法表示法 (ASN.1)的接口描述语言，这种接口描述语言定义了可以以跨平台方式序列化和反序列化的数据结构。利用ASN，X.509证书格式可以使用公钥和私钥来加密和解密信息。)</p>
<ul>
<li><strong>.csr</strong> - This is a Certificate Signing Request. Some applications can generate these for submission to certificate-authorities. The actual format is PKCS10 which is defined in <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc2986">RFC 2986</a>. It includes some/all of the key details of the requested certificate such as subject, organization, state, whatnot, as well as the <em>public key</em> of the certificate to get signed. <strong>These get signed by the CA and a certificate is returned</strong>. The returned certificate is the public <em>certificate</em> (which includes the public key but not the private key), which itself can be in a couple of formats.</li>
<li><strong>.pem</strong> - Defined in RFC <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc1422">1422</a> (part of a series from <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc1421">1421</a> through <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc1424">1424</a>) this is a container format that may include just the public certificate (such as with Apache installs, and CA certificate files <code>/etc/ssl/certs</code>), or may include an entire certificate chain including public key, private key, and root certificates. Confusingly, it may also encode a CSR (e.g. as used <a target="_blank" rel="noopener" href="https://jamielinux.com/docs/openssl-certificate-authority/create-the-intermediate-pair.html">here</a>) as the PKCS10 format can be translated into PEM. The name is from <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Privacy-enhanced_Electronic_Mail">Privacy Enhanced Mail (PEM)</a>, a failed method for secure email but the container format it used lives on, and <strong>is a base64 translation of the x509 ASN.1 keys.</strong></li>
<li><strong>.key</strong> - This is a (usually) PEM formatted file containing just the private-key of a specific certificate and is merely a conventional name and not a standardized one. In Apache installs, this frequently resides in <code>/etc/ssl/private</code>. The rights on these files are very important, and some programs will refuse to load these certificates if they are set wrong.</li>
<li><strong>.pkcs12 .pfx .p12</strong> - Originally defined by RSA in the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/PKCS">Public-Key Cryptography Standards</a> (abbreviated PKCS), the "12" variant was originally enhanced by Microsoft, and later submitted as <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc7292">RFC 7292</a>. This is a password-protected container format that contains both public and private certificate pairs. Unlike .pem files, this container is fully encrypted. Openssl can turn this into a .pem file with both public and private keys: <code>openssl pkcs12 -in file-to-convert.p12 -out converted-file.pem -nodes</code></li>
</ul>
<p>A few other formats that show up from time to time:</p>
<ul>
<li><strong>.der</strong> - A way to encode ASN.1 syntax in binary, a .pem file is just a Base64 encoded .der file. OpenSSL can convert these to .pem (<code>openssl x509 -inform der -in to-convert.der -out converted.pem</code>). Windows sees these as Certificate files. By default, Windows will export certificates as .DER formatted files with a different extension. Like...</li>
<li><strong>.cert .cer .crt</strong> - A .pem (or rarely .der) formatted file with a different extension, one that is recognized by Windows Explorer as a certificate, which .pem is not.</li>
<li><strong>.p7b .keystore</strong> - Defined in <a target="_blank" rel="noopener" href="https://www.rfc-editor.org/rfc/rfc2315">RFC 2315</a> as PKCS number 7, this is a format used by Windows for certificate interchange. Java understands these natively, and often uses <code>.keystore</code> as an extension instead. Unlike .pem style certificates, this format has a <em>defined</em> way to include certification-path certificates.</li>
<li><strong>.crl</strong> - A certificate revocation list. Certificate Authorities produce these as a way to de-authorize certificates before expiration. You can sometimes download them from CA websites.</li>
</ul>
<hr />
<p>In summary, there are four different ways to present certificates and their components:</p>
<ul>
<li><strong>PEM</strong> - Governed by RFCs, used preferentially by open-source software because it is text-based and therefore less prone to translation/transmission errors. It can have a variety of extensions (.pem, .key, .cer, .cert, more)</li>
<li><strong>PKCS7</strong> - An open standard used by Java and supported by Windows. Does not contain private key material.</li>
<li><strong>PKCS12</strong> - A Microsoft private standard that was later defined in an RFC that provides enhanced security versus the plain-text PEM format. This can contain private key and certificate chain material. Its used preferentially by Windows systems, and can be freely converted to PEM format through use of openssl.</li>
<li><strong>DER</strong> - The parent format of PEM. It's useful to think of it as a binary version of the base64-encoded PEM file. Not routinely used very much outside of Windows.</li>
</ul>
<blockquote>
<p>https://www.howtogeek.com/devops/what-is-a-pem-file-and-how-do-you-use-it/</p>
</blockquote>
<p>PEM is a container file format often used to store cryptographic keys. It's used for many different things, as it simply defines the structure and encoding type of the file used to store a bit of data.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-----BEGIN &lt;type&gt;-----</span><br><span class="line">something encrypted by base64</span><br><span class="line">-----END &lt;type&gt;-----</span><br><span class="line"># 每个 pem 文件可能有多个这种块</span><br></pre></td></tr></table></figure>
<p>pem in ssl</p>
<ul>
<li>The end-user certificate, which is assigned to your domain name by a certificate authority (CA). This is the file you use in nginx and Apache to encrypt HTTPS.</li>
<li>Up to four optional intermediate certificates, given to smaller certificate authorities by higher authorities.</li>
<li>The root certificate, the highest certificate on the chain, which is self-signed by the primary CA.</li>
</ul>
<h2 id="letsencrypt">letsencrypt</h2>
<p>以 letsencrypt 的 certbot 签发证书时(letsencrypt 是一个证书颁发机构)</p>
<ul>
<li><code>cert.pem</code> is the end-user certificate.</li>
<li><code>chain.pem</code> is the rest of the chain; in this case, it's only LetsEncrypt's root certificate.</li>
<li><code>fullchain.pem</code> is <code>cert.pem</code> and <code>chain.pem</code> combined. This is the file passed to <strong>nginx</strong> with the <code>ssl_certificate</code> directive.</li>
<li><code>privkey.pem</code> is an RSA private key generated alongside the certificate.</li>
</ul>
<p>nginx 设置</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">ssl_certificate</span> /etc/letsencrypt/live/yourdomain/fullchain.pem;</span><br><span class="line"><span class="attribute">ssl_certificate_key</span> /etc/letsencrypt/live/yourdomain/privkey.pem;</span><br></pre></td></tr></table></figure>
<h2 id="客户端与服务端设置">客户端与服务端设置</h2>
<p>服务端</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -----BEGIN PRIVATE KEY-----</span></span><br><span class="line">openssl genrsa -out localhost-key.pem 2048</span><br><span class="line"><span class="comment"># -----BEGIN CERTIFICATE-----</span></span><br><span class="line">openssl req -new -x509 -sha256 -key localhost-key.pem -out localhost.pem -days 365</span><br><span class="line"><span class="comment"># 生成文件?</span></span><br></pre></td></tr></table></figure>
<p>A PEM encoded file includes Base64 data. The private key is prefixed with a "-----BEGIN PRIVATE KEY-----" line and postfixed with an "-----END PRIVATE KEY-----". Certificates are prefixed with a "-----BEGIN CERTIFICATE-----" line and postfixed with an "-----END CERTIFICATE-----" line. Text outside the prefix and postfix lines is ignored and can be used for metadata.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Read SSL certificate and key files</span></span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  <span class="attr">key</span>: fs.<span class="title function_">readFileSync</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;localhost-key.pem&quot;</span>)),</span><br><span class="line">  <span class="attr">cert</span>: fs.<span class="title function_">readFileSync</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;localhost.pem&quot;</span>)),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create HTTPS server</span></span><br><span class="line"><span class="keyword">const</span> server = https.<span class="title function_">createServer</span>(options, app);</span><br><span class="line"></span><br><span class="line">server.<span class="title function_">listen</span>(port, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`App listening on https://localhost:<span class="subst">$&#123;port&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>客户端</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -----BEGIN ENCRYPTED PRIVATE KEY-----</span></span><br><span class="line"><span class="comment"># -----BEGIN CERTIFICATE----- 客户端证书一般是可选的?</span></span><br><span class="line">openssl req -x509 -newkey rsa:2048 -keyout keytmp.pem -out cert.pem -days 365</span><br><span class="line"><span class="comment"># -----BEGIN PRIVATE KEY-----</span></span><br><span class="line">openssl rsa -<span class="keyword">in</span> keytmp.pem -out key.pem</span><br><span class="line"><span class="comment"># 生成文件</span></span><br><span class="line"><span class="comment"># 修改 package.json script</span></span><br><span class="line"><span class="string">&quot;start&quot;</span>: <span class="string">&quot;export HTTPS=true&amp;&amp;SSL_CRT_FILE=cert.pem&amp;&amp;SSL_KEY_FILE=key.pem react-scripts start&quot;</span>,</span><br><span class="line"></span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
<h2 id="报错">报错</h2>
<p>net::ERR_CERT_COMMON_NAME_INVALID "TypeError: Failed to fetchat https://localhost:3000/static/js/bundle.js:437:23at new Promise (<anonymous>)at get_first_article_id_by_order (https://localhost:3000/static/js/bundle.js:436:10)at show_more (https://localhost:3000/static/js/bundle.js:780:97)at https://localhost:3000/static/js/bundle.js:790:5at commitHookEffectListMount (https://localhost:3000/static/js/bundle.js:55244:30)at commitPassiveMountOnFiber (https://localhost:3000/static/js/bundle.js:56737:17)at commitPassiveMountEffects_complete (https://localhost:3000/static/js/bundle.js:56709:13)at commitPassiveMountEffects_begin (https://localhost:3000/static/js/bundle.js:56699:11)at commitPassiveMountEffects (https://localhost:3000/static/js/bundle.js:56689:7)"</p>
<p>mkcert is a simple tool for making locally-trusted development certificates. It requires no configuration. <figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">mkcert -install</span><br></pre></td></tr></table></figure></p>
<h2 id="解决方法">解决方法</h2>
<ol type="1">
<li>客户端服务端创建证书(如上所示)</li>
<li>在服务端 127.0.0.1:8000 打开浏览器, 导出证书, 加入本地钥匙串证书, 信任该证书</li>
<li>mkcert -install</li>
<li>访问成功</li>
</ol>
<p>mkcert 创建证书如下 <img src="https://raw.githubusercontent.com/SinosGray/picgo/master/test/202401281106731.png" alt="image-20240128110602134" /></p>
<h1 id="cookie">cookie</h1>
<h2 id="动机">动机</h2>
<p>不希望总是由其服务器保存事务状态，而要求网景将状态存储在用户计算机</p>
<h2 id="组成">组成</h2>
<ol type="1">
<li>名；</li>
<li>值；</li>
<li>各种属性。</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io">Sinos</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://sinos_wei.gitee.io/2023/07/a6f2ba33bf73.html">https://sinos_wei.gitee.io/2023/07/a6f2ba33bf73.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/let/">let</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a><a class="post-meta__tags" href="/tags/json/">json</a><a class="post-meta__tags" href="/tags/dist/">dist</a><a class="post-meta__tags" href="/tags/console/">console</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/00000007.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/ebd254564c58.html" title="js_interview"><img class="cover" src="/img/cover/00000085.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">js_interview</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/f05961026253.html" title="数据结构"><img class="cover" src="/img/cover/00000074.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">数据结构</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/07/ebd254564c58.html" title="js_interview"><img class="cover" src="/img/cover/00000085.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">js_interview</div></div></a></div><div><a href="/2023/03/8e79e78184fa.html" title="rust"><img class="cover" src="/img/cover/IMG_2144.JPG" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">rust</div></div></a></div><div><a href="/2023/07/dd0ba91b15ab.html" title="code-review"><img class="cover" src="/img/cover/00000083.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-21</div><div class="title">code-review</div></div></a></div><div><a href="/2023/08/ffc01122c09c.html" title="js-test"><img class="cover" src="/img/cover/00000197.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="fas fa-history fa-fw"></i> 2023-08-19</div><div class="title">js-test</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Sinos</div><div class="author-info__description">己所不欲, 勿施于人</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">59</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">177</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SinosGray"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/SinosGray" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1143474942@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="http://8.130.42.149:5230" target="_blank" title="memo"><i class="fab fa-heart"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#typescript"><span class="toc-number">1.</span> <span class="toc-text">typescript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.1.</span> <span class="toc-text">关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%96%E9%83%A8%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">外部文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#javascript"><span class="toc-number">2.</span> <span class="toc-text">javascript</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.</span> <span class="toc-text">数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.2.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">2.3.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this"><span class="toc-number">2.4.</span> <span class="toc-text">this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%8D%E7%94%9F%E5%86%85%E5%AE%B9"><span class="toc-number">2.4.1.</span> <span class="toc-text">衍生内容</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">2.5.</span> <span class="toc-text">类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for"><span class="toc-number">2.6.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#array"><span class="toc-number">2.7.</span> <span class="toc-text">array</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#json"><span class="toc-number">3.</span> <span class="toc-text">json</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#html"><span class="toc-number">4.</span> <span class="toc-text">html</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#tips"><span class="toc-number">5.</span> <span class="toc-text">tips</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#async-await-promise"><span class="toc-number">5.1.</span> <span class="toc-text">async await promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">5.2.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#require-vs.-import-in-javascript"><span class="toc-number">5.3.</span> <span class="toc-text">Require vs. Import in JavaScript</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#commonjs-esmodule"><span class="toc-number">5.4.</span> <span class="toc-text">commonjs esmodule</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#var-vs.-let-vs-const"><span class="toc-number">5.5.</span> <span class="toc-text">var vs. let vs const</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">5.5.1.</span> <span class="toc-text">不存在变量提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA"><span class="toc-number">5.5.2.</span> <span class="toc-text">暂时性死区</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#is"><span class="toc-number">5.6.</span> <span class="toc-text">&#x3D;&#x3D; &#x3D;&#x3D;&#x3D; is</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#arrow-func"><span class="toc-number">5.7.</span> <span class="toc-text">arrow func &#x3D;&gt;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%8F%8C%E5%BC%95%E5%8F%B7-%E5%8F%8D%E5%BC%95%E5%8F%B7"><span class="toc-number">5.8.</span> <span class="toc-text">单双引号 反引号</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A"><span class="toc-number">6.</span> <span class="toc-text">名词解释</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#esmascripts"><span class="toc-number">7.</span> <span class="toc-text">ESMAscripts</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-abandonededit"><span class="toc-number">7.0.1.</span> <span class="toc-text">4th Edition (abandoned)[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2009edit"><span class="toc-number">7.0.2.</span> <span class="toc-text">5th Edition – ECMAScript 2009[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2015edit"><span class="toc-number">7.0.3.</span> <span class="toc-text">6th Edition – ECMAScript 2015[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2016edit"><span class="toc-number">7.0.4.</span> <span class="toc-text">7th Edition – ECMAScript 2016[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2017edit"><span class="toc-number">7.0.5.</span> <span class="toc-text">8th Edition – ECMAScript 2017[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2018edit"><span class="toc-number">7.0.6.</span> <span class="toc-text">9th Edition – ECMAScript 2018[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2019edit"><span class="toc-number">7.0.7.</span> <span class="toc-text">10th Edition – ECMAScript 2019[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2020edit"><span class="toc-number">7.0.8.</span> <span class="toc-text">11th Edition – ECMAScript 2020[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2021edit"><span class="toc-number">7.0.9.</span> <span class="toc-text">12th Edition – ECMAScript 2021[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2022edit"><span class="toc-number">7.0.10.</span> <span class="toc-text">13th Edition – ECMAScript 2022[edit]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#th-edition-ecmascript-2023edit"><span class="toc-number">7.0.11.</span> <span class="toc-text">14th Edition – ECMAScript 2023[edit]</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#es6"><span class="toc-number">8.</span> <span class="toc-text">es6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#spread-op-..."><span class="toc-number">8.1.</span> <span class="toc-text">spread op ...</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#symbol"><span class="toc-number">8.2.</span> <span class="toc-text">Symbol</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set"><span class="toc-number">8.3.</span> <span class="toc-text">Set</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-number">8.4.</span> <span class="toc-text">Map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#proxy"><span class="toc-number">8.5.</span> <span class="toc-text">proxy</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reflect"><span class="toc-number">8.6.</span> <span class="toc-text">Reflect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#promise"><span class="toc-number">8.7.</span> <span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iterator"><span class="toc-number">8.8.</span> <span class="toc-text">iterator</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#immer"><span class="toc-number">9.</span> <span class="toc-text">IMMER</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#https"><span class="toc-number">10.</span> <span class="toc-text">HTTPS</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#certificate-chain"><span class="toc-number">10.1.</span> <span class="toc-text">certificate chain</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pem-%E6%96%87%E4%BB%B6"><span class="toc-number">10.2.</span> <span class="toc-text">pem 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#letsencrypt"><span class="toc-number">10.3.</span> <span class="toc-text">letsencrypt</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.4.</span> <span class="toc-text">客户端与服务端设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%A5%E9%94%99"><span class="toc-number">10.5.</span> <span class="toc-text">报错</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="toc-number">10.6.</span> <span class="toc-text">解决方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cookie"><span class="toc-number">11.</span> <span class="toc-text">cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%9C%BA"><span class="toc-number">11.1.</span> <span class="toc-text">动机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">11.2.</span> <span class="toc-text">组成</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/a6f2ba33bf73.html" title="ts js html"><img src="/img/cover/00000007.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ts js html"/></a><div class="content"><a class="title" href="/2023/07/a6f2ba33bf73.html" title="ts js html">ts js html</a><time datetime="2024-03-21T10:28:18.843Z" title="Updated 2024-03-21 18:28:18">2024-03-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/149566d76407.html" title="为什么这么设计"><img src="/img/cover/559805%202.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="为什么这么设计"/></a><div class="content"><a class="title" href="/2023/12/149566d76407.html" title="为什么这么设计">为什么这么设计</a><time datetime="2024-03-16T14:01:27.384Z" title="Updated 2024-03-16 22:01:27">2024-03-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/e6a15612f4ba.html" title="react"><img src="/img/cover/00000106.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="react"/></a><div class="content"><a class="title" href="/2024/01/e6a15612f4ba.html" title="react">react</a><time datetime="2024-03-16T10:50:18.214Z" title="Updated 2024-03-16 18:50:18">2024-03-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/1d8ca121605c.html" title="计算机网络"><img src="/img/cover/IMG_3288.JPG" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络"/></a><div class="content"><a class="title" href="/2023/05/1d8ca121605c.html" title="计算机网络">计算机网络</a><time datetime="2024-03-16T10:49:10.160Z" title="Updated 2024-03-16 18:49:10">2024-03-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/02/5806ce248c33.html" title="Xcode swift"><img src="/img/cover/00000084.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Xcode swift"/></a><div class="content"><a class="title" href="/2020/02/5806ce248c33.html" title="Xcode swift">Xcode swift</a><time datetime="2024-03-16T10:49:06.401Z" title="Updated 2024-03-16 18:49:06">2024-03-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Sinos</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>